(self.webpackChunktogo_var=self.webpackChunktogo_var||[]).push([[474],{550:function(e,t,i){var a={"./GRCh37/karyotype.tsv":[1298,298],"./GRCh38/karyotype.tsv":[1,1]};function n(e){if(!i.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],n=t[0];return i.e(t[1]).then(function(){return i.t(n,23)})}n.keys=function(){return Object.keys(a)},n.id=550,e.exports=n},441:function(e,t,i){"use strict";i.d(t,{A:function(){return n}});var a=i(5833);class n{constructor(e){this.elm=e,a.storeManager.bind("appStatus",this)}appStatus(e){if("searching"===e)this.elm.classList.remove("-hidden");else this.elm.classList.add("-hidden")}}},2572:function(e,t,i){"use strict";i.d(t,{A:function(){return p}});var a=i(3522),n=i(1439),s=i(6215),o=i.n(s),r=i(2191);class l extends n.default{constructor(e,t,i="and",a=[],n=null,s=!1){super(r.CONDITION_ITEM_TYPE.group,e,t,n),this._elm.classList.add("advanced-search-condition-group-view"),this._isRoot=s,s&&this._elm.classList.add("-root"),this._elm.dataset.numberOfChild=a.length,this._elm.innerHTML='<div class="logical-operator-switch"></div>\n    <div class="container"></div>',this._logicalOperatorSwitch=this._elm.querySelector(":scope > .logical-operator-switch"),this._container=this._elm.querySelector(":scope > .container");for(const e of a)this._container.append(e.elm),e.parentView=this;this._logicalOperatorSwitch.dataset.operator=i,s||this._elm.addEventListener("click",this._toggleSelecting.bind(this)),this._logicalOperatorSwitch.addEventListener("click",e=>{e.stopImmediatePropagation(),this._logicalOperatorSwitch.dataset.operator={and:"or",or:"and"}[this._logicalOperatorSwitch.dataset.operator],this._doneEditing()}),this._mutationObserver=this._defineObserveConditions()}_doneEditing(){this._builder.changeCondition()}maketToolbar(){const e=document.createElement("nav");return this._elm.append(e),e}addNewConditionItem(e,t,i=null){return new(o())(this._builder,this,e,t,i)}addNewConditionGroup(e,t){return new l(this._builder,this,"or",e,t)}ungroup(){const e=Array.from(this._container.querySelectorAll(":scope > .advanced-search-condition-view"));this.parentView.addConditionViews(e,this.elm),this.remove()}addConditionViews(e,t){for(const i of e)this._container.insertBefore(i,t)}removeConditionView(e){this._container.removeChild(e.elm)}remove(){this._mutationObserver.disconnect(),super.remove()}_defineObserveConditions(){const e=new MutationObserver(function(e){for(const t of e)if("childList"===t.type){const e=this._numberOfChild;this._elm.dataset.numberOfChild=e,!this._isRoot&&e<=1&&this.ungroup()}}.bind(this));return e.observe(this._container,{attributes:!1,childList:!0,subtree:!1}),e}get query(){const e=Array.from(this._container.querySelectorAll(":scope > .advanced-search-condition-view"));switch(this._numberOfChild){case 0:return{};case 1:return e[0].delegate.query;default:return{[this._logicalOperatorSwitch.dataset.operator]:e.map(e=>e.delegate.query)}}}get container(){return this._container}get childViews(){return Array.from(this._container.childNodes).map(e=>e.delegate)}get _numberOfChild(){return this._container.querySelectorAll(":scope > .advanced-search-condition-view").length}}var c=i(8161);class d{constructor(e,t){this._delegate=e,t.classList.add("advanced-search-toolbar");t.innerHTML=`\n    <ul>\n      <li class="-haschild">\n        <p>Add condition</p>\n        <ul>\n          ${Object.keys(c.ADVANCED_CONDITIONS).map((e,t)=>`\n          <li class="command" data-command="add-condition" data-condition="${e}" data-shortcut="${t+1}">\n            <p>${c.ADVANCED_CONDITIONS[e].label}</p>\n            <small class="shortcut"><span class="char -command"></span>${t+1}</small>\n          </li>\n          `).join("")}\n        </ul>\n      </li>\n      ${[{command:"group",label:"Group",shortcut:[71]},{command:"ungroup",label:"Ungroup",shortcut:[16,71]},{command:"delete",label:"Delete",shortcut:[46]}].map(e=>`\n      <li class="command" data-command="${e.command}">\n        <p>${e.label}<small class="shortcut"><span class="char -command"></span>${String.fromCharCode(...e.shortcut)}</small></p>\n      </li>\n      `).join("")}\n     \n    </ul>\n    `,t.querySelectorAll(".command").forEach(e=>{e.addEventListener("click",t=>{switch(t.stopImmediatePropagation(),e.dataset.command){case"add-condition":this._delegate.addCondition(e.dataset.condition,t.detail);break;case"group":this._delegate.group();break;case"ungroup":this._delegate.ungroup();break;case"copy":this._delegate.copy();break;case"edit":this._delegate.edit();break;case"delete":this._delegate.delete()}})})}canSearch(e){e?this._searchButton.classList.remove("-disabled"):this._searchButton.classList.add("-disabled")}}var h=i(7068);class u{constructor(e,t){this._builder=t,this._selectionArea=new h.A({class:"selection-area",boundaries:["#AdvancedSearchBuilderView"],selectables:["#AdvancedSearchBuilderView > .inner > .advanced-search-condition-group-view.-root > .container .advanced-search-condition-group-view","#AdvancedSearchBuilderView > .inner > .advanced-search-condition-group-view.-root > .container .advanced-search-condition-item-view"],startareas:["html"],overlap:"invert",singleTap:{allow:!1}}),this._selectionArea.disable()}getSelectingConditionViews(){const e=this._selectionArea.getSelection();if(e.length>0){const t=Array.from(e[0].parentNode.childNodes);e.sort((e,i)=>t.indexOf(e)-t.indexOf(i))}return e.map(e=>e.delegate)}deselectAllConditions(){for(const e of this._selectionArea.getSelection())e.delegate.deselect();this._selectionArea.clearSelection()}selectConditionView(e,t=!0){t&&this.deselectAllConditions();const i=this.getSelectingConditionViews(),a=e.siblingElms;i.forEach(e=>{-1===a.indexOf(e.elm)&&this.deselectConditionView(e)}),e.select(),this._selectionArea.select(e.elm),this._selectionArea.keepSelection(),this._builder.selectedConditionViews(this._selectionArea.getSelection().map(e=>e.delegate))}deselectConditionView(e){e.deselect(),this._selectionArea.deselect(e.elm),this._builder.selectedConditionViews(this._selectionArea.getSelection().map(e=>e.delegate))}}class p{constructor(e){this._elm=e,this._container=e.querySelector(":scope > .inner"),this._rootGroup=new l(this,this,"and",[],null,!0),this._toolbar=new d(this,this._rootGroup.maketToolbar()),this._defineEvents(),this._selection=new u(this._rootGroup.elm,this)}selectedConditionViews(e){let t=!1,i=!1;1===e.length&&(t=e[0].type===r.CONDITION_ITEM_TYPE.group,i=e[0].type===r.CONDITION_ITEM_TYPE.condition),this._elm.dataset.canDelete=e.length>0,this._elm.dataset.canGroup=e.length>1&&e[0].siblingElms.length>e.length,this._elm.dataset.canUngroup=t,this._elm.dataset.canCopy=i}changeCondition(){this._rootGroup.query;this.search()}group(){const e=this._selection.getSelectingConditionViews(),t=e[0].parentView,i=t.childViews;let a=1/0,n=null;e.forEach(e=>{const t=i.indexOf(e);t<a&&(a=t,n=e.elm)});const s=t.addNewConditionGroup(e,n);this._selection.selectConditionView(s,!0),this.changeCondition()}ungroup(){const e=this._selection.getSelectingConditionViews();e.forEach(e=>{this._selection.deselectConditionView(e)}),e[0].ungroup(),this.changeCondition()}delete(e){const t=e??this._selection.getSelectingConditionViews();for(const e of t)e.remove(),this._selection.deselectConditionView(e);this.changeCondition()}search(){const e=this._rootGroup.query;(0,a.setAdvancedSearchCondition)(e)}addCondition(e,t){const i=this._selection.getSelectingConditionViews(),a=i.length>0?i[0]:this._rootGroup;switch(this._selection.deselectAllConditions(),a.type){case r.CONDITION_ITEM_TYPE.condition:break;case r.CONDITION_ITEM_TYPE.group:a.addNewConditionItem(e,t)}}_defineEvents(){let e,t;this._elm.addEventListener("mousedown",i=>{[e,t]=[i.x,i.y]}),this._elm.addEventListener("click",i=>{Math.abs(e-i.x)>2||Math.abs(t-i.y)>2||(i.stopImmediatePropagation(),this._selection.deselectAllConditions())})}get elm(){return this._elm}get container(){return this._container}get selection(){return this._selection}}},3366:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var a=i(5833),n=i(3522);class s{constructor(e,t,i,n){this._no=t,this._map=i,this._elm=e,this._elm.innerHTML=`\n      <div class="upper">\n        <p class="no">${this._no}</p>\n      </div>\n      <div class="lower">\n        <div class="selectedregion"></div>\n        <div class="filteredregion"></div>\n        <svg class="chromosome"></svg>\n        <div class="displayregion"></div>\n      </div>\n    `,this._filteredRegion=this._elm.querySelector(".lower > .filteredregion"),this._displayRegion=this._elm.querySelector(".lower > .displayregion"),this._selectedRegion=this._elm.querySelector(".lower > .selectedregion");const s=i.reduce((e,t)=>0===e.length||e[e.length-1].band!==t.band?(e.push({band:t.band,start:t.start,end:t.end}),e):(e[e.length-1].end=t.end,e),[]);this._length=i[i.length-1].end,this._svg=this._elm.querySelector("svg.chromosome");const o=(e.offsetHeight-e.querySelector(".upper").offsetHeight-10)*(this._length/n),r=o/this._length;this._svg.style.height=`${o+10}px`;let l='\n      <defs>\n        <lineargradient id="chromosome-gneg">\n          <stop offset="0" stop-color="#A6A6A6"/>\n          <stop offset="0.33" stop-color="#FFFFFF"/>\n          <stop offset="0.67" stop-color="#FFFFFF"/>\n          <stop offset="1" stop-color="#A6A6A6"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos25">\n          <stop offset="0" stop-color="#B39BB3"/>\n          <stop offset="0.33" stop-color="#EDCEED"/>\n          <stop offset="0.67" stop-color="#EDCEED"/>\n          <stop offset="1" stop-color="#B39BB3"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos50">\n          <stop offset="0" stop-color="#AB78AB"/>\n          <stop offset="0.33" stop-color="#DA9CDA"/>\n          <stop offset="0.67" stop-color="#DA9CDA"/>\n          <stop offset="1" stop-color="#AB78AB"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos75">\n          <stop offset="0" stop-color="#9C539C"/>\n          <stop offset="0.33" stop-color="#C86BC8"/>\n          <stop offset="0.67" stop-color="#C86BC8"/>\n          <stop offset="1" stop-color="#9C539C"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos100">\n          <stop offset="0" stop-color="#8F2B8F"/>\n          <stop offset="0.33" stop-color="#B53AB5"/>\n          <stop offset="0.67" stop-color="#B53AB5"/>\n          <stop offset="1" stop-color="#8F2B8F"/>\n        </lineargradient>\n        <lineargradient id="chromosome-stalk">\n          <stop offset="0" stop-color="#6e6e6e"/>\n          <stop offset="0.33" stop-color="#8F8F8F"/>\n          <stop offset="0.67" stop-color="#8F8F8F"/>\n          <stop offset="1" stop-color="#6e6e6e"/>\n        </lineargradient>\n        <lineargradient id="chromosome-acen">\n          <stop offset="0" stop-color="#383838"/>\n          <stop offset="0.33" stop-color="#444444"/>\n          <stop offset="0.67" stop-color="#444444"/>\n          <stop offset="1" stop-color="#383838"/>\n        </lineargradient>\n      </defs>\n    ';for(const e of this._map)l+=`\n      <g\n        class="subband"\n        data-band="${e.band}"\n        data-sub-band="${e.subBand}"\n        data-start="${e.start}"\n        data-end="${e.end}"\n        >\n        <title>${e.subBand}</title>\n        <rect\n          class="subbandrect ${e.stainType}"\n          x="0"\n          y="${Math.floor(5+e.start*r)}"\n          height="${Math.ceil((e.end-e.start)*r)}"\n          width="12"\n        />\n      </g>`;for(const e of s)l+=`\n      <g\n        class="band"\n        data-band="${e.band}"\n        data-start="${e.start}"\n        data-end="${e.end}"\n        transform="translate(16.5, ${5+e.start*r-.5})"\n        >\n        <text x="8" y="${(e.end-e.start)*r*.5+3}" class="bandtext">${e.band}</text>\n        <path d="M0,1 V${(e.end-e.start)*r-1} M0,${Math.round((e.end-e.start)*r*.5)} H8" class="line" />\n      </g>\n      `;this._svg.innerHTML=l+"</g>",a.storeManager.bind("displayingRegionsOnChromosome",this),this._elm.querySelector(":scope > .upper > .no").addEventListener("click",()=>{this._selectBand(this._no,1,this._length)}),this._subbands=Array.from(this._svg.querySelectorAll("g.subband")),this._subbands.forEach(e=>{e.addEventListener("click",()=>{this._selectBand(this._no,e.dataset.start,e.dataset.end)})}),this._bands=this._svg.querySelectorAll("g.band"),this._bands.forEach(e=>{if(e.dataset.start){const[t,i]=[+e.dataset.start,+e.dataset.end],a=this._subbands.filter(e=>t<=+e.dataset.start&&+e.dataset.end<=i);e.addEventListener("click",()=>{this._selectBand(this._no,e.dataset.start,e.dataset.end)}),e.addEventListener("mouseenter",()=>{a.forEach(e=>e.classList.add("-hover"))}),e.addEventListener("mouseleave",()=>{a.forEach(e=>e.classList.remove("-hover"))})}}),this._svg.querySelector}_selectBand(e,t,i){switch(a.storeManager.getData("searchMode")){case"simple":(0,n.setSimpleSearchCondition)("term",`${e}:${t}-${i}`);break;case"advanced":document.getElementById("AdvancedSearchBuilderView").querySelector(':scope > .inner > .advanced-search-condition-group-view.-root > .advanced-search-toolbar > ul > li > ul > li[data-condition="location"]').dispatchEvent(new CustomEvent("click",{detail:{chr:e,start:t,end:i}}))}}displayingRegionsOnChromosome(e){if(e[this._no]){this._displayRegion.classList.add("-shown");const t=e[this._no],i=(this._svg.clientHeight-10)/this._length,a=t.end-t.start;this._displayRegion.style.top=`${Math.floor(5+t.start*i)}px`,this._displayRegion.style.height=`${Math.ceil(a*i)}px`}else this._displayRegion.classList.remove("-shown")}updateSelectedPositions(e){this._subbands.forEach(t=>{const[i,a]=[+t.dataset.start,+t.dataset.end];let n=0;e.forEach(e=>{n+=this._intersection(e,[i,a])}),n>0?t.classList.add("-selected"):t.classList.remove("-selected")}),this._bands.forEach(t=>{const[i,a]=[+t.dataset.start,+t.dataset.end];let n=0;e.forEach(e=>{n+=this._intersection(e,[i,a])}),n>0?t.classList.add("-selected"):t.classList.remove("-selected")})}_intersection(e,t){return e[0]<=t[1]&&t[1]<=e[1]}get no(){return this._no}}},3096:function(e,t,i){"use strict";i.r(t);t.default=class{constructor(e,t){this._valuesView=e,this._conditionView=t,this._conditionType=t.conditionType}_createElement(e,t){this._el=document.createElement("section"),this._el.classList.add(e),this._el.dataset.conditionType=this._conditionType,this._el.innerHTML=t,this._valuesView.sections.append(this._el),this._body=this._el.querySelector(":scope > .body")}_addValueView(e,t,i=!1,a=!1){const n=i?"":`[data-value="${e}"]`;let s=this._valuesElement.querySelector(`condition-item-value-view${n}`);return s||(s=document.createElement("condition-item-value-view"),s.conditionType=this._conditionType,s.deleteButton=a,this._valuesElement.append(s)),s.label=t,s.value=e,s}_clearValueViews(){this._valueViews.forEach(e=>{e.remove()})}_updateValueViews(e){this._valueViews.forEach(e=>{e.remove()}),this._valuesElement.append(...e)}_removeValueView(e){const t=e?`[data-value="${e}"]`:"",i=this._valuesElement.querySelector(`condition-item-value-view${t}`);i&&i.remove()}get _valuesElement(){return this._valuesView.conditionView.valuesElement}get _valueViews(){return Array.from(this._valuesElement.querySelectorAll(":scope > condition-item-value-view"))}}},4669:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return s}});var a=i(3096),n=i(8161);class s extends a.default{constructor(e,t){super(e,t);const i=n.ADVANCED_CONDITIONS[this._conditionType];this._createElement("checkboxes-editor-view",`\n    <header>Select ${this._conditionType}</header>\n    <div class="buttons">\n      <button class="button-view -weak">Select all</button>\n      <button class="button-view -weak">Clear all</button>\n    </div>\n    <ul class="checkboxes body">${i.values.map(e=>`\n      <li data-value="${e.value}">\n        <label>\n          <input\n          type="checkbox"\n          value="${e.value}"\n          data-label="${e.label}">${e.label}\n        </label>\n      </li>`).join("")}\n    </ul>\n    `),"significance"===this._conditionType&&this._el.querySelector('li[data-value="NC"]').remove(),this._checkboxes=Array.from(this._el.querySelectorAll(":scope > ul > li > label > input")),this._checkboxes.forEach(e=>{e.addEventListener("change",()=>{this._update()})}),this._el.querySelectorAll(":scope > .buttons > button").forEach((e,t)=>{e.addEventListener("click",()=>{this._checkboxes.forEach(e=>e.checked=!t),this._update()})})}keepLastValues(){this._lastValues=Array.from(this._valuesView.conditionView.valuesElement.querySelectorAll(":scope > condition-item-value-view")).map(e=>e.value)}restore(){this._checkboxes.forEach(e=>{const t=this._lastValues.find(t=>t===e.value);e.checked=void 0!==t}),this._update()}get isValid(){return this._checkboxes.some(e=>e.checked)}_update(){this._checkboxes.forEach(e=>{e.checked?this._addValueView(e.value,e.dataset.label):this._removeValueView(e.value)}),this._valuesView.update(this._validate())}_validate(){return this.isValid}}},4233:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=i(3096),n=i(8161),s=i(2191);const o={consequence:!0,disease:!1};n.API_URL;class r extends a.default{constructor(e,t){super(e,t),this._data=this._prepareData(),this._selectionDependedOnParent=o[this._conditionType],this._createElement("columns-editor-view",`\n    <header>Select ${this._conditionType}</header>\n    <div class="body">\n      <div class="columns"></div>\n      <div class="description"></div>\n    </div>`),this._columns=this._body.querySelector(":scope > .columns"),this._description=this._body.querySelector(":scope > .description"),this._drawColumn()}keepLastValues(){this._lastValues=this._data.filter(e=>e.value&&e.checked).map(e=>e.value)}restore(){this._data.forEach(e=>e.checked=-1!==this._lastValues.indexOf(e.value)),this._update()}get isValid(){return this._valueViews.length>0}_prepareData(){switch(this._conditionType){case s.CONDITION_TYPE.consequence:case s.CONDITION_TYPE.dataset:return n.ADVANCED_CONDITIONS[this._conditionType].values.map(e=>Object.assign({checked:!1},e));case s.CONDITION_TYPE.disease:return[]}}_drawColumn(e){this._getItems(e).then(e=>{const t=document.createElement("div");t.classList.add("column"),t.dataset.depth=this._columns.querySelectorAll(":scope > .column").length,this._columns.append(t),t.innerHTML=`\n        <ul>\n          ${e.map(e=>`<li\n              ${e.id?`data-id="${e.id}"`:""}\n              ${e.value?`data-value="${e.value}"`:""}\n              ${e.parent?`data-parent="${e.parent}"`:""}\n            >\n              <label>\n                <input type="checkbox">\n                ${this._conditionType===s.CONDITION_TYPE.dataset?`<span class="dataset-icon" data-dataset="${e.value}"></span>`:""}\n                <span>${e.label}</span>\n              </label>\n              ${void 0===e.children?"":`<div class="arrow" data-id="${e.id}"></div>`}\n            </li>`).join("")}\n        </ul>`;for(const e of t.querySelectorAll(":scope > ul > li > label > input"))e.addEventListener("change",e=>{const t=e.target.closest("li"),i=this._data.find(e=>e.id==t.dataset.id);i.checked=e.target.checked,i.children&&this._updateChildren(i.id,e.target.checked),this._update(i.id)});for(const e of t.querySelectorAll(":scope > ul > li > .arrow"))e.addEventListener("click",e=>{const t=e.target.closest("li");t.parentNode.querySelector(":scope > .-selected")?.classList.remove("-selected");const i=parseInt(t.closest(".column").dataset.depth);for(const e of t.closest(".columns").querySelectorAll(":scope > .column"))parseInt(e.dataset.depth)>i&&e.parentNode.removeChild(e);t.classList.add("-selected"),this._drawColumn(+e.target.dataset.id)});this._update();const i=this._body.scrollWidth-this._body.clientWidth;i>0&&this._body.scrollTo({top:0,left:i,behavior:"smooth"})})}_getItems(e){return new Promise((t,i)=>{if(this._conditionType===s.CONDITION_TYPE.consequence)t(this._data.filter(t=>t.parent===e));else i(new Error("ConditionValueEditorColumns - Not implemented"))})}_updateChildren(e,t){if(!this._selectionDependedOnParent)return;this._data.filter(t=>t.parent==e).forEach(e=>{e.checked=t,this._updateChildren(e.id,t)})}_updateIndeterminate(){const e=t=>{if(!t.children||0===t.children.length)return;let i,a,n=0;switch(t.children.forEach(t=>{const i=this._data.find(e=>e.id===t);i.children?n+=e(i):n+=i.checked}),!0){case 0===n:i=!1,a=!1;break;case n===t.children.length:i=!0,a=!1;break;default:i=!1,a=!0}const s=this._columns.querySelector(`li[data-id="${t.id}"] > label > input`);return s&&(s.checked=i,s.indeterminate=a),i||a};this._data.filter(e=>void 0===e.parent).forEach(t=>e(t))}_update(){this._data.forEach(e=>{const t=this._columns.querySelector(`li[data-id="${e.id}"] > label > input`);t&&(t.checked=e.checked)}),this._updateIndeterminate(),this._data.forEach(e=>{e.value&&(e.checked?this._addValueView(e.value,e.label):this._removeValueView(e.value))}),this._valuesView.update(this._validate())}_validate(){return this.isValid}}},9962:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _}});var a=i(3096),n=i(6337);class s extends n.LitElement{static properties(){return{erorMessage:{type:String}}}constructor(){super(...arguments),this.errorMessage=""}render(){return n.html`
      <div class="err-container">
        <p>${this.errorMessage}</p>
      </div>
    `}}s.styles=n.css`
    p {
      font-size: 2em;
      color: green;
    }
  `,customElements.define("error-modal",s);var o=i(7610),r=i(6214),l=i(7921);const c=new Map;class d extends l.AsyncDirective{constructor(...e){super(...e),this.parent=void 0,this.element=void 0,this.boundingRect=void 0,this.id=void 0,this.role="",this.parentRect=null}render(){return n.nothing}update(e,[{id:t,role:i="",options:a={},heroId:s,scrolledHeroRect:o=null}={}]){return this.id=t,this.role=i,this.heroId=s,this.scrolledHeroRect=o,"hero"===this.role&&this.id!==this.heroId&&"MONDO_0000001"!==this.id&&"dummy"!==this.id&&(c.set(this.id,e.element.getBoundingClientRect()),this.remove()),"hero"===this.role||c.has(this.id)||c.set(this.id,{y:0,x:0,width:0,height:0}),this.options={...this.options,...a},this.element!==e.element&&(this.element=e.element,this.parent=this.element.parentElement||this.element.getRootNode().querySelector(".column")),this.boundingRect&&(this.boundingRect=this.element.getBoundingClientRect()),Promise.resolve().then(()=>this.prepareToFlip()),n.noChange}prepareToFlip(){this.boundingRect||(this.boundingRect=c.has(this.id)?c.get(this.id):this.element.getBoundingClientRect(),c.delete(this.id)),this.flip()}flip(e,t){let i=this.boundingRect;this.id===this.heroId&&(i=this.scrolledHeroRect),this.boundingRect=this.element.getBoundingClientRect();const a=(i?.y||0)-(this.boundingRect?.y||0);if(!a&&!t)return;const n=t=>{t.target===this.element&&(e(t),this.element.removeEventListener("transitionend",n))};this.element.addEventListener("transitionend",n),this.element.animate([{transform:`translate(0, ${a}px)`},{transform:"translate(0,0)"}],this.options)}remove(){this.element.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:`translateY(${this.element.getBoundingClientRect().y+200}px)`}],this.options).onfinish=()=>{c.has(this.id)&&c.delete(this.id),this.element.remove()}}disconnected(){"hero"===this.role&&this.remove(),this.boundingRect=this.element.getBoundingClientRect(),void 0!==this.id&&(c.set(this.id,this.boundingRect),requestAnimationFrame(()=>{c.has(this.id)&&this.remove()}))}}const h=(0,l.directive)(d),u={id:{text:"MONDO",link:"http://purl.obolibrary.org/obo/"},cui:{text:"MedGen",link:"https://www.ncbi.nlm.nih.gov/medgen/"}};class p extends n.LitElement{static get properties(){return{data:{type:Object,state:!0},hidden:{type:Boolean,attribute:!0},id:{type:String,attribute:!0,reflect:!0},mode:{type:String,state:!0},order:{type:String,state:!0},prevRect:{type:Object,state:!0}}}shouldUpdate(){return"dummy"===this.data.id?this.hidden=!0:this.hidden=!1,!0}constructor(){super(),this.data={},this.hidden=!1,this.mode="",this.order="",this.prevRect={x:0,y:0,width:0,height:0},this._skipKeys=["label","children","parents","leaf","root"],this.cardRef=(0,o.createRef)(),this._leftCoinnector=o.createRef,this.leftConnectorClassName="",this.rightConnectorClassName=""}willUpdate(e){"hero"===this.mode?this.data.leaf?this.leftConnectorClassName="-hero-left":(this.data.root||(this.leftConnectorClassName="-hero-left"),this.rightConnectorClassName="-hero-right"):"children"===this.mode?this.leftConnectorClassName=`-${this.mode}-${this.order}`:"parents"===this.mode&&(this.rightConnectorClassName=`-${this.mode}-${this.order}`),this.prevMode=e.get("mode"),"dummy"===this.data.id&&(this.leftConnectorClassName="",this.rightConnectorClassName="")}updated(){const e={duration:500,easing:"ease-out"};if("hero"===this.mode){let t=[{height:`${this.prevRect?.height||0}px`,overflow:"hidden"},{height:`${this.cardRef?.value.getBoundingClientRect().height||0}px`}];t[0].backgroundColor=this.defaultBgColor,t[1].backgroundColor=this.selectedBgColor,this.cardRef.value.animate(t,e)}}firstUpdated(){this.defaultBgColor=getComputedStyle(this.cardRef.value).getPropertyValue("--default-bg-color"),this.selectedBgColor=getComputedStyle(this.cardRef.value).getPropertyValue("--selected-bg-color")}render(){return n.html`
      <div class="card-container">
        <div class="connector ${this.leftConnectorClassName}"></div>
        <div
          ${(0,o.ref)(this.cardRef)}
          class="ontology-card ${this.hidden?"hidden":""} ${"hero"===this.mode?"selected":""}"
        >
          <div class="ontology-card-header">
            <h3>${this.data?.label||"..."}</h3>
            ${"hero"===this.mode?n.html`
                  <div class="table-container">
                    <table>
                      <tbody>
                        ${Object.keys(this.data).filter(e=>!this._skipKeys.includes(e)).map(e=>n.html`
                              <tr>
                                <td class="key">${u[e].text}:</td>
                                <td class="data">
                                  <a
                                    class="hyper-text -external"
                                    href="${u[e].link}${this.data[e]}"
                                    target="_blank"
                                    >${this.data[e]}</a
                                  >
                                </td>
                              </tr>
                            `)}
                      </tbody>
                    </table>
                  </div>
                `:n.nothing}
          </div>
        </div>
        <div class="connector ${this.rightConnectorClassName}"></div>
      </div>
    `}}p.styles=n.css`
    :host {
      display: block;
      position: relative;
      --connector-line: 1px solid #ccc;
      --selected-bg-color: white;
      --default-bg-color: white;
      --selected-border-color: rgb(17, 127, 147);
    }

    .-hero-right:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-hero-left:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-first:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% - min(50%, 15px) + 5px);
      border-left: var(--connector-line);
      bottom: -6px;
      box-sizing: border-box;
    }

    .-children-first:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-last:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(min(50%, 15px) + 6px);
      border-left: var(--connector-line);
      top: -6px;
      box-sizing: border-box;
    }

    .-children-last:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-top: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-mid:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% + 14px);
      border-left: var(--connector-line);
      top: -6px;
      box-sizing: border-box;
    }

    .-children-mid:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-first:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% - min(50%, 15px) + 5px);
      border-right: var(--connector-line);
      bottom: -6px;
      right: 0;
      box-sizing: border-box;
    }

    .-parents-first:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-last:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(min(50%, 15px) + 6px);
      border-right: var(--connector-line);
      top: -6px;
      right: 0;
      box-sizing: border-box;
    }

    .-parents-last:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-top: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-mid:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% + 14px);
      border-right: var(--connector-line);
      top: -6px;
      right: 0;
      box-sizing: border-box;
    }

    .-parents-mid:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-single:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-single:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .ontology-card {
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
      cursor: pointer;
      position: relative;
      width: min(80%, 20rem);
      max-width: 30rem;
      box-sizing: border-box;
      margin-bottom: 6px;
    }

    .ontology-card:hover {
      filter: brightness(0.98);
    }

    h3 {
      display: inline-block;
      text-transform: lowercase;
      margin-top: 0;
      margin-bottom: 0;
    }

    h3:first-letter {
      text-transform: uppercase;
    }

    .card-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
    }

    .hyper-text {
      color: var(--color-key-dark3);
      text-decoration: underline;
    }

    .hyper-text:active,
    .hyper-text:hover {
      color: var(--color-key-dark1);
    }

    .connector {
      position: relative;
      flex-grow: 1;
    }

    .selected {
      background-color: var(--selected-bg-color);
      border-color: var(--selected-border-color);
    }

    .hidden {
      visibility: hidden;
    }

    .table-container {
      max-height: 10rem;
      margin-top: 0.3em;
      overflow-y: auto;
    }
  `,customElements.define("ontology-card",p);class g extends n.LitElement{static get properties(){return{nodes:{type:Array,state:!0},role:{type:String,state:!0},heroId:{type:String,state:!0},scrolledHeroRect:{type:Object,state:!0},animationOptions:{type:Object,state:!0}}}constructor(){super(),this.nodes=[],this.heroId=void 0,this.role="",this.scrolledHeroRect=null,this.animationOptions={}}_handleClick(e){"ONTOLOGY-CARD"===e.target.tagName&&this.dispatchEvent(new CustomEvent("column-click",{detail:{id:e.target.id,role:this.role,rect:e.target.getBoundingClientRect()},bubbles:!0,composed:!0}))}render(){return n.html`
      <div
        class="column"
        @click="${"dummy"===this.nodes[0].id?null:this._handleClick}"
      >
        ${this.nodes.length?n.html`
              ${(0,r.u)(this.nodes,e=>e.id,(e,t)=>n.html`<ontology-card
                    key="${e.id}"
                    id="${e.id}"
                    .data=${e}
                    .mode=${this.role}
                    .prevRect=${this.scrolledHeroRect}
                    .order=${1===this.nodes.length?"single":0===t?"first":t===this.nodes.length-1?"last":"mid"}
                    ${h({id:e.id,heroId:this.heroId,role:this.role,scrolledHeroRect:this.scrolledHeroRect,options:this.animationOptions})}
                  />`)}
            `:n.nothing}
      </div>
    `}}g.styles=n.css`
    :host {
      flex-grow: 1;
      flex-basis: 0;
      display: block;
      position: relative;
    }

    .column {
      height: 100%;

      position: relative;
      overflow-y: auto;
      overflow-x: hidden;
    }

    ontology-card:last-child {
      margin-bottom: 10px;
    }
  `,customElements.define("ontology-column",g);var f=i(582),m=i(8161);class b extends n.LitElement{constructor(){super(),this.flexRef=(0,o.createRef)(),this.clipRef=(0,o.createRef)(),this.nodeRef=(0,o.createRef)(),this.movement="",this.flexWidth=0,this.deltaWidth=0,this.nodeWidth=0,this.gap=0,this.animate=null,this.scrolledRect=null,this.API=new f.cachedAxios(`${m.API_URL}/api/inspect`),this.dataColumns={_parents:[],parents:[],hero:[],children:[],_children:[]},this.animationOptions={duration:500,easing:"ease-in-out"},this._id="",this._columns=["parents","hero","children"],this.data={}}static get properties(){return{data:{type:Object,state:!0},_id:{type:String,attribute:"id"},_columns:{type:Array,state:!0}}}set _id(e){this.data?.id!==e&&(this._loadingStarted(),this.API.get(`/disease?node=${e}`).then(({data:e})=>{this.data=e,this._loadingEnded()}))}willUpdate(e){if(e.has("data")&&e.get("data")&&this.data.id&&e.get("data").id!==this.data.id){if(this.dataColumns._parents=e.get("data")?.parents||[{id:"dummy",label:"dummy"}],this.dataColumns._children=e.get("data")?.children||[{id:"dummy",label:"dummy"}],4===this._columns.length){let e;e=this._columns.includes("_parents")?"left":this._columns.includes("_children")?"right":"","left"===e?this.dataColumns.hero=this.dataColumns._children:"right"===e&&(this.dataColumns.hero=this.dataColumns._parents)}else this.dataColumns.hero=[this.data];this.dataColumns.parents=this.data?.parents||[],this.dataColumns.children=this.data?.children||[]}e.has("_columns")&&(this.nodeWidth=this.nodeRef.value?.getBoundingClientRect().width-(this.nodeRef.value?.getBoundingClientRect().right-this.clipRef.value?.getBoundingClientRect().right)||0,this.gap=(this.clipRef.value?.getBoundingClientRect().width-3*this.nodeWidth)/2,this.flexWidth=4===this._columns.length?this.nodeWidth*this._columns.length+(this._columns.length-1)*this.gap+"px":"100%",this.deltaWidth=this.nodeWidth+this.gap)}firstUpdated(){this.API.get(`/disease?node=${this._id}`).then(({data:e})=>{this.data=e})}_loadingStarted(){this.dispatchEvent(new CustomEvent("loading-started",{bubbles:!0,composed:!0}))}_loadingEnded(){this.data.id&&this.dispatchEvent(new CustomEvent("disease-selected",{detail:{id:this.data.id,label:this.data.label[0].toUpperCase()+this.data.label.slice(1)},bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent("loading-ended",{bubbles:!0,composed:!0}))}_handleClick(e){"parents"!==e.target?.role&&"children"!==e.target?.role||(this.scrolledRect=e.detail?.rect||null,this._loadingStarted(),this.API.get(`/disease?node=${e.detail.id}`).then(({data:t})=>{this.data=t,this._loadingEnded(),this.updateComplete.then(()=>{"children"===e.detail.role?(this.movement="left",this._columns=["_parents","parents","hero","children"]):"parents"===e.detail.role&&(this.movement="right",this._columns=["parents","hero","children","_children"])})}))}updated(){"left"===this.movement?this.animate=this.flexRef.value.animate([{transform:"translateX(0)"},{transform:`translateX(${-this.deltaWidth}px)`}],this.animationOptions):"right"===this.movement&&(this.animate=this.flexRef.value.animate([{transform:`translateX(${-this.deltaWidth}px)`},{transform:"translateX(0)"}],this.animationOptions)),this.animate&&(this.animate.onfinish=()=>{this.movement="",this._columns=["parents","hero","children"],this.animate=null})}render(){return n.html`
      <div class="clip" ${(0,o.ref)(this.clipRef)}>
        <div
          class="flex"
          @column-click="${this._handleClick}"
          style="width: ${this.flexWidth}"
          ${(0,o.ref)(this.flexRef)}
        >
          ${(0,r.u)(this._columns,e=>e,e=>n.html`
                <ontology-column
                  .role="${e}"
                  .nodes="${this.dataColumns[e].length?this.dataColumns[e]:[{id:"dummy",label:"dummy"}]}"
                  ${(0,o.ref)(this.nodeRef)}
                  .heroId="${"hero"===e?this.data.id:void 0}"
                  .scrolledHeroRect="${this.scrolledRect}"
                  .animationOptions="${this.animationOptions}"
                ></ontology-column>
              `)}
        </div>
      </div>
    `}}b.styles=n.css`
    :host {
      font-size: 10px;
      display: block;
      height: 100%;
      position: relative;
    }

    .clip {
      height: 200px;
      overflow: hidden;
      position: relative;
    }

    .flex {
      height: 100%;
      display: flex;
      flex-direction: row;
    }
  `,customElements.define("condition-disease-ontology-view",b);i(3612);const v=`${m.API_URL}/api/search/disease`;class y extends n.LitElement{static get properties(){return{diseaseId:{type:String,reflect:!0},data:{state:!0},loading:{type:Boolean,state:!0}}}constructor(e){super(),this._timer=null,e.appendChild(this),this._valuesElement=e.parentElement.querySelector(":scope > .summary > .values"),this.data=[],this.diseaseId="MONDO_0000001",this.loading=!1}_changeDiseaseEventHadnler(e){e.stopPropagation(),this.diseaseId=e.detail.id,this.dispatchEvent(new CustomEvent("disease-selected",{detail:{id:e.detail.id,label:e.detail.label},bubbles:!0,composed:!0}))}_loadingStartedHandler(e){e.stopPropagation(),this._timer=setTimeout(()=>{this.loading=!0},200)}_loadingEndedHandler(e){e.stopPropagation(),this.loading=!1,this._timer&&(clearInterval(this._timer),this._timer=null)}connectedCallback(){super.connectedCallback(),this.setAttribute("id","ConditionDiseaseSearch")}render(){return n.html`
      <search-field-with-suggestions
        .suggestAPIURL=${v}
        .suggestAPIQueryParam="${"term"}"
        .options="${{valueMappings:{valueKey:"id",labelKey:"label"}}}"
        .placeholder=${"Breast-ovarian cancer, familial 2"}
        @new-suggestion-selected="${this._changeDiseaseEventHadnler}"
      ></search-field-with-suggestions>

      <div class="container">
        ${this.loading?n.html`<div class="loading">
              <span></span>
            </div>`:n.nothing}

        <condition-disease-ontology-view
          ._id="${this.diseaseId}"
          @disease-selected="${this._changeDiseaseEventHadnler}"
          @loading-started="${this._loadingStartedHandler}"
          @loading-ended="${this._loadingEndedHandler}"
        ></condition-disease-ontology-view>
      </div>
    `}createRenderRoot(){return this}}customElements.define("condition-disease-search",y);class _ extends a.default{constructor(e,t){super(e,t),this._data={id:null,label:null},this._createElement("disease-editor-view",`\n    <header>Select ${this._conditionType}</header>\n    <div class="body"></div>\n    `),this._el.classList.add("text-field-editor-view"),this._conditionElem=this._body.querySelector("condition-disease-search")||new y(this._body),this._conditionElem.addEventListener("disease-selected",e=>{e.stopPropagation();const{id:t,label:i}=e.detail;t?(this._data={id:t,label:i},this._addValueView(this._data.id,this._data.label,!0),this._update()):(this._removeValueView(this._data.id),this._data={id:null,label:null},this._update())})}get isValid(){return!!this._data.id}keepLastValues(){this._lastValues={...this._data}}restore(){this._data.id={...this._lastValues},this._update()}_validate(){return this.isValid}_update(){this._valuesView.update(this._validate())}}},3081:function(e,t,i){"use strict";i.r(t);var a=i(3096),n=i(3612),s=i.n(n),o=i(8161);function r(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function l(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var c=new WeakSet;class d extends a.default{constructor(e,t){super(e,t),r(this,c),this._handleSuggestSelect=e=>{this._value=e.detail.id,this._label=e.detail.label,this._addValueView(this._value,this._label,!0,!1),l(c,this,h).call(this)},this._value,this._label,this._createElement("text-field-editor-view",`<header>Search for ${this._conditionType}</header>\n      <div class="body"></div>`),this._searchFieldView=new(s())("BRCA2",`${o.API_URL}/api/search/${this._conditionType}`,"term",this._body,{valueMappings:{valueKey:"id",labelKey:"symbol",aliasOfKey:"alias_of"}}),this._searchFieldView.addEventListener("new-suggestion-selected",this._handleSuggestSelect)}keepLastValues(){let e=this._valuesElement.querySelector("condition-item-value-view");this._lastValue=e?.value||"",this._lastLabel=e?.label||""}restore(){this._addValueView(this._lastValue,this._lastLabel,!0)}get isValid(){return this._valueViews.length>0}}function h(){this._valuesView.update(l(c,this,u).call(this))}function u(){return this.isValid}t.default=d},7459:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return o}});var a=i(5833),n=i(3096);i(6996),i(2191);const s=["",...[...Array(22)].map((e,t)=>t+1+""),"X","Y","MT"];class o extends n.default{constructor(e,t,i){super(e,t),this._createElement("location-editor-view",`\n    <header>Set location</header>\n    <div class="body">\n      <div class="row">\n        <label>\n          <input type="checkbox" name="range-or-position" value="single_position"> Single position\n        </label>\n      </div>\n      <div class="row">\n        <label class="chromosome">\n          <span class="label">Chr.</span>\n          <span class="form">\n            <select>\n              ${s.map(e=>`<option value="${e}">${e}</option>`).join("")}\n            </select>\n          </span>\n          <span class="label">&nbsp;:&nbsp;&nbsp;</span>\n        </label>\n        <label class="position">\n          <span class="form range-inputs-view" data-type="region">\n            <input class="start" type="number" min="1">\n            <span class="line"></span>\n            <input class="end" type="number" min="1">\n          </span>\n        </label>\n      </div>\n    </div>`);const n=this._el.querySelectorAll(":scope > .body > .row");this._chr=n[1].querySelector(":scope > .chromosome > .form > select"),this._rangeInputView=n[1].querySelector(":scope > .position > .range-inputs-view");const o=Array.from(this._rangeInputView.querySelectorAll(":scope > input"));this._start=o.find(e=>e.classList.contains("start")),this._end=o.find(e=>e.classList.contains("end")),this._isWhole=!1,this._el.querySelector(":scope > .body > .row:nth-child(1) > label > input").addEventListener("change",e=>{this._rangeInputView.dataset.type=e.target.checked?"single_position":"region",this._update()}),[this._chr,...o].forEach(e=>{e.addEventListener("change",e=>{this._update(e)})}),this._karyotype=a.storeManager.getData("karyotype"),i&&(this._chr.value=i.chr,this._start.value=+i.start,this._end.value=+i.end,this._update())}keepLastValues(){}restore(){this._update()}search(){this._update()}get isValid(){if(""===this._chr.value)return!1;switch(this._rangeInputView.dataset.type){case"region":return""!==this._start.value&&""!==this._end.value&&+this._start.value<+this._end.value;case"single_position":return""!==this._start.value}}_update(e){const t=this._karyotype.reference,i=this._karyotype.chromosomes[this._chr.value]?.region[t][1];e?.target===this._chr?(this._start.max=i,this._end.max=i,this._isWhole&&(this._end.value=i),""===this._start.value?(this._start.value=1,this._isWhole=!0):this._start.value>i&&(this._start.value=i),(""===this._end.value||this._end.value>i)&&(this._end.value=i,this._isWhole=!0)):this._end.value<i&&(this._isWhole=!1);const a=this._valueViews[0];if(this.isValid){const e=`${this._chr.value}:${this._start.value}${"single_position"===this._rangeInputView.dataset.type?"":`-${this._end.value}`}`;a?(a.label=e,a.value=e):this._addValueView(e,e,!0)}else this._removeValueView();this._valuesView.update(this._validate())}_validate(){return this.isValid}}},1866:function(e,t,i){"use strict";i.r(t);var a=i(3096),n=i(6551),s=i.n(n);function o(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function r(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var l=new WeakSet;class c extends a.default{constructor(e,t){super(e,t),o(this,l),this._createElement("text-field-editor-view",`<header>Search for ${this._conditionType}</header>\n      <div class="body"></div>`),this._searchFieldView=new(s())(this._body,"rs1489251879"),this._searchFieldView.addEventListener("keydown",e=>{if("Enter"===e.key){const e=this._searchFieldView.value;this._searchFieldView.value.trim().length>0&&(this._addValueView(e,e,!1,!0),r(l,this,d).call(this),this._searchFieldView.value="")}}),this._valuesView.conditionView.elm.addEventListener("delete-condition-item",r(l,this,u).bind(this))}keepLastValues(){this._lastValueViews=this._valueViews}restore(){this._updateValueViews(this._lastValueViews)}get isValid(){return this._conditionView.valuesElement.hasChildNodes()}}function d(){this._valuesView.update(r(l,this,h).call(this))}function h(){return this.isValid}function u(e){e.stopPropagation(),this._removeValueView(e.detail),r(l,this,d).call(this)}t.default=c},1439:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}});class a{constructor(e,t,i,a){this._type=e,this._builder=t,this._elm=document.createElement("div"),this._elm.classList.add("advanced-search-condition-view"),this._elm.delegate=this,i.container.insertBefore(this._elm,a)}_toggleSelecting(e){e.stopImmediatePropagation();this._elm.classList.contains("-editing")||(this.isSelecting?this._builder.selection.deselectConditionView(this):this._builder.selection.selectConditionView(this,!1))}select(){this._elm.classList.add("-selected")}deselect(){this._elm.classList.remove("-selected")}remove(){this.parentView.removeConditionView(this)}get elm(){return this._elm}get siblingElms(){return[...this._elm.parentNode.childNodes]}get type(){return this._type}get isSelecting(){return this._elm.classList.contains("-selected")}get parentView(){return this.elm.parentNode.closest(".advanced-search-condition-view").delegate}set parentView(e){this._parentView=e}get depth(){let e=this.parentView,t=0;for(;e;)e=e.parentView,e&&t++;return t}}},6725:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var a=i(8161),n=i(5833);class s{constructor(e){if(this.elm=e,this.bg=e.querySelector(".bg"),"home"===a.PAGE)this.initHome()}typeEscape(e){"Escape"===e.key&&this.close()}open(){this.elm.classList.add("-shown"),n.storeManager.setData("showModal",!0),document.addEventListener("keyup",this.typeEscape.bind(this))}close(){this.elm.classList.remove("-shown"),n.storeManager.setData("showModal",!1),document.removeEventListener("keyup",this.typeEscape.bind(this))}initHome(){n.storeManager.bind("columns",this),document.querySelector("#GlobalHeader > .right > nav.menus-view > .menu-wrapper > .config > .config").addEventListener("click",()=>{this.open()}),this.bg.addEventListener("click",()=>{this.close()});const e=[{constant:a.COLUMNS,storeKey:"columns",container:document.getElementById("ConfSortColumns")}];for(const t of e){let e=localStorage.getItem(t.storeKey);e=e?JSON.parse(e):t.constant.map(e=>{const t=Object.assign({},e);return t.isUsed="type"!==t.id,t}),t.container.innerHTML=e.map(e=>`<li><label><input type="checkbox" value="${e.id}"${e.isUsed?" checked":""}>${e.label}</label></li>`).join(""),t.container.querySelectorAll("li > label > input").forEach(e=>{e.addEventListener("change",e=>{const i=n.storeManager.getData(t.storeKey);i.find(t=>t.id===e.target.value).isUsed=e.target.checked,n.storeManager.setData(t.storeKey,i)})}),n.storeManager.setData(t.storeKey,e)}}columns(e){for(const t of e)this.elm.querySelector(`#ConfSortColumns > li > label > input[value="${t.id}"]`).checked=t.isUsed;localStorage.setItem("columns",JSON.stringify(e))}}},9395:function(e,t,i){"use strict";i.d(t,{A:function(){return g}});var a=i(5833),n=i(8161);function s(e,t,i){o(e,t),t.set(e,i)}function o(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function r(e,t){return e.get(c(e,t))}function l(e,t,i){return e.set(c(e,t),i),i}function c(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var d=new WeakMap,h=new WeakMap,u=new WeakMap,p=new WeakSet;class g{constructor(e){var t,i;o(t=this,i=p),i.add(t),s(this,d,void 0),s(this,h,void 0),s(this,u,void 0),l(d,this,e),l(h,this,e.dataset.filetype),l(u,this,`${n.API_URL}/api/download/variant`),r(d,this).addEventListener("click",c(p,this,f).bind(this,r(h,this)))}}function f(e){switch(a.storeManager.getData("searchMode")){case"simple":return c(p,this,m).call(this,e);case"advanced":return c(p,this,b).call(this,e)}}function m(e){const t=a.storeManager.getData("simpleSearchConditions").term,i=document.createElement("a");i.href=`${r(u,this)}.${e}?term=${t}`,i.click()}function b(e){const t={query:a.storeManager.getData("advancedSearchConditions")},i=document.createElement("form");i.action=`${r(u,this)}.${e}`,i.method="post",i.enctype="text/plain",i.setAttribute("style","display: none;");const n=document.createElement("input");n.setAttribute("name",JSON.stringify(t).slice(0,-1)+', "dummy": "'),n.setAttribute("value",'"}'),i.appendChild(n),document.body.appendChild(i),i.submit()}},5993:function(e,t,i){"use strict";i.a(e,async function(e,a){try{i.d(t,{A:function(){return p}});var n=i(5833),s=i(3366);const o=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","X","Y","MT"],r=[0,400],l={isOpened:!1,isShowBand:!0,height:r[0],reference:"GRCh37",version:1,chromosomes:{1:{selected:!0,region:{GRCh37:[1,249250621],GRCh38:[1,248956422]}},2:{selected:!0,region:{GRCh37:[1,243199373],GRCh38:[1,242193529]}},3:{selected:!0,region:{GRCh37:[1,198022430],GRCh38:[1,198295559]}},4:{selected:!0,region:{GRCh37:[1,191154276],GRCh38:[1,190214555]}},5:{selected:!0,region:{GRCh37:[1,180915260],GRCh38:[1,181538259]}},6:{selected:!0,region:{GRCh37:[1,171115067],GRCh38:[1,170805979]}},7:{selected:!0,region:{GRCh37:[1,159138663],GRCh38:[1,159345973]}},8:{selected:!0,region:{GRCh37:[1,146364022],GRCh38:[1,145138636]}},9:{selected:!0,region:{GRCh37:[1,141213431],GRCh38:[1,138394717]}},10:{selected:!0,region:{GRCh37:[1,135534747],GRCh38:[1,133797422]}},11:{selected:!0,region:{GRCh37:[1,135006516],GRCh38:[1,135086622]}},12:{selected:!0,region:{GRCh37:[1,133851895],GRCh38:[1,133275309]}},13:{selected:!0,region:{GRCh37:[1,115169878],GRCh38:[1,114364328]}},14:{selected:!0,region:{GRCh37:[1,107349540],GRCh38:[1,107043718]}},15:{selected:!0,region:{GRCh37:[1,102531392],GRCh38:[1,101991189]}},16:{selected:!0,region:{GRCh37:[1,90354753],GRCh38:[1,90338345]}},17:{selected:!0,region:{GRCh37:[1,81195210],GRCh38:[1,83257441]}},18:{selected:!0,region:{GRCh37:[1,78077248],GRCh38:[1,80373285]}},19:{selected:!0,region:{GRCh37:[1,59128983],GRCh38:[1,58617616]}},20:{selected:!0,region:{GRCh37:[1,63025520],GRCh38:[1,64444167]}},21:{selected:!0,region:{GRCh37:[1,48129895],GRCh38:[1,46709983]}},22:{selected:!0,region:{GRCh37:[1,51304566],GRCh38:[1,50818468]}},X:{selected:!0,region:{GRCh37:[1,155270560],GRCh38:[1,156040895]}},Y:{selected:!0,region:{GRCh37:[1,59373566],GRCh38:[1,57227415]}},MT:{selected:!0,region:{GRCh37:[1,16569],GRCh38:[1,16569]}}}},c=new RegExp(/([1-9]|1\d|2[0-2]|X|Y|MT):(\d+)-?(\d+)?/);let d=JSON.parse(localStorage.getItem("karyotype"));function h(){d&&d.version===l.version||(d=l)}h();const u=(await i(550)(`./${d.reference}/karyotype.tsv`)).default||[];class p{constructor(e){this.elm=e,this.isReady=!1,this.chromosomes=this.elm.querySelector(".content > .chromosomes"),this.chromosomeViews,n.storeManager.setData("karyotype",d),n.storeManager.bind("karyotype",this),n.storeManager.bind("simpleSearchConditions",this),n.storeManager.bind("advancedSearchConditions",this),this.elm.querySelector(".header").addEventListener("click",()=>{const e=n.storeManager.getData("karyotype");return this._changeKaryotype({isOpened:!e.isOpened,height:e.isOpened?r[0]:r[1]}),!1});const t=this.elm.querySelectorAll("#KariotypeSwitchBandVisibility > .button");t.forEach(e=>{e.addEventListener("click",e=>{this._changeKaryotype({isShowBand:"show"===e.target.dataset.value})})}),this._bandShowButton=Array.from(t).filter(e=>"show"===e.dataset.value)[0],this._bandHideButton=Array.from(t).filter(e=>"hide"===e.dataset.value)[0],this.geneMap=this.parseGeneMap(u),this.maxLength=Math.max(...this.geneMap.map(e=>e[e.length-1].end)),this._drawChromosome(this.geneMap),this.karyotype(n.storeManager.getData("karyotype"))}parseGeneMap(e){const t=[];for(const i of o){const a=e.filter(e=>e[0]===`chr${i}`);t.push(a.map(e=>({start:parseInt(e[1]),end:parseInt(e[2]),band:e[3].split(".")[0],subBand:e[3],stainType:e[4]})))}return t}_drawChromosome(e){this.chromosomeViews=[],this.chromosomes.innerHTML=o.map(e=>`<div id="chromosome${e}" class="chromosome-view"></div>`).join("");for(let t=0;t<e.length;t++)this.chromosomeViews.push(new s.A(this.chromosomes.querySelector(`#chromosome${o[t]}`),o[t],e[t],this.maxLength))}_changeKaryotype(e){const t=n.storeManager.getData("karyotype");for(const i in e)t[i]=e[i];n.storeManager.setData("karyotype",t),localStorage.setItem("karyotype",JSON.stringify(t))}karyotype(e){e.isOpened?document.getElementsByTagName("body")[0].classList.add("-drawer-opened"):document.getElementsByTagName("body")[0].classList.remove("-drawer-opened"),e.isShowBand?(this.elm.classList.add("-show-band-label"),this._bandShowButton.classList.add("-current"),this._bandHideButton.classList.remove("-current")):(this.elm.classList.remove("-show-band-label"),this._bandShowButton.classList.remove("-current"),this._bandHideButton.classList.add("-current"))}simpleSearchConditions(e){const t=c.exec(e.term);if(t){const e={chromosome:t[1]};if(t[3]){if(+t[2]>+t[3])return;e.position={gte:+t[2],lte:+t[3]}}else e.position=+t[2];this._updateLocations([e])}else this._updateLocations([])}advancedSearchConditions(e){const t=[],i=e=>{Object.keys(e).forEach(a=>{switch(a){case"or":case"and":e[a].forEach(e=>i(e));break;case"location":t.push(e[a])}})};i(e),this._updateLocations(t)}_updateLocations(e){if(this.elm.dataset.isSelectingChromosome=e.length>0,0===e.length)return;const t={};e.forEach(e=>{t[e.chromosome]||(t[e.chromosome]={positions:[]}),t[e.chromosome].positions.push("number"==typeof e.position?[e.position,e.position]:[e.position.gte,e.position.lte])}),this.chromosomeViews.forEach(e=>{e.updateSelectedPositions(t[e.no]?.positions??[])})}}a()}catch(g){a(g)}},1)},9630:function(e,t,i){"use strict";i.d(t,{A:function(){return n}});var a=i(9118);class n{constructor(e){const t=Array.from(e.querySelectorAll(":scope > .tabscontainer > ul > li")),i=Array.from(e.querySelectorAll(":scope > .sectionscontainer > *"));t.forEach(e=>{e.target=i.find(t=>t.dataset.tabId===e.dataset.target),e.addEventListener("click",e=>{t.forEach(e=>e.classList.remove("-current")),i.forEach(e=>e.classList.remove("-current")),e.target.classList.add("-current"),e.target.target.classList.add("-current"),window.localStorage.setItem(e.target.dataset.tabGroup,e.target.dataset.target),a.A.update()})});let n=window.localStorage.getItem(t[0].dataset.tabGroup);const s=e.dataset.boundUrlParam;if(e.dataset.boundUrlParam){const e=new URL(window.location).searchParams.get(s);n=e??n}let o=t[0];if(n){o=t.find(e=>e.dataset.target===n)??o}o.dispatchEvent(new Event("click"))}}},5468:function(e,t){"use strict";t.A=class{constructor(e,t){this.elm=e,this.kind=t,this.localStorageKey="panel_"+t,"collapsed"===window.localStorage.getItem(this.localStorageKey)&&e.classList.add("-collapsed"),e.querySelector(".title").addEventListener("click",()=>{e.classList.toggle("-collapsed"),window.localStorage.setItem(this.localStorageKey,e.classList.contains("-collapsed")?"collapsed":"")})}}},2750:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var a=i(5468),n=i(5833),s=i(3522);class o extends a.A{constructor(e,t,i){super(e,t),this._statisticsType=i;const a=n.storeManager.getData("simpleSearchConditionsMaster").find(e=>e.id===this.kind);this._createGUI(a);const o=(0,s.getSimpleSearchCondition)(this.kind);this._inputsValues={},this.elm.querySelectorAll(".content > .checklist-values > .item > .label > input").forEach(e=>{this._inputsValues[e.value]={input:e,value:e.parentNode.nextElementSibling},o&&o[e.value]&&(e.checked="1"===o[e.value])}),this._changeFilter();for(const e in this._inputsValues)this._inputsValues[e].input.addEventListener("change",this._changeFilter.bind(this));n.storeManager.bind("simpleSearchConditions",this),n.storeManager.bind(this._statisticsType,this),this[this._statisticsType]=e=>{if(e){let t=0;for(const i in this._inputsValues){const a=e[i]?e[i]:0;t+=a,this._inputsValues[i].value.textContent=a.toLocaleString()}this._inputsValues.all.value.textContent=t.toLocaleString()}else{for(const e in this._inputsValues)this._inputsValues[e].value.textContent="N/A";this._inputsValues.all.value.textContent="N/A"}this._inputsValues.all.value.textContent=n.storeManager.getData("searchStatus").filtered.toLocaleString()}}_createGUI(e){let t='\n    <li class="item">\n      <label class="label">\n        <input type="checkbox" value="all" checked>\n        All\n      </label>\n      <span class="value"></span>\n    </li>\n    <li class="separator"><hr></li>\n    ';"significance"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="NC" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),"alphamissense"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="N" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),"sift"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="N" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),"polyphen"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="N" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),t+=e.items.map(e=>`\n    <li class="item">\n      <label class="label">\n        <input type="checkbox" value="${e.id}" checked>\n        ${"dataset"===this.kind?`<div class="dataset-icon" data-dataset="${e.id}"><div class="properties"></div></div>`:""}\n        ${"significance"===this.kind?`<div class="clinical-significance" data-value="${e.id}"></div>`:""}\n        ${"sift"===this.kind?`<div class="variant-function _width_5em _align-center" data-function="${e.id}">${{D:"&lt; 0.05",T:"&ge; 0.05"}[e.id]}</div>`:""}\n        ${"polyphen"===this.kind?`<div class="variant-function _width_5em _align-center" data-function="${e.id}">${{PROBD:"&gt; 0.908",POSSD:"&gt; 0.446",B:"&le; 0.446",U:"Unknown"}[e.id]}</div>`:""}\n        ${"alphamissense"===this.kind?`<div class="variant-function _width_5em _align-center" data-function="${e.id}">${{LP:"&gt; 0.564",A:"&ge; 0.340",LB:"&lt; 0.340"}[e.id]}</div>`:""}\n        ${e.label}\n      </label>\n      <span class="value"></span>\n    </li>\n    `).join(""),this.elm.querySelector(".content > .checklist-values").insertAdjacentHTML("beforeend",t),["significance","alphamissense","sift","polyphen"].includes(this.kind)&&this.elm.querySelector(".content > .checklist-values > .item:nth-child(5)").remove()}_changeFilter(e){if(e&&"all"===e.target.value)if(e.target.checked)for(const e in this._inputsValues)this._inputsValues[e].input.checked=!0;else for(const e in this._inputsValues)this._inputsValues[e].input.checked=!1;else{let e=0;for(const t in this._inputsValues)"all"!==t&&(e+=!this._inputsValues[t].input.checked);this._inputsValues.all.input.checked=0===e}const t={};for(const e in this._inputsValues)"all"!==e&&(t[e]=this._inputsValues[e].input.checked?"1":"0");(0,s.setSimpleSearchCondition)(this.kind,t)}simpleSearchConditions(e){let t=0;for(const i in e[this.kind])this._inputsValues[i].input.checked="0"!==e[this.kind][i],t+="0"===e[this.kind][i];this._inputsValues.all.input.checked=0===t}}},9398:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var a=i(5468),n=i(5833),s=i(3522);i(9524);class o extends a.A{constructor(e){super(e,"frequency"),this._conditionMaster=(0,s.getSimpleSearchConditionMaster)(this.kind);const t=this._getConditionFromStore(),i=document.createElement("range-slider");i.value1=t.from,i.value2=t.to,i.sliderStep=.01,i.inputStep=.05,i.searchType="simple",i.addEventListener("range-changed",e=>{e.stopPropagation(),this.changeParameter(e.detail)}),this.elm.querySelector(".range-selector-view").appendChild(i),this._rangeSelectorView=i,n.storeManager.bind("simpleSearchConditions",this)}changeParameter(e){const t=this._getConditionFromStore();for(const i in e)t[i]=e[i];(0,s.setSimpleSearchCondition)(this.kind,t)}simpleSearchConditions(e){e[this.kind]}_getConditionFromStore(){let e=(0,s.getSimpleSearchCondition)(this.kind);e=e||this._conditionMaster.items.reduce((e,t)=>Object.assign(e,{[t.id]:t.default}),{});for(const t of this._conditionMaster.items)e[t.id]=e[t.id]?e[t.id]:this._conditionMaster.items.find(e=>e.id===t.id).default;return e}}},7004:function(e,t,i){"use strict";i.d(t,{A:function(){return c}});var a=i(9118);class n{constructor(e){this.setup(e)}setup(e){if(e.classList.contains("-terminal"))return;if(e.querySelector(".collapsebutton").addEventListener("click",i=>{e.classList.toggle("-collapsed"),e.classList.contains("-unstructured")&&this.collapseTargets.forEach(e=>{const t=e.ancestors.some(e=>e.querySelector(".collapse-view").classList.contains("-collapsed"));e.TR.style.display=t?"none":"table-row"}),window.localStorage.setItem(t,e.classList.contains("-collapsed")?"collapsed":""),"advanced-search"===e.dataset.collapseId&&a.A.update()}),e.classList.contains("-unstructured")){this.collapseTargets=[];const t=[],i=parseInt(e.dataset.collapseDepth);let a=e;for(;"TR"!==a.tagName;)a=a.parentNode;t[i]=a;let n=a.nextSibling;for(;null!==n;){let e,a=!1;const s=n.querySelector(".collapse-view[data-collapse-depth]");if(s&&(e=s.dataset.collapseDepth,e&&(e=parseInt(e),e>i&&(a=!0))),!a)break;t[e]=n,this.collapseTargets.push({ancestors:t.slice(i,e),TR:n}),n=n.nextSibling}}const t=e.dataset.collapseId;t&&"collapsed"===window.localStorage.getItem(t)&&e.querySelector(".collapsebutton").dispatchEvent(new Event("click"))}}var s=i(5468),o=i(5833),r=i(3522);const l="consequence";class c extends s.A{constructor(e){super(e,"consequence");const t=(0,r.getSimpleSearchConditionMaster)(this.kind),i=(0,r.getSimpleSearchConditionMaster)("consequence_grouping").items;this._createGUI(t,i),e.querySelectorAll(".collapse-view").forEach(e=>new n(e));const a=(0,r.getSimpleSearchCondition)(this.kind);this._inputsValues={},this.elm.querySelectorAll(".content > .checklist-values input").forEach(e=>{this._inputsValues[e.value]={input:e,value:e.parentNode.nextElementSibling},a&&a[e.value]&&(e.checked="1"===a[e.value])}),this._inputsValues.all.values=this.findValues(i,[]),this.updateNestedCheckboxes();for(const e in this._inputsValues)this._inputsValues[e].input.addEventListener("change",this._changeFilter.bind(this));o.storeManager.bind("simpleSearchConditions",this),o.storeManager.bind("statisticsConsequence",this)}_createGUI(e,t){let i='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="all" data-has-children="true" checked>\n          All\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n    ';i+=t.map(t=>this.render(e,t)).join(""),this.elm.querySelector(".content > .checklist-values").insertAdjacentHTML("beforeend",i),this.elm.querySelector(".content > .checklist-values > .item:nth-child(3)").classList.remove("-collapsed")}render(e,t){const i="object"==typeof t;return`\n      <li class="item${i?" collapse-view -hierarchic -collapsed":""}">\n        ${i?'<div class="collapsebutton"></div>':""}\n        <label class="label">\n          <input type="checkbox" value="${(t=i?t:e.items.find(e=>e.id===t)).id?t.id:t.label}" data-has-children="${t.items?"true":"false"}" checked>\n          ${t.label}\n        </label>\n        <span class="value"></span>\n        ${i?`\n        <ul class="checklist-values collapsecontent">\n          ${t.items.map(t=>this.render(e,t)).join("")}\n        </ul>\n        `:""}\n      </li>\n    `}findValues(e,t){let i=[];for(const a of e){if("object"==typeof a){const e=this.findValues(a.items,[]);this._inputsValues[a.label].values=e,i=i.concat(e)}else t.push(a)}return i=i.concat(t),i}_changeFilter(e){if(e&&"all"===e.target.value)if(e.target.checked)for(const e in this._inputsValues)this._inputsValues[e].input.checked=!0;else for(const e in this._inputsValues)this._inputsValues[e].input.checked=!1;else if("true"===e.target.dataset.hasChildren)for(const t of this._inputsValues[e.target.value].values)this._inputsValues[t].input.checked=e.target.checked;else this.updateNestedCheckboxes();const t={};for(const e in this._inputsValues){void 0===this._inputsValues[e].values&&(t[e]=this._inputsValues[e].input.checked?"1":"0")}(0,r.setSimpleSearchCondition)(l,t)}updateNestedCheckboxes(){for(const e in this._inputsValues){const t=this._inputsValues[e];t.values&&(t.input.checked=!t.values.reduce((e,t)=>e+!this._inputsValues[t].input.checked,0))}}simpleSearchConditions(e){for(const t in e[l])this._inputsValues[t].input.checked="0"!==e[l][t];this.updateNestedCheckboxes()}statisticsConsequence(e){if(e)for(const t in this._inputsValues){const i=this._inputsValues[t];void 0===i.values&&(i.value.textContent=(e[t]?e[t]:0).toLocaleString())}else for(const e in this._inputsValues){void 0===this._inputsValues[e].values&&(this._inputsValues[e].value.textContent="0")}this._inputsValues.all.value.textContent=o.storeManager.getData("searchStatus").filtered.toLocaleString()}}},9956:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var a=i(5468),n=i(5833),s=i(3522);class o extends a.A{constructor(e){super(e,"quality"),n.storeManager.bind("simpleSearchConditions",this),this.checkbox=this.elm.querySelector(".content > label > input"),this.checkbox.addEventListener("change",this.change.bind(this)),this.checkbox.dispatchEvent(new Event("change"));const t=(0,s.getSimpleSearchCondition)(this.kind);this.checkbox.checked=void 0===t}change(e){(0,s.setSimpleSearchCondition)("quality",e.target.checked?"1":"0")}simpleSearchConditions(e){void 0!==e.quality&&(this.checkbox.checked="1"===e.quality)}}},1986:function(e,t,i){"use strict";i.d(t,{A:function(){return r}});var a=i(8161),n=i(5468),s=i(5833),o=i(3522);class r extends n.A{constructor(e){super(e,"frenquecies"),s.storeManager.bind("selectedRow",this),s.storeManager.bind("offset",this);const t=this.elm.querySelector(".frequency-detail > tbody");this._master=(0,o.getSimpleSearchConditionMaster)("dataset").items,t.innerHTML=this._master.map(e=>e.has_freq?`<tr data-dataset="${e.id}">\n          <td>\n            <div class="dataset-icon" data-dataset="${e.id}">\n              <div class="properties"></div>\n            </div>\n            ${e.label}\n          </td>\n          <td class="alt"></td>\n          <td class="total"></td>\n          <td class="frequency"></td>\n        </tr>`:"").join(""),this._datasets={};for(const e of this._master)if(e.has_freq){const i=t.querySelector(`tr[data-dataset="${e.id}"]`);this._datasets[e.id]={alt:i.querySelector(".alt"),total:i.querySelector(".total"),frequency:i.querySelector(".frequency")}}}selectedRow(){this._update()}offset(){this._update()}_update(){if(void 0!==s.storeManager.getData("selectedRow")){const e=s.storeManager.getSelectedRecord();if(e)for(const t of this._master)if(t.has_freq){const i=e.frequencies?e.frequencies.find(e=>e.source===t.id):null;if(i)if(this._datasets[t.id].alt.textContent=i.ac.toLocaleString(),this._datasets[t.id].total.textContent=i.an.toLocaleString(),(i.af+"").length>6){const e=(i.af+"").length,a=(i.af*10**e+"").padStart(e,"0"),n=Math.round(parseFloat(a.slice(0,4)+"."+a.slice(4)))/1e4;this._datasets[t.id].frequency.textContent=n>0?n:i.af.toExponential(3)}else this._datasets[t.id].frequency.textContent=(0,a.strIns)((Math.round(1e4*i.af)+"").padStart(5,"0"),-4,".");else this._datasets[t.id].alt.textContent="",this._datasets[t.id].total.textContent="",this._datasets[t.id].frequency.textContent=""}}}}},9662:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var a=i(5468),n=i(5833),s=i(3522);class o extends a.A{constructor(e){super(e,"clinicalSignificance"),n.storeManager.bind("selectedRow",this),n.storeManager.bind("offset",this),this.content=this.elm.querySelector(".content")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(void 0!==n.storeManager.getData("selectedRow")){const t=n.storeManager.getSelectedRecord();if(t&&t.significance){const i=(0,s.getSimpleSearchConditionMaster)("significance");function a(e){const t={};e.forEach(e=>{"mgend"===e.source&&0===e.conditions.length&&e.conditions.push({name:"others",medgen:""}),e.conditions.forEach(i=>{const a=i.medgen,n=i.name;t[a]||(t[a]={name:n,interpretations:{}}),e.interpretations.forEach(i=>{t[a].interpretations[i]?t[a].interpretations[i].add(e.source):t[a].interpretations[i]=new Set([e.source])})})});return o(Object.keys(t).map(e=>({medgen:e,name:t[e].name,interpretations:Object.keys(t[e].interpretations).map(i=>({interpretation:i,sources:Array.from(t[e].interpretations[i])}))})))}function o(e){const t={};return e.forEach(e=>{let i=[];e.interpretations.forEach(e=>{i.push(e.interpretation)}),t[i]||(t[i]=[]),t[i].push(e),i=[]}),Object.keys(t).forEach(e=>{t[e]=t[e].sort((e,t)=>{const i=e.name||"",a=t.name||"";return i.localeCompare(a,void 0,{sensitivity:"base"})})}),Object.values(t).flat()}e=a(structuredClone(t.significance)).map(e=>`\n        <dl class="above-headline clinical-significance">\n          <dt>\n          ${"undefined"===e.medgen||""===e.medgen?e.name:`<a href="/disease/${e.medgen}" target="_blank" class="hyper-text -internal">\n              ${e.name}</a>`}\n          </dt>\n          ${e.interpretations?e.interpretations.map(e=>`\n            <dd>\n              <div class="clinical-significance" data-value="${e.interpretation}">\n                ${i.items.find(t=>t.id===e.interpretation).label}\n              </div>\n              <div class="disease-category">\n                ${e.sources.includes("mgend")?'<span class="mgend">MGeND</span>':""}\n                ${e.sources.includes("clinvar")?'<span class="clinvar">ClinVar</span>':""}\n              </div>\n            </dd> `).join(""):""}\n          </dl>`).join(""),this.elm.classList.remove("-notfound")}}else this.elm.classList.add("-notfound");this.content.innerHTML=e}}},1249:function(e,t,i){"use strict";i.d(t,{A:function(){return o}});var a=i(5468),n=i(5833),s=i(3522);class o extends a.A{constructor(e){super(e,"frenquecies"),n.storeManager.bind("selectedRow",this),n.storeManager.bind("offset",this),this._content=this.elm.querySelector(".content")}selectedRow(){this._update()}offset(){this._update()}_update(){let e="";if(this.elm.classList.add("-notfound"),void 0!==n.storeManager.getData("selectedRow")){const t=n.storeManager.getSelectedRecord();if(t&&t.transcripts&&t.transcripts.length>0){let i=t.transcripts.map(e=>e.consequence).reduce((e,t)=>e.concat(t));i=Array.from(new Set(i));const a=(0,s.getSimpleSearchConditionMaster)("consequence");e=i.map(e=>a.items.find(t=>t.id===e)).map(e=>`<dl class="above-headline"><dt>${e.label}</dt><dd>${e.description}</dd></dl>`).join(""),this.elm.classList.remove("-notfound")}}this._content.innerHTML=e}}},3196:function(e,t,i){"use strict";i.d(t,{A:function(){return l}});var a=i(5468),n=i(5833);function s(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function o(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var r=new WeakSet;class l extends a.A{constructor(e){super(e,"dataset"),s(this,r),n.storeManager.bind("selectedRow",this),n.storeManager.bind("offset",this),this.table=this.elm.querySelector(".content > .right-headline")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(this.elm.classList.add("-notfound"),void 0!==n.storeManager.getData("selectedRow")){const t=n.storeManager.getSelectedRecord(),i=[];t&&t.external_link&&(t.external_link.dbsnp&&t.external_link.dbsnp.forEach(e=>{i.push(o(r,this,c).call(this,"refSNP",e.title,e.xref))}),t.external_link.mgend&&t.external_link.mgend.forEach(e=>{i.push(o(r,this,c).call(this,"MGeND",e.title,e.xref))}),t.external_link.clinvar&&t.external_link.clinvar.forEach(e=>{i.push(o(r,this,c).call(this,"ClinVar",e.title,e.xref))}),t.external_link.tommo&&t.external_link.tommo.forEach(e=>{i.push(o(r,this,c).call(this,"ToMMo",e.title,e.xref))}),t.external_link.gnomad&&t.external_link.gnomad.forEach(e=>{i.push(o(r,this,c).call(this,"gnomAD",e.title,e.xref))})),i.length>0&&(e=`\n                  <tbody>\n                    ${i.map(e=>`<tr><th>${e.title}</th><td>${e.content}</td></tr>`).join("")}\n                  </tbody>\n                `,this.elm.classList.remove("-notfound"))}this.table.innerHTML=e}}function c(e,t,i){return{title:e,content:`\n      <ul>\n        <li><a href="${i}" class="hyper-text -external" target="_blank">${t}</a></li>\n      </ul>`}}},5075:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var a=i(5468),n=i(5833);class s extends a.A{constructor(e){super(e,"dataset"),n.storeManager.bind("selectedRow",this),n.storeManager.bind("offset",this),this.table=this.elm.querySelector(".content > .right-headline")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(this.elm.classList.add("-notfound"),void 0!==n.storeManager.getData("selectedRow")){const t=n.storeManager.getSelectedRecord();if(t&&t.symbols)for(const i of t.symbols)e+=`\n            <tbody>\n              <tr>\n                <th>Symbol</th>\n                <td>\n                  <a href="gene/${i.id}" target="_blank" class="hyper-text -internal">${i.name}</a>\n                </td>\n              </tr>\n              ${0===i.synonyms.length?"":`<tr><th>Alias</th><td>${i.synonyms.join(", ")}</td></tr>`}\n            </tbody>\n          `,this.elm.classList.remove("-notfound")}this.table.innerHTML=e}}},3531:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var a=i(5468),n=i(5833);class s extends a.A{constructor(e){super(e,"dataset"),n.storeManager.bind("selectedRow",this),n.storeManager.bind("offset",this),this.title=this.elm.querySelector(".title")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(void 0!==n.storeManager.getData("selectedRow")){const t=n.storeManager.getSelectedRecord();t&&t.id?(e=`<a class="hyper-text -internal" href="/variant/${t.id}">Detailed variant report page</a>`,this.elm.classList.remove("-disable")):(e='<a class="hyper-text -internal">Detailed variant report page</a>',this.elm.classList.add("-disable"))}this.title.innerHTML=e}}},7803:function(e,t,i){"use strict";i.d(t,{A:function(){return s}});var a=i(5833),n=i(3522);class s{constructor(e){this._elm=e,this._body=document.getElementsByTagName("body")[0],a.storeManager.bind("selectedRow",this);const t=this._elm.offsetWidth-this._elm.clientWidth;this._elm.style.width=`${this._elm.offsetWidth+t}px`,this._elm.style.marginRight=`-${t}px`,this._setupResetButton()}_setupResetButton(){this._elm.querySelector("#Filters > .title > .button-view").addEventListener("click",()=>{(0,n.resetSimpleSearchConditions)()})}selectedRow(e){void 0===e?this._body.classList.remove("-rowselected"):this._body.classList.add("-rowselected")}}},1068:function(e,t,i){"use strict";i.d(t,{A:function(){return n}});var a=i(9244);class n{constructor(){const e=document.querySelectorAll("[data-tooltip-id]"),t=this.getData();e.forEach(e=>{e.addEventListener("mouseover",this.setTooltip(e,t))})}getData(){const e=i(6696);return Object.freeze(e),e}setTooltip(e,t){const i=e.getAttribute("data-tooltip-id");try{const n=t.find(e=>e.id===i),s=this.createTemplate(n);(0,a.Ay)(e,{content:s.innerHTML,allowHTML:!0,animation:"fade",duration:[400],interactive:!0,theme:"black",placement:"top",appendTo:document.body,maxWidth:"15rem",delay:[300,300],offset:this.offset(e),zIndex:10100})}catch(e){console.error(`Failed to set the tooltip for item with a data-tooltip id of [${i}].\nCheck if there is corresponding data in tooltips.JSON`)}}createTemplate(e){const t=document.createElement("span"),i=document.createElement("p");return i.className="content",i.innerText=e.content,"url"in e&&i.appendChild(this.createAnchor(e.url)),t.appendChild(i),t}createAnchor(e){const t=document.createElement("a");return t.className="url",t.href=e,t.innerText="Read More",t}offset(e){const t=window.getComputedStyle(e),i=e.getBoundingClientRect();return"none"===t.transform?[3,7]:[.15*i.width<10?.1*i.width:.2*i.width,2]}}},9118:function(e,t){"use strict";t.A=new class{constructor(){this._isReady=!1}init(e){this._isReady=!0,this.targets=e,this._globalHeader=document.getElementById("GlobalHeader"),this._searchInputView=document.getElementById("SearchInputView"),this._searchResultsView=document.getElementById("SearchResultsView"),this._drawerView=document.querySelector(".drawer-view"),this.update(),window.addEventListener("resize",this.update.bind(this)),window.dispatchEvent(new Event("resize"))}update(){if(!this._isReady)return;const e=this._globalHeader?.clientHeight||0,t=this._searchInputView?.clientHeight||0,i=this._drawerView?.offsetTop||0,a=window.innerHeight-i;this._searchResultsView&&(this._searchResultsView.style.height=`calc(100vh - ${e+t+a}px)`),this.targets.forEach(e=>e.updateDisplaySize())}}},7548:function(e,t,i){"use strict";i.r(t),i.d(t,{ALPHAMISSENSE_THRESHOLD:function(){return a},PREDICTIONS:function(){return n}});const a={"Likely benign":{color:"#9def3A",min:0,max:.34,minInequalitySign:"gte",maxInequalitySign:"lt"},Ambiguous:{color:"#bbba7e",min:.34,max:.564,minInequalitySign:"gte",maxInequalitySign:"lte"},"Likely pathogenic":{color:"#ffae00",min:.564,max:1,minInequalitySign:"gt",maxInequalitySign:"lte"}},n={alphamissense:{label:"AlphaMissense",unassignedLists:["unassigned"],threshold:a},sift:{label:"SIFT",unassignedLists:["unassigned"],threshold:{Tolerated:{color:"#ff5a54",min:0,max:.05,minInequalitySign:"gte",maxInequalitySign:"lt"},Deleterious:{color:"#04af58",min:.05,max:1,minInequalitySign:"gte",maxInequalitySign:"lte"}}},polyphen:{label:"PolyPhen",unassignedLists:["unassigned","unknown"],threshold:{Benign:{color:"#04af58",min:0,max:.446,minInequalitySign:"gte",maxInequalitySign:"lte"},Possibly_damaging:{color:"#ffae00",min:.446,max:.908,minInequalitySign:"gt",maxInequalitySign:"lte"},Probably_damaging:{color:"#ff5a54",min:.908,max:1,minInequalitySign:"gt",maxInequalitySign:"lte"}}}}},331:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return _}});var a=i(6337),n=i(2924),s=i(1926),o=i(1681),r=i(4045),l=i(4758),c=i(756),d=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}.number-input{display:flex;margin-bottom:30px;font-size:10px;align-items:center;gap:5px}.number-input input[type=number]{width:5em;margin-right:3px;font-size:inherit;display:inline-block;text-align:right;line-height:18px;padding:0 0 0 8px;border-radius:9px;border:solid 1px #94928d;box-shadow:0 1px 1px rgba(0,0,0,.2) inset;outline:0}.number-input button.inequality-sign{appearance:none;font-weight:700;background-color:#117f93;color:#fff;height:16px;width:16px;padding:0;border-radius:3px;border:none;cursor:pointer}.slider{max-width:247.5px;height:5px;position:relative;left:1px;background:#ddd}.slider .bar{height:inherit;position:absolute;left:0;right:0}.slider .ruler .scale{list-style:none;position:absolute;top:-18px;font-size:.6rem;z-index:10;line-height:1}.slider .ruler .scale::before{content:"";position:absolute;top:13px;height:14px;border-left:dotted 1px rgba(0,0,0,.3);left:.5em;display:block}.slider .threshold{display:flex}.slider .threshold .threshold-line{position:absolute;width:1px;background-color:rgba(0,0,0,.5)}.slider .threshold .threshold-button{position:absolute;font-size:.6rem;z-index:10;cursor:pointer;border:.5px solid #444;border-radius:8px;margin-left:5px;padding:3px}.slider .threshold .threshold-button:hover{background-color:#444;color:#fff}.slider .threshold .threshold-button:active{opacity:.7}.range-input{position:relative}.range-input input[type=range]{position:absolute;top:-5px;width:100%;max-width:250px;height:5px;background:0 0;pointer-events:none;-webkit-appearance:none;-moz-appearance:none}.range-input input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:1em;width:3px;border-top:solid 1px rgba(0,0,0,.5);border-bottom:solid 1px rgba(0,0,0,.5);pointer-events:auto;margin-top:-.2em;cursor:col-resize}.range-input .from[type=range]::-webkit-slider-thumb{transform:translateX(-3px);border-right:solid 1px rgba(0,0,0,.5)}.range-input .to[type=range]::-webkit-slider-thumb{transform:translateX(-1px);border-left:solid 1px rgba(0,0,0,.5)}.range-input input[type=range]::-moz-range-thumb{-moz-appearance:none;height:1em;width:3px;pointer-events:auto;margin-top:-.2em;cursor:col-resize}`;function h(){h=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(i){t.forEach(function(t){t.kind===i&&"own"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach(function(a){t.forEach(function(t){var n=t.placement;if(t.kind===a&&("static"===n||"prototype"===n)){var s="static"===n?e:i;this.defineClassElement(s,t)}},this)},this)},defineClassElement:function(e,t){var i=t.descriptor;if("field"===t.kind){var a=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===a?void 0:a.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],a=[],n={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,n)},this),e.forEach(function(e){if(!g(e))return i.push(e);var t=this.decorateElement(e,n);i.push(t.element),i.push.apply(i,t.extras),a.push.apply(a,t.finishers)},this),!t)return{elements:i,finishers:a};var s=this.decorateConstructor(i,t);return a.push.apply(a,s.finishers),s.finishers=a,s},addElementPlacement:function(e,t,i){var a=t[e.placement];if(!i&&-1!==a.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");a.push(e.key)},decorateElement:function(e,t){for(var i=[],a=[],n=e.decorators,s=n.length-1;s>=0;s--){var o=t[e.placement];o.splice(o.indexOf(e.key),1);var r=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[s])(r)||r);e=l.element,this.addElementPlacement(e,t),l.finisher&&a.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);i.push.apply(i,c)}}return{element:e,finishers:a,extras:i}},decorateConstructor:function(e,t){for(var i=[],a=t.length-1;a>=0;a--){var n=this.fromClassDescriptor(e),s=this.toClassDescriptor((0,t[a])(n)||n);if(void 0!==s.finisher&&i.push(s.finisher),void 0!==s.elements){e=s.elements;for(var o=0;o<e.length-1;o++)for(var r=o+1;r<e.length;r++)if(e[o].key===e[r].key&&e[o].placement===e[r].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t},this);var t},toElementDescriptor:function(e){var t=e.kind+"";if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var i=b(e.key),a=e.placement+"";if("static"!==a&&"prototype"!==a&&"own"!==a)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+a+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var s={kind:t,key:i,placement:a,descriptor:Object.assign({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),s.initializer=e.initializer),s},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:m(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=e.kind+"";if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=m(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var a=(0,t[i])(e);if(void 0!==a){if("function"!=typeof a)throw new TypeError("Finishers must return a constructor.");e=a}}return e},disallowProperty:function(e,t,i){if(void 0!==e[t])throw new TypeError(i+" can't have a ."+t+" property.")}};return e}function u(e){var t,i=b(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var a={kind:"field"===e.kind?"field":"method",key:i,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(a.decorators=e.decorators),"field"===e.kind&&(a.initializer=e.value),a}function p(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function g(e){return e.decorators&&e.decorators.length}function f(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function m(e,t){var i=e[t];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+t+"' to be a function");return i}function b(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}const y={min:0,max:1,step:.01,numberOfScales:10,sliderWidth:247.5};y.scaleInterval=(y.max-y.min)/y.numberOfScales;var _=function(e,t,i,a){var n=h();if(a)for(var s=0;s<a.length;s++)n=a[s](n);var o=t(function(e){n.initializeInstanceElements(e,r.elements)},i),r=n.decorateClass(function(e){for(var t=[],i=function(e){return"method"===e.kind&&e.key===s.key&&e.placement===s.placement},a=0;a<e.length;a++){var n,s=e[a];if("method"===s.kind&&(n=t.find(i)))if(f(s.descriptor)||f(n.descriptor)){if(g(s)||g(n))throw new ReferenceError("Duplicated methods ("+s.key+") can't be decorated.");n.descriptor=s.descriptor}else{if(g(s)){if(g(n))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+s.key+").");n.decorators=s.decorators}p(s,n)}else t.push(s)}return t}(o.d.map(u)),e);return n.initializeClassElements(o.F,r.elements),n.runClassFinishers(o.F,r.finishers)}([(0,n.customElement)("prediction-range-slider")],function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value(){return[d]}},{kind:"field",decorators:[(0,n.property)({type:String,reflect:!0,attribute:"data-dataset"})],key:"predictionScoreName",value:void 0},{kind:"field",decorators:[(0,n.property)({type:Number,reflect:!0,attribute:"data-min-value"})],key:"minValue",value:void 0},{kind:"field",decorators:[(0,n.property)({type:Number,reflect:!0,attribute:"data-max-value"})],key:"maxValue",value:void 0},{kind:"field",decorators:[(0,n.property)({type:String,reflect:!0,attribute:"data-min-inequality-sign"})],key:"minInequalitySign",value:void 0},{kind:"field",decorators:[(0,n.property)({type:String,reflect:!0,attribute:"data-max-inequality-sign"})],key:"maxInequalitySign",value:void 0},{kind:"field",decorators:[(0,n.property)({type:Array})],key:"unassignedChecks",value:void 0},{kind:"field",decorators:[(0,n.property)({type:Object})],key:"activeDataset",value:void 0},{kind:"field",decorators:[(0,n.property)({type:Object})],key:"unassignedLists",value:void 0},{kind:"field",decorators:[(0,n.queryAll)('.number-input > input[type="number"]')],key:"_numberInput",value:void 0},{kind:"field",decorators:[(0,n.queryAll)('.range-input > input[type="range"]')],key:"_rangeInput",value:void 0},{kind:"field",decorators:[(0,n.queryAll)(".number-input .inequality-sign")],key:"_inequalitySign",value:void 0},{kind:"field",decorators:[(0,n.query)(".slider .bar")],key:"_range",value:void 0},{kind:"method",key:"firstUpdated",value:function(){this._range.style.backgroundImage=(0,r.C)(this.activeDataset,this._range,y.sliderWidth)}},{kind:"method",key:"updated",value:function(e){(e.has("minValue")||e.has("maxValue")||e.has("minInequalitySign")||e.has("maxInequalitySign")||e.has("unassignedChecks"))&&this.dispatchEvent(new CustomEvent("set-prediction-values",{detail:{values:[this.minValue,this.maxValue],inequalitySigns:[this.minInequalitySign,this.maxInequalitySign],unassignedChecks:this.unassignedChecks},bubbles:!0,composed:!0}))}},{kind:"method",key:"_handleSliderValues",value:function(e,t,i){let a=parseFloat(t[0].value),n=parseFloat(t[1].value);"from"===e.target.className?(i[0].value=a,this._range.style.left=100*a+"%",a>n&&(n=t[0].value,t[1].value=n,i[1].value=n,this._range.style.right=100-100*n+"%")):(i[1].value=n,this._range.style.right=100-100*n+"%",n<a&&(a=t[1].value,t[0].value=a,i[0].value=a,this._range.style.left=100*a+"%")),this._range.style.backgroundImage=(0,r.C)(this.activeDataset,this._range,y.sliderWidth),[this.minValue,this.maxValue]=[parseFloat(a),parseFloat(n)]}},{kind:"field",key:"_handleThresholdButton",value(){return e=>{const{minValue:t,maxValue:i,minInequalitySign:a,maxInequalitySign:n}=e.target.dataset;[this._rangeInput[0].value,this._numberInput[0].value]=[t,t],[this._rangeInput[1].value,this._numberInput[1].value]=[i,i],(0,c.r)(this._inequalitySign[0],a),(0,c.r)(this._inequalitySign[1],n),this._range.style.left=100*t+"%",this._range.style.right=100-100*i+"%",this._range.style.backgroundImage=(0,r.C)(this.activeDataset,this._range,y.sliderWidth),[this.minValue,this.maxValue]=[parseFloat(t),parseFloat(i)],[this.minInequalitySign,this.maxInequalitySign]=[a,n]}}},{kind:"method",key:"_handleInequalitySign",value:function(e){const{newSign:t,newHtml:i}=this._switchInequalitySign(e.target.dataset.inequalitySign);e.target.dataset.inequalitySign=t,e.target.innerHTML=i,"gte"===t||"gt"===t?this.minInequalitySign=t:this.maxInequalitySign=t}},{kind:"method",key:"_handleUnassignedCheckbox",value:function(e){e.target.checked?this.unassignedChecks=[...this.unassignedChecks,e.target.dataset.name]:this.unassignedChecks=this.unassignedChecks.filter(t=>t!==e.target.dataset.name)}},{kind:"method",key:"_switchInequalitySign",value:function(e){switch(e){case"gte":return{newSign:"gt",newHtml:"&#60;"};case"gt":return{newSign:"gte",newHtml:"&#8804;"};case"lte":return{newSign:"lt",newHtml:"&#60;"};case"lt":return{newSign:"lte",newHtml:"&#8804;"}}}},{kind:"method",key:"render",value:function(){const e=(e,t,i)=>a.html`
      <input
        type="number"
        class=${e}
        title=${t}
        value=${i}
        min=${y.min}
        max=${y.max}
        step=${y.step}
        @input=${e=>this._handleSliderValues(e,this._numberInput,this._rangeInput)}
      />
    `,t=(e,t)=>a.html`
      <input
        type="range"
        class=${e}
        value=${t}
        min=${y.min}
        max=${y.max}
        step=${y.step}
        @input=${e=>this._handleSliderValues(e,this._rangeInput,this._numberInput)}
      />
    `,i=e=>a.html`
      <button
        class="inequality-sign"
        type="button"
        data-inequality-sign=${e}
        @click=${this._handleInequalitySign}
      >
        &#8804;
      </button>
    `;return a.html`
      <div class="number-input">
        ${e("from","Lower limit",y.min)}
        ${i("gte")}
        <span>Prediction score</span>
        ${i("lte")}
        ${e("to","Upper limit",y.max)}
        ${(()=>a.html`
      ${this.unassignedLists.map(e=>a.html` <input
            type="checkbox"
            id="${this.predictionScoreName}${(0,l.Z)(e)}"
            data-name=${e}
            @change=${this._handleUnassignedCheckbox}
          />
          <label for="${this.predictionScoreName}${(0,l.Z)(e)}"
            >${(0,l.Z)(e)}
          </label>`)}
    `)()}
      </div>
      <div class="slider">
        <div class="bar"></div>
        <ul class="ruler">
          ${(0,s.T)((0,o.y)(y.numberOfScales+1),e=>a.html`<li
                class="scale"
                style="
                left: calc(${100*e/y.numberOfScales}% - 0.3rem)"
              >
                ${(y.scaleInterval*e).toFixed(1)}
              </li>`)}
        </ul>
        <div class="threshold">
          ${Object.entries(this.activeDataset).map(([e,t],i)=>a.html` <div
                  class="threshold-line"
                  style="height:
                  ${20*(Object.keys(this.activeDataset).length-i)+10}px;
                  left: ${100*t.min}%;"
                ></div>
                <button
                  type="button"
                  class="threshold-button"
                  data-min-value=${t.min}
                  data-max-value=${t.max}
                  data-min-inequality-sign=${t.minInequalitySign}
                  data-max-inequality-sign=${t.maxInequalitySign}
                  style="left: ${100*t.min}%;
                  top: ${20*(Object.keys(this.activeDataset).length-i)}px;"
                  @click=${this._handleThresholdButton}
                >
                  ${e}
                </button>`)}
        </div>
      </div>
      <div class="range-input">
        ${t("from",y.min)}
        ${t("to",y.max)}
      </div>
    `}}]}},a.LitElement)},1324:function(e,t,i){"use strict";i.r(t),i.d(t,{PredictionValueView:function(){return S},default:function(){return k}});var a=i(6337),n=i(2924),s=i(1926),o=i(1681),r=i(4045),l=i(7548),c=i(756),d=i(4758),h=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{position:absolute;top:0;left:142px;display:flex;align-items:center;white-space:nowrap}:host>.pathogenicity-graph{position:relative;width:100px;height:3.5px;background-color:var(--color-darker-gray);margin-right:5px}:host>.pathogenicity-graph>.ruler{list-style:none}:host>.pathogenicity-graph>.ruler>.scale{position:absolute;top:-1px;bottom:-1px;border-left:dotted .5px var(--color-separator)}@media(-webkit-min-device-pixel-ratio:2){:host>.pathogenicity-graph>.ruler>.scale{border-left:dotted 1px var(--color-separator)}}:host>.pathogenicity-graph>.bar{position:absolute;height:100%;background-color:var(--color-gray)}:host>.range{display:flex;gap:5px;align-items:center}:host>.range .text{font-size:10px}:host>.range>.from,:host>.range>.to{font-weight:700}`;function u(){u=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(i){t.forEach(function(t){t.kind===i&&"own"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach(function(a){t.forEach(function(t){var n=t.placement;if(t.kind===a&&("static"===n||"prototype"===n)){var s="static"===n?e:i;this.defineClassElement(s,t)}},this)},this)},defineClassElement:function(e,t){var i=t.descriptor;if("field"===t.kind){var a=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===a?void 0:a.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],a=[],n={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,n)},this),e.forEach(function(e){if(!f(e))return i.push(e);var t=this.decorateElement(e,n);i.push(t.element),i.push.apply(i,t.extras),a.push.apply(a,t.finishers)},this),!t)return{elements:i,finishers:a};var s=this.decorateConstructor(i,t);return a.push.apply(a,s.finishers),s.finishers=a,s},addElementPlacement:function(e,t,i){var a=t[e.placement];if(!i&&-1!==a.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");a.push(e.key)},decorateElement:function(e,t){for(var i=[],a=[],n=e.decorators,s=n.length-1;s>=0;s--){var o=t[e.placement];o.splice(o.indexOf(e.key),1);var r=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[s])(r)||r);e=l.element,this.addElementPlacement(e,t),l.finisher&&a.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);i.push.apply(i,c)}}return{element:e,finishers:a,extras:i}},decorateConstructor:function(e,t){for(var i=[],a=t.length-1;a>=0;a--){var n=this.fromClassDescriptor(e),s=this.toClassDescriptor((0,t[a])(n)||n);if(void 0!==s.finisher&&i.push(s.finisher),void 0!==s.elements){e=s.elements;for(var o=0;o<e.length-1;o++)for(var r=o+1;r<e.length;r++)if(e[o].key===e[r].key&&e[o].placement===e[r].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?y(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t},this);var t},toElementDescriptor:function(e){var t=e.kind+"";if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var i=v(e.key),a=e.placement+"";if("static"!==a&&"prototype"!==a&&"own"!==a)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+a+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var s={kind:t,key:i,placement:a,descriptor:Object.assign({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),s.initializer=e.initializer),s},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:b(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=e.kind+"";if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=b(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var a=(0,t[i])(e);if(void 0!==a){if("function"!=typeof a)throw new TypeError("Finishers must return a constructor.");e=a}}return e},disallowProperty:function(e,t,i){if(void 0!==e[t])throw new TypeError(i+" can't have a ."+t+" property.")}};return e}function p(e){var t,i=v(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var a={kind:"field"===e.kind?"field":"method",key:i,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(a.decorators=e.decorators),"field"===e.kind&&(a.initializer=e.value),a}function g(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function f(e){return e.decorators&&e.decorators.length}function m(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function b(e,t){var i=e[t];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+t+"' to be a function");return i}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}const _=10,w=100;let S=function(e,t,i,a){var n=u();if(a)for(var s=0;s<a.length;s++)n=a[s](n);var o=t(function(e){n.initializeInstanceElements(e,r.elements)},i),r=n.decorateClass(function(e){for(var t=[],i=function(e){return"method"===e.kind&&e.key===s.key&&e.placement===s.placement},a=0;a<e.length;a++){var n,s=e[a];if("method"===s.kind&&(n=t.find(i)))if(m(s.descriptor)||m(n.descriptor)){if(f(s)||f(n))throw new ReferenceError("Duplicated methods ("+s.key+") can't be decorated.");n.descriptor=s.descriptor}else{if(f(s)){if(f(n))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+s.key+").");n.decorators=s.decorators}g(s,n)}else t.push(s)}return t}(o.d.map(p)),e);return n.initializeClassElements(o.F,r.elements),n.runClassFinishers(o.F,r.finishers)}([(0,n.customElement)("prediction-value-view")],function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value(){return[h]}},{kind:"field",decorators:[(0,n.state)({type:String})],key:"_dataset",value(){return"alphamissense"}},{kind:"field",decorators:[(0,n.state)({type:String})],key:"_label",value(){return"AlphaMissense"}},{kind:"field",decorators:[(0,n.state)({type:Array})],key:"_values",value(){return[0,1]}},{kind:"field",decorators:[(0,n.state)({type:Array})],key:"_inequalitySigns",value(){return["gte","lte"]}},{kind:"field",decorators:[(0,n.state)({type:Array})],key:"_unassignedChecks",value(){return[]}},{kind:"field",decorators:[(0,n.state)({type:Object})],key:"_activeDataset",value(){return l.ALPHAMISSENSE_THRESHOLD}},{kind:"field",decorators:[(0,n.query)(".bar")],key:"_bar",value:void 0},{kind:"field",decorators:[(0,n.queryAll)(".inequality-sign")],key:"_inequalitySignsEl",value:void 0},{kind:"method",key:"firstUpdated",value:function(){this._setBarStyles()}},{kind:"method",key:"setValues",value:function(e,t,i,a){this._dataset=e,this._values=t,this._inequalitySigns=i,this._unassignedChecks=a,this._label=l.PREDICTIONS[this._dataset].label,this._activeDataset=l.PREDICTIONS[this._dataset].threshold,(0,c.r)(this._inequalitySignsEl[0],this._inequalitySigns[0]),(0,c.r)(this._inequalitySignsEl[1],this._inequalitySigns[1]),this._setBarStyles()}},{kind:"method",key:"_setBarStyles",value:function(){this._bar.style.left=100*this._values[0]+"%",this._bar.style.right=100-100*this._values[1]+"%",this._bar.style.backgroundImage=(0,r.C)(this._activeDataset,this._bar,w)}},{kind:"method",key:"render",value:function(){return a.html`
      <div class="pathogenicity-graph">
        <div class="bar"></div>
        <ul class="ruler">
          ${(0,s.T)((0,o.y)(_+1),e=>a.html`<li
                class="scale"
                style="
                left: calc(${100*e/_}%
                - ${e/_}px)"
              ></li>`)}
        </ul>
      </div>
      <div class="range">
        <span class="from">${this._values[0]}</span>
        <span class="inequality-sign" data-inequality-sign="gte">&#8804;</span>
        <span class="text">Prediction score</span>
        <span class="inequality-sign" data-inequality-sign="lte">&#8804;</span>
        <span class="to">${this._values[1]}</span>
        <span class="text">
          ${this._unassignedChecks.map(e=>(0,d.Z)(e)).join(", ")}
        </span>
      </div>
    `}},{kind:"get",key:"conditionValues",value:function(){return{dataset:this._dataset,label:this._label,values:this._values,inequalitySigns:this._inequalitySigns,unassignedChecks:this._unassignedChecks}}},{kind:"get",key:"queryValue",value:function(){return 0===this._unassignedChecks.length?{[this._dataset]:{score:{[this._inequalitySigns[0]]:this._values[0],[this._inequalitySigns[1]]:this._values[1]}}}:this._values[0]!==this._values[1]||"gt"!==this._inequalitySigns[0]&&"lt"!==this._inequalitySigns[1]?{or:[{[this._dataset]:{score:this._unassignedChecks}},{[this._dataset]:{score:{[this._inequalitySigns[0]]:this._values[0],[this._inequalitySigns[1]]:this._values[1]}}}]}:{[this._dataset]:{score:this._unassignedChecks}}}}]}},a.LitElement);var k=S},5418:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return g}});var a=i(6337),n=i(2924),s=(i(331),a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host ul[role=tablist]{font-size:12px;font-weight:700;list-style:none;margin:0;padding:0;padding-left:10px;display:flex;gap:.1rem;background:#e2e2e2}:host ul[role=tablist] li{list-style:none}:host ul[role=tablist] li a{padding:3px 8px;display:block;text-decoration:none;color:#444;border-radius:7px 7px 0 0;margin-top:5px;outline:0}:host ul[role=tablist] li a[aria-selected=true]{background-color:#fff}:host .tab-panel{padding:10px}`);function o(){o=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach(function(i){t.forEach(function(t){t.kind===i&&"own"===t.placement&&this.defineClassElement(e,t)},this)},this)},initializeClassElements:function(e,t){var i=e.prototype;["method","field"].forEach(function(a){t.forEach(function(t){var n=t.placement;if(t.kind===a&&("static"===n||"prototype"===n)){var s="static"===n?e:i;this.defineClassElement(s,t)}},this)},this)},defineClassElement:function(e,t){var i=t.descriptor;if("field"===t.kind){var a=t.initializer;i={enumerable:i.enumerable,writable:i.writable,configurable:i.configurable,value:void 0===a?void 0:a.call(e)}}Object.defineProperty(e,t.key,i)},decorateClass:function(e,t){var i=[],a=[],n={static:[],prototype:[],own:[]};if(e.forEach(function(e){this.addElementPlacement(e,n)},this),e.forEach(function(e){if(!c(e))return i.push(e);var t=this.decorateElement(e,n);i.push(t.element),i.push.apply(i,t.extras),a.push.apply(a,t.finishers)},this),!t)return{elements:i,finishers:a};var s=this.decorateConstructor(i,t);return a.push.apply(a,s.finishers),s.finishers=a,s},addElementPlacement:function(e,t,i){var a=t[e.placement];if(!i&&-1!==a.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");a.push(e.key)},decorateElement:function(e,t){for(var i=[],a=[],n=e.decorators,s=n.length-1;s>=0;s--){var o=t[e.placement];o.splice(o.indexOf(e.key),1);var r=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[s])(r)||r);e=l.element,this.addElementPlacement(e,t),l.finisher&&a.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);i.push.apply(i,c)}}return{element:e,finishers:a,extras:i}},decorateConstructor:function(e,t){for(var i=[],a=t.length-1;a>=0;a--){var n=this.fromClassDescriptor(e),s=this.toClassDescriptor((0,t[a])(n)||n);if(void 0!==s.finisher&&i.push(s.finisher),void 0!==s.elements){e=s.elements;for(var o=0;o<e.length-1;o++)for(var r=o+1;r<e.length;r++)if(e[o].key===e[r].key&&e[o].placement===e[r].placement)throw new TypeError("Duplicated element ("+e[o].key+")")}}return{elements:e,finishers:i}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?p(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t},this);var t},toElementDescriptor:function(e){var t=e.kind+"";if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var i=u(e.key),a=e.placement+"";if("static"!==a&&"prototype"!==a&&"own"!==a)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+a+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var s={kind:t,key:i,placement:a,descriptor:Object.assign({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),s.initializer=e.initializer),s},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:h(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=e.kind+"";if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var i=h(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:i}},runClassFinishers:function(e,t){for(var i=0;i<t.length;i++){var a=(0,t[i])(e);if(void 0!==a){if("function"!=typeof a)throw new TypeError("Finishers must return a constructor.");e=a}}return e},disallowProperty:function(e,t,i){if(void 0!==e[t])throw new TypeError(i+" can't have a ."+t+" property.")}};return e}function r(e){var t,i=u(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var a={kind:"field"===e.kind?"field":"method",key:i,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(a.decorators=e.decorators),"field"===e.kind&&(a.initializer=e.value),a}function l(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function c(e){return e.decorators&&e.decorators.length}function d(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function h(e,t){var i=e[t];if(void 0!==i&&"function"!=typeof i)throw new TypeError("Expected '"+t+"' to be a function");return i}function u(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=Array(t);i<t;i++)a[i]=e[i];return a}var g=function(e,t,i,a){var n=o();if(a)for(var s=0;s<a.length;s++)n=a[s](n);var h=t(function(e){n.initializeInstanceElements(e,u.elements)},i),u=n.decorateClass(function(e){for(var t=[],i=function(e){return"method"===e.kind&&e.key===s.key&&e.placement===s.placement},a=0;a<e.length;a++){var n,s=e[a];if("method"===s.kind&&(n=t.find(i)))if(d(s.descriptor)||d(n.descriptor)){if(c(s)||c(n))throw new ReferenceError("Duplicated methods ("+s.key+") can't be decorated.");n.descriptor=s.descriptor}else{if(c(s)){if(c(n))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+s.key+").");n.decorators=s.decorators}l(s,n)}else t.push(s)}return t}(h.d.map(r)),e);return n.initializeClassElements(h.F,u.elements),n.runClassFinishers(h.F,u.finishers)}([(0,n.customElement)("tab-view")],function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value(){return[s]}},{kind:"field",decorators:[(0,n.property)({type:Object})],key:"datasets",value:void 0},{kind:"field",decorators:[(0,n.queryAll)('ul[role="tablist"] > li > a.tab')],key:"_tabButtons",value:void 0},{kind:"field",decorators:[(0,n.queryAll)(".tab-panel > prediction-range-slider")],key:"_predictionRangeSlider",value:void 0},{kind:"method",key:"_handleSwitchTab",value:function(e){e.preventDefault();const t=e.target.getAttribute("href").replace("#",""),i=Array.from(this._predictionRangeSlider).find(e=>e.id===t);this._tabButtons.forEach(e=>{e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1")}),this._predictionRangeSlider.forEach(e=>{e.setAttribute("hidden",!0)}),i.removeAttribute("hidden",!1),e.target.setAttribute("aria-selected",!0),e.target.setAttribute("tabindex","0"),this._switchTabEvent(i)}},{kind:"method",key:"_switchTabEvent",value:function(e){this.dispatchEvent(new CustomEvent("switch-tab",{detail:{dataset:e.dataset.dataset,values:[parseFloat(e.minValue),parseFloat(e.maxValue)],inequalitySigns:[e.minInequalitySign,e.maxInequalitySign],unassignedChecks:e.unassignedChecks},bubbles:!0,composed:!0}))}},{kind:"method",key:"render",value:function(){const e=Object.entries(this.datasets);return a.html`
      <ul aria-labelledby="tabs-title" role="tablist">
        ${e.map(([e,t],i)=>a.html`
            <li>
              <a
                id="tab-${e}"
                class="tab"
                href="#${e}"
                aria-selected=${0===i?"true":"false"}
                tabindex=${0===i?"0":"-1"}
                @click=${this._handleSwitchTab}
                >${t.label}
              </a>
            </li>
          `)}
      </ul>

      <div class="tab-panel">
        ${e.map(([e,t],i)=>a.html`
            <prediction-range-slider
              id="${e}"
              aria-labelledby="tab-${e}"
              .predictionScoreName=${e}
              .minValue=${0}
              .maxValue=${1}
              .minInequalitySign=${"gte"}
              .maxInequalitySign=${"lte"}
              .unassignedChecks=${[]}
              .activeDataset=${t.threshold}
              .unassignedLists=${t.unassignedLists}
              ?hidden=${0!==i}
            >
            </prediction-range-slider>
          `)}
      </div>
    `}}]}},a.LitElement)},4045:function(e,t,i){"use strict";i.d(t,{C:function(){return a}});const a=(e,t,i)=>{const a=Object.entries(e).flatMap(([e,t])=>[{color:t.color,division:t.min},{color:t.color,division:t.max}]);let n=parseInt(t.style.left)/100||0;return`linear-gradient(to right, ${a.map(e=>{const t=(e.division-n)*i;return`${e.color} ${t}px`}).join(", ")})`}},756:function(e,t,i){"use strict";i.d(t,{r:function(){return n}});const a={gte:"&#8804;",lte:"&#8804;",gt:"&#60;",lt:"&#60;"},n=(e,t)=>{e.dataset.inequalitySign=t,e.innerHTML=a[t]}},4516:function(e,t,i){"use strict";i.r(t),i.d(t,{LogarithmizedBlockGraphFrequencyView:function(){return n}});var a=i(6337);class n extends a.LitElement{constructor(){super(),this.dataset,this.alleleCount,this.total,this.frequencyValue,this.alternateAlleleCount}render(){return a.html`
      <span class="blocks">
        ${Array.from({length:6}).map(()=>a.html`<span class="block"></span>`)}
      </span>
    `}firstUpdated(){}set frequency(e){this.dataset.alleleCount=e?.ac,e?.aac&&(this.dataset.alternateAlleleCount=e.aac);let t="na";if(e)switch(this.alleleCount=e.ac,this.total=e.an,this.frequencyValue=e.af,!0){case e.af>=.5:t="0.5";break;case e.af>.05:t="<0.5";break;case e.af>.01:t="<0.05";break;case e.af>.001:t="<0.01";break;case e.af>1e-4:t="<0.001";break;case e.af>0:t="<0.0001";break;default:t="monomorphic"}this.dataset.logarithmizedFrequency=t}}n.styles=a.css`
    :host {
      --color-dataset: var(--color-dataset-foreign);
      position: relative;
      margin-right: 1px;
      border-style: solid;
      border-width: 1px;
      display: inline-block;
      width: ${9}px;
      height: ${21}px;
      vertical-align: middle;
      font-size: 0;
      background-color: white;
    }
    :host([data-dataset='gem_j_wga']) {
      --color-dataset: var(--color-dataset-gemj);
    }
    :host([data-dataset^='jga_']) {
      --color-dataset: var(--color-dataset-jga);
    }
    :host([data-dataset='tommo']) {
      --color-dataset: var(--color-dataset-tommo);
    }
    :host([data-dataset='hgvd']) {
      --color-dataset: var(--color-dataset-hgvd);
    }
    :host([data-dataset='ncbn']) {
      --color-dataset: var(--color-dataset-ncbn);
    }
    :host([data-dataset='bbj']) {
      --color-dataset: var(--color-dataset-bbj);
    }
    :host {
      border-color: var(--color-dataset);
    }
    :host > .blocks {
      position: absolute;
      left: 1px;
      bottom: 1px;
      width: ${5}px;
      display: block;
    }
    :host > .blocks > .block {
      position: absolute;
      display: none;
      width: ${5}px;
      height: ${2}px;
      background-color: var(--color-dataset);
    }
    :host > .blocks > .block:nth-child(1) {
      bottom: 0;
    }
    :host > .blocks > .block:nth-child(2) {
      bottom: ${3}px;
    }
    :host > .blocks > .block:nth-child(3) {
      bottom: ${6}px;
    }
    :host > .blocks > .block:nth-child(4) {
      bottom: ${9}px;
    }
    :host > .blocks > .block:nth-child(5) {
      bottom: ${12}px;
    }
    :host > .blocks > .block:nth-child(6) {
      bottom: ${15}px;
    }
    :host([data-logarithmized-frequency='<0.0001'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.001'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.001'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.01'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.01'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.01'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(4),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(4),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(5),
    :host([data-logarithmized-frequency='0.5'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='0.5'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='0.5'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='0.5'])
      > .blocks
      > .block:nth-child(4),
    :host([data-logarithmized-frequency='0.5'])
      > .blocks
      > .block:nth-child(5),
    :host([data-logarithmized-frequency='0.5'])
      > .blocks
      > .block:nth-child(6) {
      display: block;
    }
    :host([data-logarithmized-frequency='na']) {
      border-color: #d4d3d1;
      background-color: #f4f4f4;
    }
    :host([data-allele-count='1']) {
      background-color: var(--color-singleton);
    }
    :host([data-alternate-allele-count]) > .blocks::before {
      content: 'H';
      position: absolute;
      top: -24px;
      right: -5px;
      background-color: var(--color-homozygote);
      color: white;
      font-size: 8px;
      font-weight: bold;
      width: 9px;
      height: 9px;
      text-align: center;
      line-height: 9px;
      z-index: 10;
    }
  `,customElements.define("logarithmized-block-graph-frequency-view",n)},9524:function(){const e=document.createElement("template"),t=document.createElement("div");t.className="match",t.part="match",t.innerHTML='\n<label part="match label">\n  <input class="all" name="match" type="radio" value="all">\n  for all datasets\n</label>\n<label part="label">\n  <input class="any" checked="checked" name="match" type="radio" value="any">\n  for any dataset\n</label>\n',e.innerHTML='\n<style data="slider-style">\ninput[type="range"]::-webkit-slider-runnable-track {\n    -webkit-appearance: none;\n    height: 8px;\n}\n\n.-vertical {\n  transform: rotate(-90deg);\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    height: 1em;\n    width: 3px;\n    background-color: transparent;\n    border-top: solid 1px rgba(0, 0, 0, 0.5);\n    border-bottom: solid 1px rgba(0, 0, 0, 0.5);\n    cursor: col-resize;\n    pointer-events: auto;\n    margin-top: -0.2em;\n}\n</style>\n<style data="slider-track-style"></style>\n<div class="wrapper" part="wrapper">\n\n    <div class="input" part="div-input">\n        <input class="from"  part="num-input" type="number" part="limit-input" title="Lower limit">\n    ~\n        <input class="to"  part="num-input" type="number" part="limit-input" title="Upper limit">\n        <label part="checkbox-label label">\n            <input class="invert" type="checkbox" part="checkbox">Invert range\n        </label>\n    </div>\n    <div class="meter" part="meter">\n      <div class="meter-container" part="meter-container">\n        <div class="slider-track" id="slider-track" part="slider-track">\n          <div class="ruler" part="ruler"></div>\n        </div>\n        <input\n            part = "slider"\n            type="range"\n            name="slider-1"\n            id="slider-1"\n        />\n        <input\n            part = "slider"\n            type="range"\n            name="slider-2"\n            id="slider-2"\n        />\n      </div>\n    </div>\n</div>\n\n';class i extends HTMLElement{static get observedAttributes(){return["min","max","input-step","slider-step","value1","value2","orientation","invert","match","ruler-number-of-steps"]}constructor(){super(),this._slider1Input=e=>{this.state.from=e.target.value},this._slider2Input=e=>{this.state.to=e.target.value},this._toChange=e=>{this.state.to=e.target.value},this._fromChange=e=>{this.state.from=e.target.value},this._invertChange=e=>{this.state.invert=e.target.checked};this.state={from:0,to:1,invert:"0",min:0,max:1,"input-step":.05,"slider-step":.01,match:"any",rulerNumberOfSteps:10},this.root=this.getRootNode(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.slider1=this.shadowRoot.querySelector("#slider-1"),this.slider2=this.shadowRoot.querySelector("#slider-2"),this.sliderTrack=this.shadowRoot.querySelector("#slider-track"),this.from=this.shadowRoot.querySelector(".from"),this.to=this.shadowRoot.querySelector(".to"),this.invertChk=this.shadowRoot.querySelector(".invert"),this._meter=this.shadowRoot.querySelector(".meter")}attributeChangedCallback(e,t,i){switch(e){case"min":this.slider1.min=i,this.slider2.min=i,this.from.min=i,this.to.min=i;break;case"max":this.slider1.max=i,this.slider2.max=i,this.from.max=i,this.to.max=i;break;case"slider-step":this.slider1.step=i,this.slider2.step=i;break;case"input-step":this.from.step=i,this.to.step=i;break;case"value1":this.slider1.value=parseFloat(i).toFixed(3);break;case"value2":this.slider2.value=parseFloat(i).toFixed(3);break;case"invert":this.invertChk.checked="true"===i;break;case"ruler-number-of-steps":this.state.rulerNumberOfSteps=i,this._reRenderRuler();break;case"match":this.match=i;break;case"orientation":"vertical"===i?this._meter.classList.add("-vertical"):this._meter.classList.remove("-vertical"),this._reRenderRuler()}this._fillSlider()}_reRenderRuler(){const e=this.shadowRoot.querySelector(".ruler");e.innerHTML="";const t=parseInt(this.state.rulerNumberOfSteps),i=parseFloat(this.state.min),a=(parseFloat(this.state.max)-i)/t;for(let n=0;n<=t;n++){const s=document.createElement("div");s.className="scale",s.part="scale",s.part.add(`scale-${this.orientation}`),s.innerText=(i+n*a).toFixed(1),s.style.left=`calc(${100*n/t}% - 0.5em`,e.appendChild(s)}}_fillSlider(){const e=Math.min(this.slider1.value,this.slider2.value),t=Math.max(this.slider1.value,this.slider2.value),i=100*e/(this.max-this.min),a=100*t/(this.max-this.min);"1"!==this.state.invert?this.sliderTrack.style.background=`linear-gradient(90deg, var(--color-light-gray) 0%, var(--color-light-gray) ${i}% , var(--color-key-dark1) ${i}%,   var(--color-key-dark1) ${a}%, var(--color-light-gray) ${a}%,  var(--color-light-gray) 100% )`:this.sliderTrack.style.background=`linear-gradient(90deg, var(--color-key-dark1) 0%, var(--color-key-dark1) ${i}%, var(--color-light-gray) ${i}%,  var(--color-light-gray) ${a}%, var(--color-key-dark1) ${a}%,  var(--color-key-dark1) 100% )`,this._drawThumbs()}_drawThumbs(){+this.slider1.value<+this.slider2.value?this.shadowRoot.querySelector("style[data='slider-track-style']").innerHTML="#slider-1::-webkit-slider-thumb {\n            border-right: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(-1.5px);\n        }\n        #slider-2::-webkit-slider-thumb {\n            border-left: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(1.5px)\n        }\n        ":this.shadowRoot.querySelector("style[data='slider-track-style']").innerHTML="#slider-2::-webkit-slider-thumb {\n            border-right: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(-1.5px);\n        }\n        #slider-1::-webkit-slider-thumb {\n            border-left: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(1.5px)\n        }\n        "}get min(){return this.getAttribute("min")}get max(){return this.getAttribute("max")}get step(){return this.getAttribute("step")}get value1(){return this.getAttribute("value1")}get value2(){return this.getAttribute("value2")}get orientation(){return this.getAttribute("orientation")}get invert(){return"true"===this.getAttribute("invert")}get rulerNumberOfSteps(){return this.getAttribute("ruler-number-of-steps")}set min(e){this.setAttribute("min",e)}set max(e){this.setAttribute("max",e)}set sliderStep(e){this.setAttribute("slider-step",e)}set inputStep(e){this.setAttribute("input-step",e)}set value1(e){this.setAttribute("value1",e)}set value2(e){this.setAttribute("value2",e)}set orientation(e){this.setAttribute("orientation",e)}set rulerNumberOfSteps(e){this.setAttribute("ruler-number-of-steps",e)}set searchType(e){if("simple"===e){this.shadowRoot.querySelector(".wrapper").appendChild(t);this.shadowRoot.querySelector(".match").addEventListener("click",e=>{"INPUT"===e.target.tagName&&(this.match=e.target.value,this.state.match=e.target.value,this._fireEvent(this.state))})}}set invert(e){this.setAttribute("invert",e)}_fireEvent(e){const t=["from","to","match","invert"],i=Object.fromEntries(Object.entries(e).filter(e=>t.includes(e[0]))),a=new CustomEvent("range-changed",{bubbles:!0,detail:i});this.dispatchEvent(a)}connectedCallback(){this.min=this.getAttribute("min")||0,this.max=this.getAttribute("max")||1,this.value1=this.getAttribute("value1")||0,this.value2=this.getAttribute("value2")||1,this.orientation=this.getAttribute("orientation")||"horizontal",this.match=this.getAttribute("simple-search")||"any",this.state=new Proxy(this.state,{set:(e,t,i,a)=>{if("from"===t||"to"===t){if(isNaN(parseFloat(i)))return!0;const a=parseFloat(i);return a>1||a<0?(a>1&&(e.to=1),a<0&&(e.from=0)):"from"===t?a>e.to?e.to=a:e.from=a:a<e.from?e.from=a:e.to=a,this._getToFromFromState.call(this),this._fireEvent(e),!0}return"invert"===t?(e[t]="boolean"==typeof i?i?"1":"0":i,this._getToFromFromState.call(this),this._fireEvent(e),!0):(this._getToFromFromState.call(this),Reflect.set(e,t,i,a))}}),this.state.min=this.min,this.state.max=this.max,this.state.step=this.getAttribute("step")||.01,this.state.from=Math.min(+this.value1,+this.value2),this.state.to=Math.max(+this.value1,+this.value2),this.state.invert="true"===this.getAttribute("invert"),this.state.match=this.match,this.rulerNumberOfSteps=10,this.slider1.addEventListener("input",this._slider1Input),this.slider2.addEventListener("input",this._slider2Input),this.from.addEventListener("change",this._fromChange),this.to.addEventListener("change",this._toChange),this.invertChk.addEventListener("change",this._invertChange),this._fillSlider(),this._reRenderRuler()}_getToFromFromState(){this.slider1.value=Math.min(this.state.from,this.state.to),this.slider2.value=Math.max(this.state.to,this.state.to),this.from.value=this.state.from,this.to.value=this.state.to,this._fillSlider.call(this)}disconnectedCallback(){this.slider1.removeEventListener("input",this._slider1Input),this.slider2.removeEventListener("input",this._slider2Input),this.from.removeEventListener("change",this._fromChange),this.to.removeEventListener("cnahge",this._toChange),this.invertChk.removeEventListener("change",this._invertChange)}}customElements.define("range-slider",i)},2191:function(e,t,i){"use strict";i.r(t),i.d(t,{CONDITION_ITEM_TYPE:function(){return n},CONDITION_TYPE:function(){return a}});const a={term:"term",dataset:"dataset",genotype:"genotype",frequency:"frequency",pathogenicity_prediction:"pathogenicity_prediction",quality:"quality",type:"type",significance:"significance",consequence:"consequence",consequence_grouping:"consequence_grouping",sift:"sift",polyphen:"polyphen",adv_frequency:"adv_frequency",disease:"disease",gene_symbol:"gene",variant_id:"id",location:"location"},n={condition:0,group:1}},1561:function(e,t,i){"use strict";i.a(e,async function(e,a){try{i.r(t),i.d(t,{initHome:function(){return I}});var n=i(5833),s=i(9890),o=i(7803),r=i(6725),l=i(5993),c=i(441),d=i(9630),h=i(9118),u=i(9395),p=i(7919),g=i.n(p),f=i(2572),m=i(2750),b=i(9398),v=i(9956),y=i(7004),_=i(5075),w=i(3531),S=i(3196),k=i(1986),x=i(1249),E=i(9662),C=i(1068),R=i(5373),A=i.n(R),T=i(3522),O=i(6364),M=e([l]);l=(M.then?(await M)():M)[0];const D=A().parse(window.location.search.substring(1));function I(){q(),n.storeManager.setData("offset",0),n.storeManager.setData("selectedRow",void 0),(0,O.W)(),new r.A(document.getElementById("Configuration")),new l.A(document.getElementById("Karyotype")),new c.A(document.getElementById("ActivityIndicator")),L(()=>{z(),["DownloadJson","DownloadCsv","DownloadTsv"].forEach(e=>{new u.A(P(e))}),N(),V(),j(),$(".module-tabs-view").forEach(e=>{new d.A(e)}),new C.A})}function q(){const e=window.navigator.userAgent.toLowerCase();let t="";switch(!0){case-1!==e.indexOf("windows nt"):t="windows";break;case-1!==e.indexOf("mac os x"):t="mac"}document.querySelector("html").dataset.os=t}function L(e){const t=i(7948);Object.freeze(t),n.storeManager.setData("simpleSearchConditionsMaster",t);const a={};if("simple"===n.storeManager.getData("searchMode"))Object.assign(a,(0,T.extractSearchCondition)(D));n.storeManager.setData("simpleSearchConditions",a),n.storeManager.setData("advancedSearchConditions",{}),e()}const P=e=>document.getElementById(e),$=e=>document.querySelectorAll(e);function z(){const e=new s.ResultsView(P("ResultsView"));h.A.init([e])}function N(){new o.A(P("SideBar")),new m.A(P("FilterDatasets"),"dataset","statisticsDataset"),new b.A(P("FilterAlternativeAlleleFrequency")),new v.A(P("FilterVariantCallingQuality")),new m.A(P("FilterVariantType"),"type","statisticsType"),new m.A(P("FilterClinicalSignificance"),"significance","statisticsSignificance"),new y.A(P("FilterConsequence")),new m.A(P("FilterSIFT"),"sift"),new m.A(P("FilterPolyPhen"),"polyphen"),new m.A(P("FilterAlphaMissense"),"alphamissense")}function V(){new _.A(P("PreviewGene")),new w.A(P("PreviewToVariantReport")),new S.A(P("PreviewExternalLinks")),new k.A(P("PreviewAlternativeAlleleFrequencies")),new x.A(P("PreviewConsequence")),new E.A(P("PreviewClinicalSignificance"))}function j(){new(g()),new f.A(P("AdvancedSearchBuilderView")),$("#SearchInputView > .tabscontainer > ul > li").forEach(e=>{e.addEventListener("click",e=>{n.storeManager.setData("searchMode",e.target.dataset.target)})})}a()}catch(H){a(H)}})},582:function(e,t,i){"use strict";i.r(t),i.d(t,{axios:function(){return n},cachedAxios:function(){return s}});var a=i(1083);const n=(0,i(2234).WQ)(a.A.create({headers:{"Content-Type":"application/json",Accept:"application/json"}}));class s{constructor(e,t=100){this.axios=a.A.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.maxCacheSize=t,this.cache=new Map}get(e){return this.cache.has(e)?Promise.resolve(this.cache.get(e)):this.axios.get(e).then(({data:t})=>{if(this.cache.set(e,{data:t}),this.cache.size>this.maxCacheSize){const[e]=this.cache.keys();this.cache.delete(e)}return{data:t}})}}},4758:function(e,t,i){"use strict";i.d(t,{Z:function(){return a}});const a=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`},4191:function(e,t,i){"use strict";function a(e,t=1e3){let i;return function(){clearTimeout(i),i=setTimeout(()=>e.apply(this,arguments),t)}}i.r(t),i.d(t,{debounce:function(){return a}})},6305:function(e,t,i){"use strict";i.r(t),i.d(t,{keyDownEvent:function(){return n}});var a=i(5833);function n(e){switch(e){case"showModal":return!a.storeManager.getData("showSuggest");case"selectedRow":return!a.storeManager.getData("showModal")}}},7948:function(e){e.exports=[{id:"term",label:"Term",type:"string",default:""},{id:"dataset",label:"Dataset",type:"array",items:[{id:"gem_j_wga",label:"GEM-J WGA",type:"boolean",default:"1",has_freq:!0},{id:"jga_wes",label:"JGA-WES",type:"boolean",default:"1",has_freq:!0},{id:"jga_snp",label:"JGA-SNP",type:"boolean",default:"1",has_freq:!0},{id:"tommo",label:"ToMMo 8.3KJPN",type:"boolean",default:"1",has_freq:!0},{id:"hgvd",label:"HGVD",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_genomes",label:"gnomAD genomes",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_exomes",label:"gnomAD exomes",type:"boolean",default:"1",has_freq:!0},{id:"mgend",label:"MGeND",type:"boolean",default:"1",has_freq:!1},{id:"clinvar",label:"ClinVar",type:"boolean",default:"1",has_freq:!1}]},{id:"frequency",label:"Alternative allele frequency",type:"array",items:[{id:"from",label:"From",type:"range",default:0},{id:"to",label:"To",type:"range",default:1},{id:"invert",label:"Invert",type:"boolean",default:"0"},{id:"match",label:"Match",type:"enumeration",default:"any",values:["all","any"]}]},{id:"quality",label:"Variant calling quality",type:"boolean",default:"1"},{id:"type",label:"Variant type",type:"array",items:[{id:"SO_0001483",label:"SNV",type:"boolean",default:"1"},{id:"SO_0000667",label:"Insertion",type:"boolean",default:"1"},{id:"SO_0000159",label:"Deletion",type:"boolean",default:"1"},{id:"SO_1000032",label:"Indel",type:"boolean",default:"1"},{id:"SO_1000002",label:"Substitution",type:"boolean",default:"1"}]},{id:"significance",label:"Clinical significance",type:"array",items:[{id:"NC",label:"Unassigned",type:"boolean",default:"1"},{id:"P",label:"Pathogenic",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"PLP",label:"Pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"LPLP",label:"Likely pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"ERA",label:"Established risk allele",type:"boolean",default:"1"},{id:"LRA",label:"Likely risk allele",type:"boolean",default:"1"},{id:"URA",label:"Uncertain risk allele",type:"boolean",default:"1"},{id:"US",label:"Uncertain significance",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"CI",label:"Conflicting interpretations of pathogenicity",type:"boolean",default:"1"},{id:"DR",label:"Drug response",type:"boolean",default:"1"},{id:"CS",label:"Confers sensitivity",type:"boolean",default:"1"},{id:"RF",label:"Risk factor",type:"boolean",default:"1"},{id:"A",label:"Association",type:"boolean",default:"1"},{id:"PR",label:"Protective",type:"boolean",default:"1"},{id:"AF",label:"Affects",type:"boolean",default:"1"},{id:"O",label:"Other",type:"boolean",default:"1"},{id:"NP",label:"Not provided",type:"boolean",default:"1"},{id:"AN",label:"Association not found",type:"boolean",default:"1"}]},{id:"consequence",label:"Consequence",type:"array",items:[{id:"SO_0001566",label:"Regulatory region variant",type:"boolean",default:"1",description:"A sequence variant located within a regulatory region"},{id:"SO_0001567",label:"Stop retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the terminator codon is changed, but the terminator remains"},{id:"SO_0001574",label:"Splice acceptor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 3' end of an intron"},{id:"SO_0001575",label:"Splice donor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 5' end of an intron"},{id:"SO_0001578",label:"Stop lost",type:"boolean",default:"1",description:"A sequence variant where at least one base of the terminator codon (stop) is changed, resulting in an elongated transcript"},{id:"SO_0001580",label:"Coding sequence variant",type:"boolean",default:"1",description:"A sequence variant that changes the coding sequence"},{id:"SO_0001583",label:"Missense variant",type:"boolean",default:"1",description:"A sequence variant, that changes one or more bases, resulting in a different amino acid sequence but where the length is preserved"},{id:"SO_0001587",label:"Stop gained",type:"boolean",default:"1",description:"A sequence variant whereby at least one base of a codon is changed, resulting in a premature stop codon, leading to a shortened transcript"},{id:"SO_0001589",label:"Frameshift variant",type:"boolean",default:"1",description:"A sequence variant which causes a disruption of the translational reading frame, because the number of nucleotides inserted or deleted is not a multiple of three"},{id:"SO_0001619",label:"Non coding transcript variant",type:"boolean",default:"1",description:"A transcript variant of a non coding RNA gene"},{id:"SO_0001620",label:"Mature miRNA variant",type:"boolean",default:"1",description:"A transcript variant located with the sequence of the mature miRNA"},{id:"SO_0001621",label:"NMD transcript variant",type:"boolean",default:"1",description:"A variant in a transcript that is the target of NMD"},{id:"SO_0001623",label:"5 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 5' UTR"},{id:"SO_0001624",label:"3 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 3' UTR"},{id:"SO_0001626",label:"Incomplete terminal codon variant",type:"boolean",default:"1",description:"A sequence variant where at least one base of the final codon of an incompletely annotated transcript is changed"},{id:"SO_0001627",label:"Intron variant",type:"boolean",default:"1",description:"A transcript variant occurring within an intron"},{id:"SO_0001628",label:"Intergenic variant",type:"boolean",default:"1",description:"A sequence variant located in the intergenic region, between genes"},{id:"SO_0001630",label:"Splice region variant",type:"boolean",default:"1",description:"A sequence variant in which a change has occurred within the region of the splice site, either within 1-3 bases of the exon or 3-8 bases of the intron"},{id:"SO_0001631",label:"Upstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 5' of a gene"},{id:"SO_0001632",label:"Downstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 3' of a gene"},{id:"SO_0001782",label:"TF binding site variant",type:"boolean",default:"1",description:"A sequence variant located within a transcription factor binding site"},{id:"SO_0001792",label:"Non coding transcript exon variant",type:"boolean",default:"1",description:"A sequence variant that changes non-coding exon sequence in a non-coding transcript"},{id:"SO_0001818",label:"Protein altering variant",type:"boolean",default:"1",description:"A sequence_variant which is predicted to change the protein encoded in the coding sequence"},{id:"SO_0001819",label:"Synonymous variant",type:"boolean",default:"1",description:"A sequence variant where there is no resulting change to the encoded amino acid"},{id:"SO_0001821",label:"Inframe insertion",type:"boolean",default:"1",description:"An inframe non synonymous variant that inserts bases into in the coding sequence"},{id:"SO_0001822",label:"Inframe deletion",type:"boolean",default:"1",description:"An inframe non synonymous variant that deletes bases from the coding sequence"},{id:"SO_0001889",label:"Transcript amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcript"},{id:"SO_0001891",label:"Regulatory region amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a regulatory region"},{id:"SO_0001892",label:"TFBS amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcription factor binding site"},{id:"SO_0001893",label:"Transcript ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcript feature"},{id:"SO_0001894",label:"Regulatory region ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a regulatory region"},{id:"SO_0001895",label:"TFBS ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcription factor binding site"},{id:"SO_0001906",label:"Feature truncation",type:"boolean",default:"1",description:"A sequence variant that causes the reduction of a genomic feature, with regard to the reference sequence"},{id:"SO_0001907",label:"Feature elongation",type:"boolean",default:"1",description:"A sequence variant that causes the extension of a genomic feature, with regard to the reference sequence"},{id:"SO_0002012",label:"Start lost",type:"boolean",default:"1",description:"A codon variant that changes at least one base of the canonical start codon"},{id:"SO_0002019",label:"Start retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the start codon is changed, but the start remains"}]},{id:"consequence_grouping",items:[{label:"Transcript variant",items:[{label:"Coding variant",items:["SO_0001580","SO_0001907","SO_0001906","SO_0001589","SO_0001626","SO_0001822","SO_0001821","SO_0001583","SO_0001621","SO_0001818","SO_0001819","SO_0002012","SO_0001587","SO_0001578","SO_0002019","SO_0001567"]},{label:"Non-coding variant",items:["SO_0001624","SO_0001623","SO_0001627","SO_0001792","SO_0001619"]},{label:"Splice variant",items:["SO_0001574","SO_0001575","SO_0001630"]},"SO_0001893","SO_0001889"]},{label:"Regulatory variant",items:["SO_0001620","SO_0001894","SO_0001891","SO_0001566","SO_0001782","SO_0001895","SO_0001892"]},{label:"Intergenic variant",items:["SO_0001632","SO_0001628","SO_0001631"]}]},{id:"alphamissense",label:"AlphaMissense",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"A",label:"Ambiguous",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"}]},{id:"sift",label:"SIFT",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"D",label:"Deleterious",type:"boolean",default:"1"},{id:"T",label:"Tolerated",type:"boolean",default:"1"}]},{id:"polyphen",label:"PolyPhen",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"PROBD",label:"Probably damaging",type:"boolean",default:"1"},{id:"POSSD",label:"Possibly damaging",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"U",label:"Unknown",type:"boolean",default:"1"}]}]},3105:function(e){e.exports=[{id:"term",label:"Term",type:"string",default:""},{id:"dataset",label:"Dataset",type:"array",items:[{id:"gem_j_wga",label:"GEM-J WGA",type:"boolean",default:"1",has_freq:!0},{id:"jga_wgs",label:"JGA-WGS",type:"boolean",default:"1",has_freq:!0},{id:"jga_wes",label:"JGA-WES",type:"boolean",default:"1",has_freq:!0},{id:"jga_snp",label:"JGA-SNP",type:"boolean",default:"1",has_freq:!0},{id:"tommo",label:"ToMMo 54KJPN",type:"boolean",default:"1",has_freq:!0},{id:"ncbn",label:"NCBN",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_genomes",label:"gnomAD genomes",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_exomes",label:"gnomAD exomes",type:"boolean",default:"1",has_freq:!0},{id:"mgend",label:"MGeND",type:"boolean",default:"1",has_freq:!1},{id:"clinvar",label:"ClinVar",type:"boolean",default:"1",has_freq:!1}]},{id:"frequency",label:"Alternative allele frequency",type:"array",items:[{id:"from",label:"From",type:"range",default:0},{id:"to",label:"To",type:"range",default:1},{id:"invert",label:"Invert",type:"boolean",default:"0"},{id:"match",label:"Match",type:"enumeration",default:"any",values:["all","any"]}]},{id:"quality",label:"Variant calling quality",type:"boolean",default:"1"},{id:"type",label:"Variant type",type:"array",items:[{id:"SO_0001483",label:"SNV",type:"boolean",default:"1"},{id:"SO_0000667",label:"Insertion",type:"boolean",default:"1"},{id:"SO_0000159",label:"Deletion",type:"boolean",default:"1"},{id:"SO_1000032",label:"Indel",type:"boolean",default:"1"},{id:"SO_1000002",label:"Substitution",type:"boolean",default:"1"}]},{id:"significance",label:"Clinical significance",type:"array",items:[{id:"NC",label:"Unassigned",type:"boolean",default:"1"},{id:"P",label:"Pathogenic",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"PLP",label:"Pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"LPLP",label:"Likely pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"ERA",label:"Established risk allele",type:"boolean",default:"1"},{id:"LRA",label:"Likely risk allele",type:"boolean",default:"1"},{id:"URA",label:"Uncertain risk allele",type:"boolean",default:"1"},{id:"US",label:"Uncertain significance",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"CI",label:"Conflicting interpretations of pathogenicity",type:"boolean",default:"1"},{id:"DR",label:"Drug response",type:"boolean",default:"1"},{id:"CS",label:"Confers sensitivity",type:"boolean",default:"1"},{id:"RF",label:"Risk factor",type:"boolean",default:"1"},{id:"A",label:"Association",type:"boolean",default:"1"},{id:"PR",label:"Protective",type:"boolean",default:"1"},{id:"AF",label:"Affects",type:"boolean",default:"1"},{id:"O",label:"Other",type:"boolean",default:"1"},{id:"NP",label:"Not provided",type:"boolean",default:"1"},{id:"AN",label:"Association not found",type:"boolean",default:"1"}]},{id:"consequence",label:"Consequence",type:"array",items:[{id:"SO_0001566",label:"Regulatory region variant",type:"boolean",default:"1",description:"A sequence variant located within a regulatory region"},{id:"SO_0001567",label:"Stop retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the terminator codon is changed, but the terminator remains"},{id:"SO_0001574",label:"Splice acceptor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 3' end of an intron"},{id:"SO_0001575",label:"Splice donor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 5' end of an intron"},{id:"SO_0001578",label:"Stop lost",type:"boolean",default:"1",description:"A sequence variant where at least one base of the terminator codon (stop) is changed, resulting in an elongated transcript"},{id:"SO_0001580",label:"Coding sequence variant",type:"boolean",default:"1",description:"A sequence variant that changes the coding sequence"},{id:"SO_0001583",label:"Missense variant",type:"boolean",default:"1",description:"A sequence variant, that changes one or more bases, resulting in a different amino acid sequence but where the length is preserved"},{id:"SO_0001587",label:"Stop gained",type:"boolean",default:"1",description:"A sequence variant whereby at least one base of a codon is changed, resulting in a premature stop codon, leading to a shortened transcript"},{id:"SO_0001589",label:"Frameshift variant",type:"boolean",default:"1",description:"A sequence variant which causes a disruption of the translational reading frame, because the number of nucleotides inserted or deleted is not a multiple of three"},{id:"SO_0001619",label:"Non coding transcript variant",type:"boolean",default:"1",description:"A transcript variant of a non coding RNA gene"},{id:"SO_0001620",label:"Mature miRNA variant",type:"boolean",default:"1",description:"A transcript variant located with the sequence of the mature miRNA"},{id:"SO_0001621",label:"NMD transcript variant",type:"boolean",default:"1",description:"A variant in a transcript that is the target of NMD"},{id:"SO_0001623",label:"5 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 5' UTR"},{id:"SO_0001624",label:"3 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 3' UTR"},{id:"SO_0001626",label:"Incomplete terminal codon variant",type:"boolean",default:"1",description:"A sequence variant where at least one base of the final codon of an incompletely annotated transcript is changed"},{id:"SO_0001627",label:"Intron variant",type:"boolean",default:"1",description:"A transcript variant occurring within an intron"},{id:"SO_0001628",label:"Intergenic variant",type:"boolean",default:"1",description:"A sequence variant located in the intergenic region, between genes"},{id:"SO_0001630",label:"Splice region variant",type:"boolean",default:"1",description:"A sequence variant in which a change has occurred within the region of the splice site, either within 1-3 bases of the exon or 3-8 bases of the intron"},{id:"SO_0001631",label:"Upstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 5' of a gene"},{id:"SO_0001632",label:"Downstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 3' of a gene"},{id:"SO_0001782",label:"TF binding site variant",type:"boolean",default:"1",description:"A sequence variant located within a transcription factor binding site"},{id:"SO_0001792",label:"Non coding transcript exon variant",type:"boolean",default:"1",description:"A sequence variant that changes non-coding exon sequence in a non-coding transcript"},{id:"SO_0001818",label:"Protein altering variant",type:"boolean",default:"1",description:"A sequence_variant which is predicted to change the protein encoded in the coding sequence"},{id:"SO_0001819",label:"Synonymous variant",type:"boolean",default:"1",description:"A sequence variant where there is no resulting change to the encoded amino acid"},{id:"SO_0001821",label:"Inframe insertion",type:"boolean",default:"1",description:"An inframe non synonymous variant that inserts bases into in the coding sequence"},{id:"SO_0001822",label:"Inframe deletion",type:"boolean",default:"1",description:"An inframe non synonymous variant that deletes bases from the coding sequence"},{id:"SO_0001889",label:"Transcript amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcript"},{id:"SO_0001891",label:"Regulatory region amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a regulatory region"},{id:"SO_0001892",label:"TFBS amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcription factor binding site"},{id:"SO_0001893",label:"Transcript ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcript feature"},{id:"SO_0001894",label:"Regulatory region ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a regulatory region"},{id:"SO_0001895",label:"TFBS ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcription factor binding site"},{id:"SO_0001906",label:"Feature truncation",type:"boolean",default:"1",description:"A sequence variant that causes the reduction of a genomic feature, with regard to the reference sequence"},{id:"SO_0001907",label:"Feature elongation",type:"boolean",default:"1",description:"A sequence variant that causes the extension of a genomic feature, with regard to the reference sequence"},{id:"SO_0002012",label:"Start lost",type:"boolean",default:"1",description:"A codon variant that changes at least one base of the canonical start codon"},{id:"SO_0002019",label:"Start retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the start codon is changed, but the start remains"}]},{id:"consequence_grouping",items:[{label:"Transcript variant",items:[{label:"Coding variant",items:["SO_0001580","SO_0001907","SO_0001906","SO_0001589","SO_0001626","SO_0001822","SO_0001821","SO_0001583","SO_0001621","SO_0001818","SO_0001819","SO_0002012","SO_0001587","SO_0001578","SO_0002019","SO_0001567"]},{label:"Non-coding variant",items:["SO_0001624","SO_0001623","SO_0001627","SO_0001792","SO_0001619"]},{label:"Splice variant",items:["SO_0001574","SO_0001575","SO_0001630"]},"SO_0001893","SO_0001889"]},{label:"Regulatory variant",items:["SO_0001620","SO_0001894","SO_0001891","SO_0001566","SO_0001782","SO_0001895","SO_0001892"]},{label:"Intergenic variant",items:["SO_0001632","SO_0001628","SO_0001631"]}]},{id:"alphamissense",label:"AlphaMissense",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"A",label:"Ambiguous",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"}]},{id:"sift",label:"SIFT",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"D",label:"Deleterious",type:"boolean",default:"1"},{id:"T",label:"Tolerated",type:"boolean",default:"1"}]},{id:"polyphen",label:"PolyPhen",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"PROBD",label:"Probably damaging",type:"boolean",default:"1"},{id:"POSSD",label:"Possibly damaging",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"U",label:"Unknown",type:"boolean",default:"1"}]}]},6696:function(e){e.exports=[{id:"table-header-togovar_id",content:"TogoVar identifier assigned to variants observed in Japanese populations"},{id:"table-header-refsnp_id",content:"RefSNP (rs) identifier of dbSNP"},{id:"table-header-position",content:"Chromosomal position"},{id:"table-header-ref_alt",content:"Reference and alternative allele"},{id:"table-header-type",content:"Variant type (SNV, insertion, deletion, indel or substitution)"},{id:"table-header-gene",content:"The HUGO Gene Nomenclature Committee (HGNC) gene symbol"},{id:"table-header-alt_frequency",content:"Frequency indicator representing alternative allele frequencies",url:"doc/help#s1"},{id:"table-header-consequence",content:"Variant consequence detected by Variant Effect Predictor (VEP)",url:"/doc/help#d5"},{id:"table-header-sift",content:"Prediction of functional effects of a nonsynonymous variant by the Sorting Intolerant From Tolerant (SIFT) program",url:"/doc/help#d6"},{id:"table-header-polyphen",content:"Prediction of functional effects of a nonsynonymous variant by the PolyPhen-2 (Polymorphism Phenotyping v2) program",url:"/doc/help#d6"},{id:"table-header-alphamissense",content:"Prediction of functional effects of a nonsynonymous variant by the AlphaMissense program.",url:"/doc/help#d6"},{id:"table-header-clinical_significance",content:"Clinical significance provided by ClinVar",url:"/doc/help#d7"}]},4186:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{--height-container:var(--height-advanced-search-condition-values-container);--height:var(--height-advanced-search-condition-value);display:inline-block}:host>.condition-item-value-container{display:flex;justify-content:space-between;gap:20px}:host .inner{align-self:center;line-height:1;padding:1px 10px 0 10px;background-color:#fff;border:solid 1px var(--color-key-dark1);border-radius:calc(var(--height)*.5);font-weight:700;margin-right:2px}:host([data-condition-type=dataset]),:host([data-condition-type=genotype]){display:block;position:relative}:host([data-condition-type=dataset]) .inner,:host([data-condition-type=genotype]) .inner{min-width:50px}:host([data-condition-type=dataset]) .inner::before,:host([data-condition-type=genotype]) .inner::before{font-family:fontello,sans-serif;content:var(--char-dataset);margin-right:4px}:host([data-condition-type=significance]) .inner::before{margin-right:4px;margin-left:-2px;font-size:10px;position:relative;top:-1px}:host([data-condition-type=pathogenicity_prediction]){position:relative}:host([data-condition-type=pathogenicity_prediction]) .inner{background-color:rgba(0,0,0,0);border:none}:host([data-condition-type=dataset][data-value=gem_j_wga]) .inner{border-color:var(--color-dataset-gemj);background-color:var(--color-dataset-gemj-light)}:host([data-condition-type=dataset][data-value=gem_j_wga]) .inner::before{color:var(--color-dataset-gemj)}:host([data-condition-type=dataset][data-value=jga_snp]) .inner,:host([data-condition-type=dataset][data-value=jga_wes]) .inner,:host([data-condition-type=dataset][data-value^=bbj_riken]) .inner,:host([data-condition-type=dataset][data-value^=jga_wgs]) .inner,:host([data-condition-type=genotype][data-value=jga_snp]) .inner,:host([data-condition-type=genotype][data-value=jga_wes]) .inner,:host([data-condition-type=genotype][data-value^=bbj_riken]) .inner,:host([data-condition-type=genotype][data-value^=jga_wgs]) .inner{border-color:var(--color-dataset-jga);background-color:var(--color-dataset-jga-light)}:host([data-condition-type=dataset][data-value=jga_snp]) .inner::before,:host([data-condition-type=dataset][data-value=jga_wes]) .inner::before,:host([data-condition-type=dataset][data-value^=bbj_riken]) .inner::before,:host([data-condition-type=dataset][data-value^=jga_wgs]) .inner::before,:host([data-condition-type=genotype][data-value=jga_snp]) .inner::before,:host([data-condition-type=genotype][data-value=jga_wes]) .inner::before,:host([data-condition-type=genotype][data-value^=bbj_riken]) .inner::before,:host([data-condition-type=genotype][data-value^=jga_wgs]) .inner::before{color:var(--color-dataset-jga)}:host([data-condition-type=dataset][data-value=hgvd]) .inner{border-color:var(--color-dataset-hgvd);background-color:var(--color-dataset-hgvd-light)}:host([data-condition-type=dataset][data-value=hgvd]) .inner::before{color:var(--color-dataset-hgvd)}:host([data-condition-type=dataset][data-value=tommo]) .inner{border-color:var(--color-dataset-tommo);background-color:var(--color-dataset-tommo-light)}:host([data-condition-type=dataset][data-value=tommo]) .inner::before{color:var(--color-dataset-tommo)}:host([data-condition-type=dataset][data-value^=ncbn]) .inner,:host([data-condition-type=genotype][data-value^=ncbn]) .inner{border-color:var(--color-dataset-ncbn);background-color:var(--color-dataset-ncbn-light)}:host([data-condition-type=dataset][data-value^=ncbn]) .inner::before,:host([data-condition-type=genotype][data-value^=ncbn]) .inner::before{color:var(--color-dataset-ncbn)}:host([data-condition-type=dataset][data-value^=gnomad_exomes]) .inner,:host([data-condition-type=dataset][data-value^=gnomad_genomes]) .inner{border-color:var(--color-dataset-foreign);background-color:var(--color-dataset-foreign-light)}:host([data-condition-type=dataset][data-value^=gnomad_exomes]) .inner::before,:host([data-condition-type=dataset][data-value^=gnomad_genomes]) .inner::before{color:var(--color-dataset-foreign)}:host([data-condition-type=significance][data-value=P]) .inner{border-color:var(--color-sign-dangerous);background-color:var(--color-sign-dangerous-light)}:host([data-condition-type=significance][data-value=P]) .inner::before{content:"P";color:var(--color-sign-dangerous)}:host([data-condition-type=significance][data-value=LP]) .inner{border-color:var(--color-sign-dangerous);background-color:var(--color-sign-dangerous-light)}:host([data-condition-type=significance][data-value=LP]) .inner::before{content:"LP";color:var(--color-sign-dangerous)}:host([data-condition-type=significance][data-value=PLP]) .inner{border-color:var(--color-sign-lowdangerous);background-color:var(--color-sign-lowdangerous-light)}:host([data-condition-type=significance][data-value=PLP]) .inner::before{content:"P";color:var(--color-sign-lowdangerous)}:host([data-condition-type=significance][data-value=LPLP]) .inner{border-color:var(--color-sign-lowdangerous);background-color:var(--color-sign-lowdangerous-light)}:host([data-condition-type=significance][data-value=LPLP]) .inner::before{content:"LP";color:var(--color-sign-lowdangerous)}:host([data-condition-type=significance][data-value=ERA]) .inner{border-color:var(--color-sign-warning);background-color:var(--color-sign-warning-light)}:host([data-condition-type=significance][data-value=ERA]) .inner::before{content:"RA";color:var(--color-sign-warning)}:host([data-condition-type=significance][data-value=LRA]) .inner{border-color:var(--color-sign-warning);background-color:var(--color-sign-warning-light)}:host([data-condition-type=significance][data-value=LRA]) .inner::before{content:"RA";color:var(--color-sign-warning)}:host([data-condition-type=significance][data-value=URA]) .inner{border-color:var(--color-sign-warning);background-color:var(--color-sign-warning-light)}:host([data-condition-type=significance][data-value=URA]) .inner::before{content:"RA";color:var(--color-sign-warning)}:host([data-condition-type=significance][data-value=US]) .inner{border-color:var(--color-sign-unknown);background-color:var(--color-sign-unknown-light)}:host([data-condition-type=significance][data-value=US]) .inner::before{content:"US";color:var(--color-sign-unknown)}:host([data-condition-type=significance][data-value=LB]) .inner{border-color:var(--color-sign-normal);background-color:var(--color-sign-normal-light)}:host([data-condition-type=significance][data-value=LB]) .inner::before{content:"LB";color:var(--color-sign-normal)}:host([data-condition-type=significance][data-value=B]) .inner{border-color:var(--color-sign-safe);background-color:var(--color-sign-safe-light)}:host([data-condition-type=significance][data-value=B]) .inner::before{content:"B";color:var(--color-sign-safe)}:host([data-condition-type=significance][data-value=CI]) .inner{border-color:var(--color-sign-modifier);background-color:var(--color-sign-modifier-light)}:host([data-condition-type=significance][data-value=CI]) .inner::before{content:"CI";color:var(--color-sign-modifier)}:host([data-condition-type=significance][data-value=DR]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=DR]) .inner::before{content:"DR";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=CS]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=CS]) .inner::before{content:"CS";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=RF]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=RF]) .inner::before{content:"RF";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=A]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=A]) .inner::before{content:"A";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=PR]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=PR]) .inner::before{content:"PR";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=AF]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=AF]) .inner::before{content:"AF";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=O]) .inner{border-color:var(--color-gray);background-color:#fff}:host([data-condition-type=significance][data-value=O]) .inner::before{content:"O";border-color:var(--color-gray)}:host([data-condition-type=significance][data-value=NP]) .inner{border-color:var(--color-gray);background-color:#fff}:host([data-condition-type=significance][data-value=NP]) .inner::before{content:"NP";border-color:var(--color-gray)}:host([data-condition-type=significance][data-value=AN]) .inner{border-color:var(--color-gray);background-color:#fff}:host([data-condition-type=significance][data-value=AN]) .inner::before{content:"AN";border-color:var(--color-gray)}button.delete{display:none;border-radius:50%;border:none;color:var(--color-gray);cursor:pointer;position:relative;font-family:fontello,sans-serif;background-color:rgba(0,0,0,0);padding:0;margin-left:.2em;margin-right:-.5em}button.delete::before{content:var(--char-delete);font-size:.8em}`},561:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{display:flex;align-items:center;white-space:nowrap}:host>.frequencygraph{width:100px;height:3.5px;background-color:var(--color-darker-gray);position:relative;margin-right:4px}:host>.frequencygraph>.scale{position:absolute;top:-1px;bottom:-1px;border-left:dotted .5px var(--color-separator)}@media(-webkit-min-device-pixel-ratio:2){:host>.frequencygraph>.scale{border-left:dotted 1px var(--color-separator)}}:host>.frequencygraph>.bar{position:absolute;height:100%}:host([data-dataset=gem_j_wga])>.frequencygraph>.bar{background-color:var(--color-dataset-gemj)}:host([data-dataset=jga_snp]) .frequencygraph>.bar,:host([data-dataset=jga_wes]) .frequencygraph>.bar,:host([data-dataset^=bbj_riken]) .frequencygraph>.bar,:host([data-dataset^=jga_wgs]) .frequencygraph>.bar{background-color:var(--color-dataset-jga)}:host([data-dataset=tommo])>.frequencygraph>.bar{background-color:var(--color-dataset-tommo)}:host([data-dataset=hgvd])>.frequencygraph>.bar{background-color:var(--color-dataset-hgvd)}:host([data-dataset^=ncbn])>.frequencygraph>.bar{background-color:var(--color-dataset-ncbn)}:host>.range{margin-right:.6em;width:4.6em}:host>.range>.from,:host>.range>.to{font-weight:700}:host>.filtered{margin:0;font-size:10px}:host([data-mode=alt_alt])>.frequencygraph,:host([data-mode=alt_ref])>.frequencygraph,:host([data-mode=count])>.frequencygraph,:host([data-mode=hemi_alt])>.frequencygraph{visibility:hidden}:host([data-filtered=false])>.filtered{visibility:hidden}`},9009:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}.title{color:#117f93;font-size:12px;font-weight:400;line-height:16px;margin:4px 0 0;padding:5px 18px 0}.title:first-letter{text-transform:capitalize}.list{margin:10px 0;padding-left:0;list-style:none;overflow-y:scroll;max-height:300px}.list>.item{cursor:pointer;padding:0 18px;height:24px;line-height:24px;transition:background-color .2s}.list>.item>em{background-color:var(--color-suggest);font-style:normal}.list>.item:first-child{padding-top:4px}.list>.item:hover{background-color:rgba(255,221,0,.2)}.list>.item.-disabled{cursor:auto}.list>.item.-disabled:hover{background-color:inherit}.list>.item>.sub{padding-left:.5em;color:rgba(68,68,68,.5);font-size:12px}.list>.item.-selected{background-color:#fd0}.list>.item.-empty{padding:.5rem;text-align:center;color:rgba(68,68,68,.5)}`},2689:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{position:relative;display:block}.suggestions-container{position:absolute;top:100%;left:14px;display:flex;z-index:10200;color:#444;font-size:14px;box-shadow:0 2px 6px rgba(0,0,0,.2);background-color:#fff;max-width:50%;min-width:fit-content}.suggestions-container>.column+.column{border-left:solid 1px rgba(0,0,0,.2)}`},7338:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}.fieldcontainer{box-sizing:border-box}.fieldcontainer>.field{position:relative;margin-bottom:4px;height:30px}.fieldcontainer>.field>.input-form>.searchfield[type=text]{font-family:"Roboto Condensed",sans-serif;box-sizing:border-box;width:100%;line-height:30px;border:solid 1px #0f6272;border-radius:15px;padding:0 12px;vertical-align:center;font-size:12px;outline:0;opacity:.9;box-shadow:0 1px 1px rgba(0,0,0,.2) inset}.fieldcontainer>.field>.input-form>.searchfield[type=text]:focus{opacity:1}.fieldcontainer>.field>.input-form>.delete{position:absolute;top:6px;right:23px;color:var(--color-gray);border:none;background-color:rgba(0,0,0,0);cursor:pointer}.fieldcontainer>.field>.input-form>.delete:after{font-family:fontello;content:var(--char-delete);position:absolute;font-size:1.2rem}.fieldcontainer>.field>.input-form .searchfield:not(:valid)~.delete{display:none}`},6583:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}button{display:block;width:30px;height:30px;border:solid 1px #117f93;border-radius:100%;margin-right:-4px;position:relative;background-color:#fff;box-shadow:0 1px 1px rgba(0,0,0,.2);cursor:pointer}button:after,button:before{content:"";display:block;position:absolute;box-sizing:border-box}button:before{width:12px;height:12px;border:solid 2px #117f93;border-radius:6px;top:6px;left:6px}button:after{height:5px;border-left:solid 2px #117f93;transform:rotate(-45deg);top:16px;left:17px}`},1848:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{display:flex;gap:.2em;flex-wrap:wrap;align-items:center;height:fit-content;margin-top:.2rem}dl{font-size:12px;line-height:16px;margin-bottom:0;padding:0 .5em;display:inline-block;margin-block-start:0;border-radius:8px;cursor:pointer;transition:background-color .2s,box-shadow .2s}dl>dd,dl>dt{display:inline-block;margin-bottom:0;color:#fff;transition:color .2s}dl>dt{font-weight:400;opacity:.6}dl>dt:after{content:":"}dl>dd{margin-inline-start:.2em}dl:hover{background-color:#0f6272}`},3582:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`.simple-search-container{display:flex;gap:.2rem;align-items:center}.simple-search-container>search-field-with-suggestions{flex:1}`},5640:function(e,t,i){"use strict";var a,n=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),o=0;o<i.length;o++)"default"!==i[o]&&n(t,e,i[o]);return s(t,e),t}),r=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function r(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}l((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.executeSearch=void 0;const l=i(5833),c=o(i(5373)),d=o(i(2543)),h=i(8161),u=100,p=i(3522);let g=null,f=null,m=new Set;function b(e,t){const i=Math.round(e/(t/2))*(t/2)-t/4;return Math.max(0,i)}t.executeSearch=(()=>{let e=!1;return d.debounce((t=0,i=!1)=>{if(e&&!i)return;const a=l.storeManager.getData("searchMode");if(g&&g.abort(),f&&f!==a)f=a,i=!0,m.clear();else{const e=t-t%u,i=`${e}-${e+u}`;if("simple"===l.storeManager.getData("searchMode")){if(m.has(i))return;m.add(i)}}f=a,g=new AbortController;const n=g.signal;i&&(l.storeManager.setData("numberOfRecords",0),l.storeManager.setData("offset",0),l.storeManager.setData("rowCount",0),l.storeManager.setData("isFetching",!1),l.storeManager.setData("searchResults",[]),m.clear(),m.clear()),l.storeManager.setData("isFetching",!0),e=!0;const s=function(e,t){let i,a="";switch(l.storeManager.getData("searchMode")){case"simple":{const n=e-e%u;return a=c.stringify((0,p.extractSearchCondition)(l.storeManager.getData("simpleSearchConditions"))),i=`${h.API_URL}/search?offset=${n}${a?"&"+a:""}`,t?[`${i}&stat=0&data=1`,`${i}&stat=1&data=0`]:[`${i}&stat=0&data=1`]}case"advanced":return i=`${h.API_URL}/api/search/variant`,t?[`${i}?stat=0&data=1`,`${i}?stat=1&data=0`]:[`${i}?stat=0&data=1`]}}(t,i),o=function(e){if("simple"===l.storeManager.getData("searchMode"))return{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",signal:e};const t={offset:b(l.storeManager.getData("offset"),u)};l.storeManager.getData("advancedSearchConditions")&&Object.keys(l.storeManager.getData("advancedSearchConditions")).length>0&&(t.query=l.storeManager.getData("advancedSearchConditions"));return{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",signal:e,body:JSON.stringify(t)}}(n);s&&s.length>0?Promise.all(s.map(e=>function(e,t){return r(this,void 0,void 0,function*(){var i,a,n,s,o,r,c;try{const d=yield fetch(e,t);if(!d.ok)throw new Error({400:"INVALID_REQUEST",401:"UNAUTHORIZED",404:"NOT_FOUND",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY"}[d.status]||"UNKNOWN_ERROR");const h=yield d.json(),u=new URL(e),p=Object.fromEntries(u.searchParams.entries());f===l.storeManager.getData("searchMode")&&("1"===p.data&&(c=h,l.storeManager.setResults(c.data,c.scroll.offset)),"1"===p.stat&&function(e){l.storeManager.setData("searchStatus",{available:Math.min(e.statistics.filtered,e.scroll.max_rows),filtered:e.statistics.filtered,total:e.statistics.total}),l.storeManager.setData("numberOfRecords",l.storeManager.getData("searchStatus").available),l.storeManager.setData("statisticsDataset",e.statistics.dataset),l.storeManager.setData("statisticsSignificance",e.statistics.significance),l.storeManager.setData("statisticsType",e.statistics.type),l.storeManager.setData("statisticsConsequence",e.statistics.consequence)}(h)),h.notice||h.warning||h.error?l.storeManager.setData("searchMessages",{notice:null===(a=null===(i=h.notice)||void 0===i?void 0:i.join)||void 0===a?void 0:a.call(i,"<br>"),warning:null===(s=null===(n=h.warning)||void 0===n?void 0:n.join)||void 0===s?void 0:s.call(n,"<br>"),error:null===(r=null===(o=h.error)||void 0===o?void 0:o.join)||void 0===r?void 0:r.call(o,"<br>")}):l.storeManager.setData("searchMessages","")}catch(e){if(console.error(e),"AbortError"===e.name){const e=new Error("ABORTED");throw e.name="AbortError",e}throw e}})}(e,o))).then(()=>{l.storeManager.setData("isFetching",!1),e=!1,function(){r(this,void 0,void 0,function*(){switch(l.storeManager.getData("searchMode"),l.storeManager.getData("searchMode")){case"simple":l.storeManager.getData("simpleSearchConditions").term&&document.body.setAttribute("data-has-conditions","true");break;case"advanced":document.body.toggleAttribute("data-has-conditions",Object.keys(l.storeManager.getData("advancedSearchConditions")).length>0)}l.storeManager.publish("offset"),l.storeManager.publish("searchResults"),l.storeManager.setData("appStatus","normal")})}()}).catch(t=>{"AbortError"!==t.name&&(l.storeManager.setData("isFetching",!1),e=!1,l.storeManager.setData("searchMessages",{error:t}))}):(l.storeManager.setData("isFetching",!1),e=!1)},300)})()},6215:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=a(i(1439)),s=a(i(6819)),o=i(5833),r=i(8161),l=i(2191),c=i(6305);class d extends n.default{constructor(e,t,i,a,n=null){super(l.CONDITION_ITEM_TYPE.condition,e,t,n),this._keydownEscapeEvent=this._keydownEscape.bind(this),this._conditionType=i,this._isFirstTime=!0,this._keepLastRelation="eq",this.initializeHTML(),this.setupDOMReferences(),this.attachEventListeners(),this.autoEnterEditMode()}initializeHTML(){this._elm.classList.add("advanced-search-condition-item-view"),this._elm.dataset.classification=this._conditionType,this._elm.dataset.relation=this.getInitialRelation(),this._elm.innerHTML=this.generateHTML()}getInitialRelation(){return["dataset","genotype","pathogenicity_prediction","id","location"].includes(this._conditionType)?"":"eq"}generateHTML(){return`\n    <div class="body">\n      <div class="summary">\n        <div class="classification">${r.ADVANCED_CONDITIONS[this._conditionType].label}</div>\n        <div class="relation"></div>\n        <div class="values"></div>\n        <div class="buttons">\n          <button class="edit" title="Edit"></button>\n          <button class="delete" title="Delete"></button>\n        </div>\n      </div>\n      <div class="advanced-search-condition-editor-view"></div>\n    </div>\n    <div class="bg"></div>`}setupDOMReferences(){const e=this._elm.querySelector(":scope > .body"),t=e.querySelector(":scope > .summary");this._valuesEl=t.querySelector(":scope > .values"),this._editorEl=e.querySelector(":scope > .advanced-search-condition-editor-view"),this._conditionValues=new s.default(this)}attachEventListeners(){this.attachClickPropagationStopper(),this.attachSelectionToggle(),this.attachRelationToggle(),this.attachButtonHandlers(),this.attachKeyboardHandler()}attachClickPropagationStopper(){this._elm.addEventListener("click",e=>{e.stopImmediatePropagation()})}attachSelectionToggle(){this._elm.querySelector(":scope > .body > .summary").addEventListener("click",this._toggleSelecting.bind(this))}attachRelationToggle(){this._elm.querySelector(":scope > .body > .summary").querySelector(":scope > .relation").addEventListener("click",e=>{e.stopImmediatePropagation(),this.toggleRelation()})}toggleRelation(){const e=this._elm.dataset.relation;this._elm.dataset.relation="eq"===e?"ne":"eq",o.storeManager.getData("showModal")||(this._keepLastRelation=this._elm.dataset.relation,this._builder.changeCondition())}attachButtonHandlers(){const e=this._elm.querySelector(":scope > .body > .summary").querySelectorAll(":scope > .buttons > button");for(const t of e)t.addEventListener("click",e=>{e.stopImmediatePropagation(),this.handleButtonClick(e.target)})}handleButtonClick(e){switch(e.className){case"edit":this.enterEditMode();break;case"delete":this._builder.delete([this])}}enterEditMode(){this._elm.classList.add("-editing"),this._conditionValues.startToEditCondition(),o.storeManager.setData("showModal",!0),window.addEventListener("keydown",this._keydownEscapeEvent)}attachKeyboardHandler(){window.addEventListener("keydown",this._keydownEscapeEvent)}autoEnterEditMode(){this._elm.querySelector(":scope > .body > .summary").querySelector(":scope > .buttons > button.edit").dispatchEvent(new Event("click"))}doneEditing(){this._elm.classList.remove("-editing"),this._isFirstTime=!1,this._builder.changeCondition(),o.storeManager.setData("showModal",!1),window.removeEventListener("keydown",this._keydownEscapeEvent)}remove(){delete this._conditionValues,super.remove(),o.storeManager.setData("showModal",!1),window.removeEventListener("keydown",this._keydownEscapeEvent)}_keydownEscape(e){"Escape"===e.key&&this._conditionValues&&o.storeManager.getData("showModal")&&(0,c.keyDownEvent)("showModal")&&(this._isFirstTime?this.remove():(this.revertChanges(),this.doneEditing()))}revertChanges(){for(const e of this._conditionValues.editors)e.restore(),this._elm.dataset.relation=this._keepLastRelation}get conditionType(){return this._conditionType}get valuesElement(){return this._valuesEl}get editorElement(){return this._editorEl}get isFirstTime(){return this._isFirstTime}get keepLastRelation(){return this._keepLastRelation}get query(){const e=this.getValueElements();switch(this._conditionType){case l.CONDITION_TYPE.dataset:case l.CONDITION_TYPE.genotype:return this.buildDatasetQuery(e);case l.CONDITION_TYPE.pathogenicity_prediction:return this.buildPathogenicityQuery(e);case l.CONDITION_TYPE.location:return this.buildLocationQuery(e);case l.CONDITION_TYPE.gene_symbol:return this.buildGeneQuery(e);case l.CONDITION_TYPE.variant_id:return this.buildVariantIdQuery(e);case l.CONDITION_TYPE.significance:return this.buildSignificanceQuery();default:return this.buildDefaultQuery(e)}}getValueElements(){return Array.from(this._valuesEl.querySelectorAll(":scope > condition-item-value-view"))}buildDatasetQuery(e){const t=e.map(e=>e.shadowRoot.querySelector("frequency-count-value-view").queryValue);return t.length<=1?t[0]:{or:t}}buildPathogenicityQuery(e){return e[0].shadowRoot.querySelector("prediction-value-view").queryValue}buildLocationQuery(e){const t=e[0].value,[i,a]=t.split(":"),n=a.split("-");let s;return s=1===n.length?+n[0]:{gte:+n[0],lte:+n[1]},{location:{chromosome:i,position:s}}}buildGeneQuery(e){var t;const i=null===(t=e[0])||void 0===t?void 0:t.value;return{gene:{relation:this._elm.dataset.relation,terms:[Number(i)]}}}buildVariantIdQuery(e){return{id:e.map(e=>e.value)}}buildSignificanceQuery(){const e=this.getMgendElements(),t=this.getClinvarElements(),i="ne"===this._elm.dataset.relation?"and":"or",a=[this.buildMgendCondition(e),this.buildClinvarCondition(t)].filter(Boolean);return 1===a.length?a[0]:{[i]:a}}getMgendElements(){return Array.from(this._valuesEl.querySelectorAll(":scope > .mgend-wrapper > .mgend-condition-wrapper > condition-item-value-view"))}getClinvarElements(){return Array.from(this._valuesEl.querySelectorAll(":scope > .clinvar-wrapper > .clinvar-condition-wrapper > condition-item-value-view"))}buildMgendCondition(e){return e.length>0?{[this._conditionType]:{relation:this._elm.dataset.relation,source:["mgend"],terms:e.map(e=>e.value)}}:null}buildClinvarCondition(e){return e.length>0?{[this._conditionType]:{relation:this._elm.dataset.relation,source:["clinvar"],terms:e.map(e=>e.value)}}:null}buildDefaultQuery(e){return{[this._conditionType]:{relation:this._elm.dataset.relation,terms:e.map(e=>e.value)}}}}t.default=d},6357:function(e,t,i){"use strict";var a,n,s,o,r,l,c,d,h,u,p,g,f,m,b,v=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},y=this&&this.__classPrivateFieldSet||function(e,t,i,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,i):n?n.value=i:t.set(e,i),i},_=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const w=_(i(3096)),S=i(8161);class k extends w.default{constructor(e,t){super(e,t),a.add(this),n.set(this,void 0),s.set(this,void 0),o.set(this,void 0);const i=S.ADVANCED_CONDITIONS[this._conditionType];this._createElement("clinical-significance-view",`\n    <header>Select ${this._conditionType}</header>\n    <div class="buttons">\n      <button class="button-view -weak">Select all</button>\n      <button class="button-view -weak">Clear all</button>\n    </div>\n\n    <div class="dataset-title mgend">MGeND</div>\n    <ul class="checkboxes body" data-type="clinical-significance">\n      ${v(this,a,"m",r).call(this,i.values.mgend,"mgend")}\n    </ul>\n    \n    <hr/>\n\n    <div class="dataset-title clinvar">Clinvar</div>\n    <ul class="checkboxes body" data-type="clinical-significance">\n      ${v(this,a,"m",r).call(this,i.values.clinvar,"clinvar")}\n    </ul>\n    `),y(this,s,{mgend:[],clinvar:[]},"f"),y(this,o,{mgend:[],clinvar:[]},"f"),"significance"===this._conditionType&&this._el.querySelector('li[data-value="NC"]').remove(),y(this,n,Array.from(this._el.querySelectorAll(":scope > ul > li > label > input")),"f"),v(this,a,"m",l).call(this),v(this,a,"m",c).call(this)}keepLastValues(){const e=Array.from(this._valuesElement.querySelectorAll(":scope > .mgend-wrapper > .mgend-condition-wrapper > condition-item-value-view")),t=Array.from(this._valuesElement.querySelectorAll(":scope > .clinvar-wrapper > .clinvar-condition-wrapper > condition-item-value-view"));y(this,o,{mgend:e.map(e=>({value:e.value,label:e.label})),clinvar:t.map(e=>({value:e.value,label:e.label}))},"f")}restore(){v(this,n,"f").forEach(e=>{const t=("mgend"===e.dataset.source?v(this,o,"f").mgend:v(this,o,"f").clinvar).find(t=>t.value===e.value);e.checked=!!t}),v(this,a,"m",d).call(this)}get isValid(){return v(this,n,"f").some(e=>e.checked)}}n=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakSet,r=function(e,t){return e.map(e=>`\n        <li data-value="${e.value}" data-source="${t}">\n          <label>\n          <input\n            type="checkbox"\n            value="${e.value}"\n            data-source="${t}"\n            data-label="${e.label}">\n              <span class="clinical-significance" data-value="${e.value}"></span>\n              ${e.label}\n          </label>\n        </li>`).join("")},l=function(){v(this,n,"f").forEach(e=>{e.addEventListener("change",()=>{v(this,a,"m",d).call(this)})})},c=function(){this._el.querySelectorAll(":scope > .buttons > button").forEach((e,t)=>{e.addEventListener("click",()=>{v(this,n,"f").forEach(e=>e.checked=!t),v(this,a,"m",d).call(this)})})},d=function(){v(this,n,"f").forEach(e=>{const t={value:e.value,label:e.dataset.label};e.checked?v(this,a,"m",h).call(this,e.dataset.source,t):v(this,a,"m",u).call(this,e.dataset.source,e.value,e.dataset.label)}),v(this,a,"m",g).call(this),this._valuesView.update(v(this,a,"m",b).call(this))},h=function(e,t){const i="mgend"===e?v(this,s,"f").mgend:v(this,s,"f").clinvar;i.some(e=>e.value===t.value&&e.label===t.label)||i.push(t)},u=function(e,t,i){const n="mgend"===e?v(this,s,"f").mgend:v(this,s,"f").clinvar,o=n.findIndex(e=>e.value===t&&e.label===i);-1!==o&&n.splice(o,1),0===n.length&&v(this,a,"m",p).call(this,e)},p=function(e){const t=this._valuesElement.querySelector(`span.${e}`),i=this._valuesElement.querySelector(`.${e}-condition-wrapper`);t&&t.remove(),i&&i.remove()},g=function(){v(this,s,"f").mgend.length>0&&v(this,a,"m",m).call(this,"mgend"),v(this,s,"f").clinvar.length>0&&v(this,a,"m",m).call(this,"clinvar"),v(this,a,"m",f).call(this,"mgend",v(this,s,"f").mgend),v(this,a,"m",f).call(this,"clinvar",v(this,s,"f").clinvar)},f=function(e,t){const i=this._valuesElement.querySelector(`.${e}-condition-wrapper`);i&&i.querySelectorAll("condition-item-value-view").forEach(e=>e.remove()),t.forEach(e=>{const t=document.createElement("condition-item-value-view");t.conditionType=this._conditionType,t.label=e.label,t.value=e.value,i.append(t)})},m=function(e){const t=`${e}-wrapper`,i=`${e}-condition-wrapper`;if(!this._valuesElement.querySelector(`.${t}`)){const e=document.createElement("div");e.classList.add(t),this._valuesElement.append(e)}if(!this._valuesElement.querySelector(`.${i}`)){const a=document.createElement("span");a.classList.add(e),a.textContent="mgend"===e?"MGeND":"ClinVar";const n=document.createElement("div");n.classList.add(i),this._valuesElement.querySelector(`.${t}`).append(a,n)}},b=function(){return this.isValid},t.default=k},4440:function(e,t,i){"use strict";var a,n,s,o,r,l,c,d,h,u,p,g,f,m,b,v,y,_,w,S,k,x,E,C,R,A,T,O,M,D,I,q,L,P,$,z,N,V=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function r(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}l((a=a.apply(e,t||[])).next())})},j=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},H=this&&this.__classPrivateFieldSet||function(e,t,i,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,i):n?n.value=i:t.set(e,i),i},F=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const B=i(3188),U=i(2191),G=i(8161),W=F(i(3096)),K=i(5833);class Y extends W.default{constructor(e,t){super(e,t),a.add(this),n.set(this,void 0),s.set(this,void 0),o.set(this,void 0),r.set(this,void 0),l.set(this,void 0),H(this,s,j(this,a,"m",u).call(this),"f"),H(this,r,[],"f"),H(this,l,0,"f"),j(this,a,"m",c).call(this),j(this,a,"m",d).call(this)}keepLastValues(){H(this,n,this._valueViews,"f")}restore(){j(this,a,"m",R).call(this),j(this,a,"m",A).call(this),j(this,a,"m",D).call(this),this._updateValueViews(j(this,n,"f"))}get isValid(){return j(this,a,"m",N).call(this)}}n=new WeakMap,s=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,a=new WeakSet,c=function(){this._createElement("columns-editor-view",`\n    <header>Select ${this._conditionType}</header>\n    <div class="body">\n      <div class="columns"></div>\n    </div>`),H(this,o,this._body.querySelector(":scope > .columns"),"f")},d=function(){j(this,a,"m",p).call(this)},h=function e(t){return t.map(t=>{var i,n;Number.isInteger(j(this,l,"f"))||H(this,l,0,"f");const s=Object.assign(Object.assign({},t),{id:`${H(this,l,(n=j(this,l,"f"),i=n++,n),"f"),i}`,checked:!1,indeterminate:!1});return s.children&&s.children.length>0&&(s.children=j(this,a,"m",e).call(this,s.children)),s})},u=function(){switch(this._conditionType){case U.CONDITION_TYPE.dataset:case U.CONDITION_TYPE.genotype:{const e=G.ADVANCED_CONDITIONS[this._conditionType].values,t=j(this,a,"m",h).call(this,e);return(0,B.hierarchy)({id:"-1",label:"root",value:"",children:t,checked:!1,indeterminate:!1})}default:throw new Error("ConditionValueEditorColumnsDataset - Invalid condition type")}},p=function(e){return V(this,void 0,void 0,function*(){const t=K.storeManager.getData("isLogin"),i=yield j(this,a,"m",E).call(this,e),n=j(this,a,"m",g).call(this);j(this,o,"f").append(n),n.innerHTML=j(this,a,"m",f).call(this,i,t),j(this,a,"m",y).call(this,n,t),j(this,a,"m",D).call(this),j(this,a,"m",x).call(this)})},g=function(){const e=document.createElement("div");return e.classList.add("column"),e.dataset.depth=j(this,o,"f").querySelectorAll(":scope > .column").length.toString(),e},f=function(e,t){return`\n      <ul>\n        ${e.map(e=>j(this,a,"m",m).call(this,e,t)).join("")}\n      </ul>`},m=function(e,t){const i=`checkbox-${e.data.id}`;let n=`<li data-id="${e.data.id}" data-parent="${e.parent.data.id}"`;return e.data.value&&(n+=` data-value="${e.data.value}"`),n+=`><label for="${i}">`,j(this,a,"m",b).call(this,e,t)?n+='<span class="lock"></span>':n+=`<input type="checkbox" id="${i}" value="${e.data.id}">`,j(this,a,"m",v).call(this,e)&&(n+=`<span class="dataset-icon" data-dataset="${e.data.value}"></span>`),n+=`<span>${e.data.label}</span></label>`,void 0!==e.children&&(n+=`<div class="arrow" data-id="${e.data.id}" data-value="${e.data.value}"></div>`),n+="</li>",n},b=function(e,t){var i;return!1===t&&(null===(i=e.data.value)||void 0===i?void 0:i.includes("jga_wgs."))},v=function(e){return(this._conditionType===U.CONDITION_TYPE.dataset||this._conditionType===U.CONDITION_TYPE.genotype)&&1===e.depth},y=function(e,t){j(this,a,"m",_).call(this,e),j(this,a,"m",w).call(this,e,t)},_=function(e){e.addEventListener("change",e=>{const t=e.target,i=t.checked,n=t.closest("li").dataset.id,o=j(this,s,"f").find(e=>e.data.id===n);o.children&&j(this,a,"m",T).call(this,o,i),o.parent&&j(this,a,"m",O).call(this,o,i),j(this,a,"m",D).call(this)})},w=function(e,t){for(const i of e.querySelectorAll(":scope > ul > li > .arrow"))i.addEventListener("click",e=>{const i=e.target,n=i.closest("li");j(this,a,"m",S).call(this,n,i,t)})},S=function(e,t,i){j(this,a,"m",k).call(this,e),e.classList.add("-selected"),j(this,a,"m",p).call(this,t.dataset.id),"jga_wgs"!==t.dataset.value||i||j(this,a,"m",C).call(this)},k=function(e){var t;const i=e.closest(".column"),a=e.closest(".columns");null===(t=e.parentNode.querySelector(":scope > .-selected"))||void 0===t||t.classList.remove("-selected");const n=parseInt(i.dataset.depth);for(const e of a.querySelectorAll(":scope > .column")){const t=e;parseInt(t.dataset.depth)>n&&t.parentNode.removeChild(t)}},x=function(){const e=this._body.scrollWidth-this._body.clientWidth;e>0&&this._body.scrollTo({top:0,left:e,behavior:"smooth"})},E=function(e){return new Promise(t=>{if(!e)return void t(j(this,s,"f").children);const i=j(this,s,"f").find(t=>t.data.id===e);t((null==i?void 0:i.children)||[])})},C=function(){return V(this,void 0,void 0,function*(){yield K.storeManager.fetchLoginStatus();const e=document.createElement("div");e.classList.add("column"),e.dataset.depth="2",e.innerHTML='\n      <div class="messages-view">\n        <div class="note message -warning">\n          <a class="link" href="/auth/login">Login</a> to select JGAD datasets\n        </div>\n      </div>',j(this,o,"f").append(e)})},R=function(){j(this,s,"f").each(e=>{e.data.checked=!1,e.data.indeterminate=!1})},A=function(){for(const e of j(this,n,"f")){const t=j(this,s,"f").find(t=>t.data.value===e.dataset.value);t&&(t.data.checked=!0,j(this,a,"m",T).call(this,t,!0),j(this,a,"m",O).call(this,t,!0))}},T=function(e,t){e.children&&0!==e.children.length&&e.descendants().forEach(e=>{e.data.checked=t,e.data.indeterminate=!1})},O=function e(t,i){t&&("boolean"==typeof i?(t.data.checked=i,t.data.indeterminate=!1):j(this,a,"m",M).call(this,t),j(this,a,"m",e).call(this,t.parent))},M=function(e){if(!e.children)return;const t=e.children.filter(e=>e.data.checked),i=e.children.filter(e=>e.data.indeterminate),a=t.length===e.children.length,n=t.length>0,s=i.length>0;e.data.checked=a&&!s,e.data.indeterminate=n&&!a||s},D=function(){j(this,a,"m",I).call(this),j(this,a,"m",q).call(this),j(this,a,"m",L).call(this)},I=function(){j(this,s,"f").eachAfter(e=>{const t=j(this,o,"f").querySelector(`li[data-id="${e.data.id}"] > label > input`);t&&(t.checked=!e.data.indeterminate&&e.data.checked,t.indeterminate=!e.data.checked&&e.data.indeterminate)})},q=function(){j(this,a,"m",P).call(this),this._clearValueViews();for(const e of j(this,r,"f"))this._addValueView(e.data.value,j(this,a,"m",z).call(this,e))},L=function(){this._valuesView.update(j(this,a,"m",N).call(this))},P=function(){H(this,r,j(this,a,"m",$).call(this,j(this,s,"f")),"f")},$=function e(t){if(!t.children)return t.data.checked?[t]:[];return t.children.every(e=>e.data.checked)&&t.data.value?[t]:t.children.flatMap(t=>j(this,a,"m",e).call(this,t)).filter(Boolean)},z=function(e){const[,...t]=e.path(j(this,s,"f")).reverse();return t.map(e=>e.data.label).join(" > ")},N=function(){return this._valueViews.length>0},t.default=Y},6324:function(e,t,i){"use strict";var a,n,s,o,r,l,c,d,h,u,p,g,f,m,b,v,y,_,w,S,k,x,E,C,R,A,T=this&&this.__classPrivateFieldSet||function(e,t,i,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,i):n?n.value=i:t.set(e,i),i},O=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},M=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const D=M(i(3096));i(9524);let I=0;const q={from:0,to:1,invert:"0"},L={from:null,to:null},P={from:null,to:null},$={from:null,to:null},z={from:null,to:null},N="frequency",V="count",j="alt_alt",H="alt_ref",F="hemi_alt";class B extends D.default{constructor(e,t){super(e,t),a.add(this),n.set(this,void 0),s.set(this,void 0),o.set(this,void 0),r.set(this,null),l.set(this,null),c.set(this,null),T(this,n,t.conditionType,"f"),T(this,s,{frequency:Object.assign({},q),count:Object.assign({},L),alt_alt:Object.assign({},P),alt_ref:Object.assign({},$),hemi_alt:Object.assign({},z)},"f"),T(this,o,"genotype"===this._conditionType?j:N,"f"),O(this,a,"m",h).call(this),O(this,a,"m",v).call(this),O(this,a,"m",d).call(this)}changeParameter(e){if(O(this,r,"f")){for(const t in e)t in O(this,s,"f").frequency&&(O(this,s,"f").frequency[t]=e[t]);O(this,a,"m",x).call(this)}}keepLastValues(){const e=O(this,s,"f")[O(this,o,"f")];e&&T(this,c,Object.assign({},e),"f")}restore(){O(this,c,"f")&&O(this,s,"f")[O(this,o,"f")]&&(O(this,s,"f")[O(this,o,"f")]=O(this,c,"f"),O(this,a,"m",x).call(this))}search(){O(this,a,"m",x).call(this)}get isValid(){return O(this,a,"m",A).call(this)}}n=new WeakMap,s=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,c=new WeakMap,a=new WeakSet,d=function(){new MutationObserver(()=>{window.requestAnimationFrame(()=>O(this,a,"m",x).call(this))}).observe(this._valuesElement,{attributes:!1,childList:!0,subtree:!1})},h=function(){const e="ConditionValueEditorFrequencyCount"+I++;this._createElement("frequency-count-editor-view",O(this,a,"m",u).call(this,e)),O(this,a,"m",b).call(this)},u=function(e){return"genotype"===this._conditionType?O(this,a,"m",g).call(this,e):O(this,a,"m",p).call(this,e)},p=function(e){return`\n    <header>Specify range</header>\n    <div class="body">\n      ${`\n      <section class="frequency switching" data-mode="${N}">\n        <label>\n          <input type="radio" name="${e}" value="${N}">\n          <span>Frequency</span>\n        </label>\n        <div class="range-selector-view input"></div>\n      </section>`}\n      ${O(this,a,"m",f).call(this,e,V,"Count")}\n      ${O(this,a,"m",m).call(this)}\n    </div>`},g=function(e){return`\n    <header>Specify range</header>\n    <div class="body">\n      ${[{mode:j,label:"Alt/Alt: Number of homozygous genotypes"},{mode:H,label:"Alt/Ref: Number of heterozygous genotypes"},{mode:F,label:"Hemi_Alt: Number of hemizygous genotypes"}].map(t=>O(this,a,"m",f).call(this,e,t.mode,t.label)).join("")}\n      ${O(this,a,"m",m).call(this)}\n    </div>`},f=function(e,t,i){return`\n      <section class="count switching" data-mode="${t}">\n        <label>\n          <input type="radio" name="${e}" value="${t}">\n          <span>${i}</span>\n        </label>\n        <div class="input">\n          <input class="from" min="0" step="1" type="number">\n          ~\n          <input class="to" min="0" step="1" type="number">\n        </div>\n      </section>`},m=function(){return'\n      <section class="filtered">\n        <label>\n          <input type="checkbox" checked>\n          <span>Exclude filtered out variants</span>\n        </label>\n      </section>'},b=function(){const e=document.createElement("range-slider");e.searchType="advanced",e.sliderStep=.01,e.inputStep=.05,e.addEventListener("range-changed",e=>{e.stopPropagation(),this.changeParameter(e.detail)});const t=this._el.querySelector(".range-selector-view");t&&t.appendChild(e),T(this,r,e,"f")},v=function(){O(this,a,"m",y).call(this),O(this,a,"m",w).call(this),O(this,a,"m",k).call(this)},y=function(){const e=this._body.querySelectorAll(":scope > .switching");for(const t of e){const i=t.querySelector(":scope > label > input");if(!i)continue;i.addEventListener("change",t=>{O(this,a,"m",_).call(this,t,e)});const n="genotype"===this._conditionType?j:N;i.value===n&&requestAnimationFrame(()=>{i.dispatchEvent(new Event("change")),i.checked=!0})}},_=function(e,t){const i=e.target;for(const e of t){const t=e;t.dataset.mode===i.value?t.classList.add("-current"):t.classList.remove("-current")}T(this,o,i.value,"f"),O(this,a,"m",x).call(this)},w=function(){this._body.querySelectorAll(":scope > .switching").forEach(e=>{e.querySelectorAll(":scope > .input > input").forEach(e=>{e.addEventListener("change",e=>{O(this,a,"m",S).call(this,e)})})})},S=function(e){const t=e.target,i=t.className,n=O(this,s,"f")[O(this,o,"f")];n&&(n[i]=Number(t.value),O(this,a,"m",x).call(this))},k=function(){T(this,l,this._body.querySelector(":scope > .filtered > label > input"),"f"),O(this,l,"f")&&(O(this,l,"f").addEventListener("change",()=>{O(this,a,"m",x).call(this)}),O(this,l,"f").dispatchEvent(new Event("change")))},x=function(){O(this,a,"m",E).call(this),this._valuesView.update(O(this,a,"m",A).call(this))},E=function(){this._valuesElement.querySelectorAll(":scope > condition-item-value-view").forEach(e=>{const t=O(this,a,"m",C).call(this,e);t&&O(this,a,"m",R).call(this,t)})},C=function(e){const t=e.shadowRoot;if(!t)return null;const i=t.querySelector("frequency-count-value-view");return i&&"function"==typeof i.setValues?i:null},R=function(e){var t,i,a,r,c;const d=O(this,s,"f")[O(this,o,"f")],h=O(this,o,"f")===N?O(this,s,"f").frequency.invert:"",u=null!==(i=null===(t=O(this,l,"f"))||void 0===t?void 0:t.checked)&&void 0!==i&&i;e.setValues(O(this,n,"f"),O(this,o,"f"),null!==(a=d.from)&&void 0!==a?a:"",null!==(r=d.to)&&void 0!==r?r:"",h,u),e.mode=O(this,o,"f"),e.from=null!==(c=d.from)&&void 0!==c?c:"",e.update()},A=function(){const e=O(this,s,"f")[O(this,o,"f")];return!!e&&Object.values(e).some(e=>null!==e)},t.default=B},1650:function(e,t,i){"use strict";var a,n,s,o,r,l,c,d,h,u,p,g,f,m,b,v,y,_=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)},w=this&&this.__classPrivateFieldSet||function(e,t,i,a,n){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?n.call(e,i):n?n.value=i:t.set(e,i),i},S=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const k=S(i(3096));i(5418),i(331);const x=i(7548);class E extends k.default{constructor(e,t){super(e,t),a.add(this),n.set(this,void 0),s.set(this,void 0),o.set(this,void 0),r.set(this,void 0),l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),_(this,a,"m",h).call(this),_(this,a,"m",u).call(this),_(this,a,"m",p).call(this)}keepLastValues(){this._valuesElement.querySelectorAll(":scope > condition-item-value-view").forEach(e=>{var t,i;const a=null===(i=null===(t=e.shadowRoot)||void 0===t?void 0:t.querySelector("prediction-value-view"))||void 0===i?void 0:i.conditionValues;if(a){const{dataset:e,label:t,values:i,inequalitySigns:n,unassignedChecks:s}=a;w(this,d,{dataset:e,label:t,values:i,inequalitySigns:n,unassignedChecks:s},"f")}})}restore(){const{dataset:e,label:t,values:i,inequalitySigns:n,unassignedChecks:s}=_(this,d,"f");_(this,a,"m",m).call(this,e,t,i,n,s)}get isValid(){return 2===_(this,o,"f").filter(e=>!Number.isNaN(e)).length}}n=new WeakMap,s=new WeakMap,o=new WeakMap,r=new WeakMap,l=new WeakMap,c=new WeakMap,d=new WeakMap,a=new WeakSet,h=function(){w(this,n,"alphamissense","f"),w(this,s,"AlphaMissense","f"),w(this,o,[0,1],"f"),w(this,r,["gte","lte"],"f"),w(this,l,[],"f"),w(this,d,{dataset:_(this,n,"f"),label:_(this,s,"f"),values:[..._(this,o,"f")],inequalitySigns:[..._(this,r,"f")],unassignedChecks:[..._(this,l,"f")]},"f")},u=function(){this._createElement("pathogenicity-editor-view",'<header>Select prediction</header><div class="body" />'),w(this,c,this._el.querySelector(".body"),"f"),_(this,a,"m",v).call(this)},p=function(){_(this,c,"f").addEventListener("set-prediction-values",e=>{const t=e;_(this,a,"m",y).call(this,t.detail)}),_(this,c,"f").addEventListener("switch-tab",e=>{const t=e;_(this,a,"m",g).call(this,t.detail)})},g=function(e){w(this,n,e.dataset,"f"),w(this,s,x.PREDICTIONS[_(this,n,"f")].label,"f"),_(this,a,"m",y).call(this,e)},f=function(){_(this,a,"m",m).call(this,_(this,n,"f"),_(this,s,"f"),_(this,o,"f"),_(this,r,"f"),_(this,l,"f")),this._valuesView.update(_(this,a,"m",b).call(this))},m=function(e,t,i,a,n){let s=this._valuesElement.querySelector("condition-item-value-view");s||(s=document.createElement("condition-item-value-view"),s.conditionType=this._conditionType,this._valuesElement.append(s)),s.value=e,s.label=t,this._valuesElement.querySelectorAll(":scope > condition-item-value-view").forEach(t=>{var s;const o=null===(s=t.shadowRoot)||void 0===s?void 0:s.querySelector("prediction-value-view");o&&o.setValues(e,i,a,n)})},b=function(){return 2===_(this,o,"f").filter(e=>!Number.isNaN(e)).length},v=function(){const e=document.createElement("tab-view");e.datasets=x.PREDICTIONS,_(this,c,"f").appendChild(e)},y=function(e){w(this,o,[e.values[0],e.values[1]],"f"),w(this,r,[e.inequalitySigns[0],e.inequalitySigns[1]],"f"),w(this,l,e.unassignedChecks,"f"),_(this,a,"m",f).call(this)},t.default=E},6819:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(2191),s=a(i(4669)),o=a(i(6357)),r=a(i(4233)),l=a(i(4440)),c=a(i(9962)),d=a(i(6324)),h=a(i(3081)),u=a(i(7459)),p=a(i(1650)),g=a(i(1866));t.default=class{constructor(e){this._conditionView=e,this._editors=[],e.editorElement.innerHTML='\n      <div class="sections"></div>\n      <div class="buttons">\n        <button class="button-view -disabled">OK</button>\n        <button class="button-view -negative">Cancel</button>\n      </div>',this._sections=e.editorElement.querySelector(":scope > .sections");const t=e.editorElement.querySelector(":scope > .buttons");switch(this._okButton=t.querySelector(":scope > .button-view:nth-child(1)"),this._okButton.addEventListener("click",this._clickOkButton.bind(this)),t.querySelector(":scope > .button-view:nth-child(2)").addEventListener("click",this._clickCancelButton.bind(this)),e.conditionType){case n.CONDITION_TYPE.type:this._editors.push(new s.default(this,this._conditionView));break;case n.CONDITION_TYPE.significance:this._editors.push(new o.default(this,this._conditionView));break;case n.CONDITION_TYPE.consequence:this._editors.push(new r.default(this,this._conditionView));break;case n.CONDITION_TYPE.dataset:case n.CONDITION_TYPE.genotype:this._editors.push(new l.default(this,this._conditionView)),this._editors.push(new d.default(this,this._conditionView));break;case n.CONDITION_TYPE.disease:this._editors.push(new c.default(this,this._conditionView));break;case n.CONDITION_TYPE.gene_symbol:this._editors.push(new h.default(this,this._conditionView));break;case n.CONDITION_TYPE.pathogenicity_prediction:this._editors.push(new p.default(this,this._conditionView));break;case n.CONDITION_TYPE.variant_id:this._editors.push(new g.default(this,this._conditionView));break;case n.CONDITION_TYPE.location:this._editors.push(new u.default(this,this._conditionView,0))}}startToEditCondition(){for(const e of this._editors)e.keepLastValues()}update(e){[n.CONDITION_TYPE.dataset,n.CONDITION_TYPE.genotype].includes(this._conditionView.conditionType)&&(e=this._editors.every(e=>e.isValid)),e?this._okButton.classList.remove("-disabled"):this._okButton.classList.add("-disabled")}_clickOkButton(e){e.stopImmediatePropagation(),this._conditionView.doneEditing()}_clickCancelButton(e){if(e.stopImmediatePropagation(),this._conditionView.isFirstTime)this._conditionView.remove();else{for(const e of this._editors)e.restore(),["dataset","pathogenicity_prediction","id","location"].includes(this._conditionView.conditionType)||(this._conditionView._elm.dataset.relation=this._conditionView.keepLastRelation);this._conditionView.doneEditing()}}get conditionView(){return this._conditionView}get sections(){return this._sections}get editors(){return this._editors}}},3280:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLUMN_TEMPLATES=t.REF_ALT_SHOW_LENGTH=void 0,t.createFrequencyColumnHTML=function(){const e=(0,a.getSimpleSearchConditionMaster)("dataset").items;return`<td class="alt_frequency">${e.filter(e=>e.has_freq).map(e=>`<logarithmized-block-graph-frequency-view\n        data-dataset="${e.id}"\n        data-direction="vertical"\n      ></logarithmized-block-graph-frequency-view>`).join("")}</td>`};const a=i(3522);t.REF_ALT_SHOW_LENGTH=4,t.COLUMN_TEMPLATES={togovar_id:'<td class="togovar_id"><a href="" class="hyper-text -internal" target="_blank"></a></td>',refsnp_id:'<td class="refsnp_id" data-remains=""><a href="" target="_blank" class="hyper-text -external"></a></td>',position:'<td class="position"><div class="chromosome-position"><div class="chromosome"></div><div class="coordinate"></div></div></td>',ref_alt:'<td class="ref_alt"><div class="ref-alt"><span class="ref" data-sum=""></span><span class="arrow"></span><span class="alt" data-sum=""><span class="sum"></span></span></div></td>',type:'<td class="type"><div class="variant-type"></div></td>',gene:'<td class="gene" data-remains=""><a href="" class="hyper-text -internal" target="_blank"></a></td>',consequence:'<td class="consequence" data-remains=""><div class="consequence-item"></div></td>',clinical_significance:'<td class="clinical_significance"><div class="clinical-significance" data-value=""></div><a class="hyper-text -internal" href="" target="_blank"></a><span class="icon" data-remains="" data-mgend=""></span></td>',alphamissense:'<td class="alphamissense"><div class="variant-function" data-function=""></div></td>',sift:'<td class="sift"><div class="variant-function" data-function=""></div></td>',polyphen:'<td class="polyphen"><div class="variant-function" data-function=""></div></td>'}},4357:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsRowUpdaters=void 0;const a=i(3522),n=i(3280);t.ResultsRowUpdaters=class{static updateTogovarId(e,t,i){e&&t?(e.href=i,e.textContent=t):e&&(e.href="",e.textContent="")}static updateRefSNP(e,t,i){if(e&&t){if(!i||0===i.length)return e.dataset.remains="0",t.href="",void(t.textContent="");e.dataset.remains=(i.length-1).toString(),t.href=`http://identifiers.org/dbsnp/${i[0]}`,t.textContent=i[0]}}static updatePosition(e,t,i,a){e&&(e.textContent=i),t&&(t.textContent=a.toString())}static updateRefAlt(e,t,i,a){const n=this.formatRefAltData(i||""),s=this.formatRefAltData(a||"");e&&(e.textContent=n.display,e.dataset.sum=n.length.toString()),t&&(t.textContent=s.display,t.dataset.sum=s.length.toString())}static formatRefAltData(e){return{display:this.formatRefAlt(e),length:e.length}}static formatRefAlt(e){return e.substring(0,n.REF_ALT_SHOW_LENGTH)+(e.length>n.REF_ALT_SHOW_LENGTH?"...":"")}static updateVariantType(e,t){var i;if(!e)return;const n=(0,a.getSimpleSearchConditionMaster)("type").items;e.textContent=(null===(i=n.find(e=>e.id===t))||void 0===i?void 0:i.label)||""}static updateGene(e,t,i){if(e&&t){if(!i||0===i.length)return e.dataset.remains="0",t.href="",void(t.textContent="");e.dataset.remains=(i.length-1).toString(),t.href=`/gene/${i[0].id}`,t.textContent=i[0].name}}static updateAltFrequency(e,t){(0,a.getSimpleSearchConditionMaster)("dataset").items.filter(e=>e.has_freq).forEach(i=>{const a=null==t?void 0:t.find(e=>e.source===i.id),n=e[i.id];n&&(n.frequency=a)})}static updateConsequence(e,t,i,n){var s;if(!e||!t)return;if(!i)return e.dataset.remains="0",void(t.textContent="");const o=(0,a.getSimpleSearchConditionMaster)("consequence").items,r=Array.from(new Set(n.flatMap(e=>e.consequence)));e.dataset.remains=(r.length-1).toString(),t.textContent=(null===(s=o.find(e=>e.id===i))||void 0===s?void 0:s.label)||""}static updateClinicalSignificance(e,t,i,a){var n;if(!e||!t||!i)return;if(!a||0===a.length)return void this.resetClinicalSignificance(e,t,i);const s=a[0],o=null===(n=s.conditions)||void 0===n?void 0:n[0];e.dataset.value=s.interpretations[0],this.updateClinicalCondition(e,t,o),this.updateClinicalMetadata(i,a)}static resetClinicalSignificance(e,t,i){e.dataset.value="",t.textContent="",t.setAttribute("href",""),i.dataset.remains="0",i.dataset.mgend="false"}static updateClinicalCondition(e,t,i){i?(e.textContent="",t.textContent=i.name||"",i.medgen?t.setAttribute("href",`/disease/${i.medgen}`):(e.textContent=i.name,t.textContent="",t.className="")):(e.textContent="others",t.textContent="")}static updateClinicalMetadata(e,t){e.dataset.remains=(t.length-1).toString();const i=t.some(e=>"mgend"===e.source);e.dataset.mgend=i.toString()}static updateFunctionPrediction(e,t,i){if(e){if(null===t)return e.textContent="",void(e.dataset.function="");e.textContent=t.toString(),e.dataset.function=i(t)}}static updateAlphaMissense(e,t){this.updateFunctionPrediction(e,t,e=>e<.34?"LB":e>.564?"LP":"A")}static updateSift(e,t){this.updateFunctionPrediction(e,t,e=>e>=.05?"T":"D")}static updatePolyphen(e,t){this.updateFunctionPrediction(e,t,e=>e>.908?"PROBD":e>.446?"POSSD":e>=0?"B":"U")}}},8326:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsRowView=void 0;const a=i(8161),n=i(5833);i(4516);const s=i(3280),o=i(4357);t.ResultsRowView=class{constructor(e){this.index=e,this.selected=!1,this.tr=this._createTableRow(),n.storeManager.subscribe("selectedRow",this.selectedRow.bind(this)),n.storeManager.subscribe("offset",this.updateTableRow.bind(this))}click(){n.storeManager.setData("selectedRow",this.selected?void 0:this.index);const e=new CustomEvent("tapCompleted",{bubbles:!0,detail:{rowIndex:this.index}});this.tr.dispatchEvent(e)}selectedRow(e){this.selected=e===this.index,this.tr.classList.toggle("-selected",this.selected)}updateTableRow(){if(n.storeManager.getData("isFetching")||n.storeManager.getData("isStoreUpdating"))return this._setLoadingState();if(n.storeManager.getData("rowCount")<=this.index)return this._setOutOfRangeState();const e=n.storeManager.getRecordByIndex(this.index);if(!e||"loading"===e||"out of range"===e)return this._setLoadingState();this._prepareTableData(),a.COLUMNS.forEach(t=>this._updateColumnContent(t,e)),this.tr.classList.remove("-loading","-out-of-range")}_createTableRow(){const e=document.createElement("tr");return e.classList.add("-loading"),e.innerHTML=`<td colspan="${a.COLUMNS.length}"></td>`,e.addEventListener("click",this.click.bind(this)),e}_setLoadingState(){this.tr.classList.add("-loading"),this.tr.innerHTML=`<td colspan="${a.COLUMNS.length}"></td>`}_setOutOfRangeState(){this.tr.classList.add("-out-of-range"),this.tr.innerHTML=`<td colspan="${a.COLUMNS.length}"></td>`}_prepareTableData(){this.tr.innerHTML=this._createTableCellHTML(),this._cacheTableCells()}_createTableCellHTML(){return a.COLUMNS.map(e=>"alt_frequency"===e.id?(0,s.createFrequencyColumnHTML)():s.COLUMN_TEMPLATES[e.id]||"").join("")}_cacheTableCells(){this._cacheBasicElements(),this._cacheFrequencyElements(),this._cacheFunctionElements()}_cacheBasicElements(){var e,t,i;this.tdTGVAnchor=this.tr.querySelector("td.togovar_id > a"),this.tdRS=this.tr.querySelector("td.refsnp_id"),this.tdRSAnchor=(null===(e=this.tdRS)||void 0===e?void 0:e.querySelector("a"))||null;const a=this.tr.querySelector("td.position > .chromosome-position");this.tdPositionChromosome=(null==a?void 0:a.querySelector(".chromosome"))||null,this.tdPositionCoordinate=(null==a?void 0:a.querySelector(".coordinate"))||null;const n=this.tr.querySelector("td.ref_alt > .ref-alt");this.tdRefAltRef=(null==n?void 0:n.querySelector("span.ref"))||null,this.tdRefAltAlt=(null==n?void 0:n.querySelector("span.alt"))||null,this.tdType=this.tr.querySelector("td.type > .variant-type"),this.tdGene=this.tr.querySelector("td.gene"),this.tdGeneAnchor=(null===(t=this.tdGene)||void 0===t?void 0:t.querySelector("a"))||null,this.tdConsequence=this.tr.querySelector("td.consequence"),this.tdConsequenceItem=(null===(i=this.tdConsequence)||void 0===i?void 0:i.querySelector(".consequence-item"))||null;const s=this.tr.querySelector("td.clinical_significance");this.tdClinicalSign=(null==s?void 0:s.querySelector(".clinical-significance"))||null,this.tdClinicalAnchor=(null==s?void 0:s.querySelector("a"))||null,this.tdClinicalIcon=(null==s?void 0:s.querySelector("span.icon"))||null}_cacheFrequencyElements(){this.tdFrequencies={},this.tr.querySelectorAll("td.alt_frequency > logarithmized-block-graph-frequency-view").forEach(e=>{const t=e,i=t.dataset.dataset;i&&(this.tdFrequencies[i]=t)})}_cacheFunctionElements(){const e=this.tr.querySelector("td.alphamissense");this.tdAlphaMissenseFunction=(null==e?void 0:e.querySelector(".variant-function"))||null;const t=this.tr.querySelector("td.sift");this.tdSiftFunction=(null==t?void 0:t.querySelector(".variant-function"))||null;const i=this.tr.querySelector("td.polyphen");this.tdPolyphenFunction=(null==i?void 0:i.querySelector(".variant-function"))||null}_updateColumnContent(e,t){var i;const a={togovar_id:()=>o.ResultsRowUpdaters.updateTogovarId(this.tdTGVAnchor,t.id,`/variant/${t.id}`),refsnp_id:()=>o.ResultsRowUpdaters.updateRefSNP(this.tdRS,this.tdRSAnchor,t.existing_variations),position:()=>o.ResultsRowUpdaters.updatePosition(this.tdPositionChromosome,this.tdPositionCoordinate,t.chromosome,t.position),ref_alt:()=>o.ResultsRowUpdaters.updateRefAlt(this.tdRefAltRef,this.tdRefAltAlt,t.reference,t.alternate),type:()=>o.ResultsRowUpdaters.updateVariantType(this.tdType,t.type),gene:()=>o.ResultsRowUpdaters.updateGene(this.tdGene,this.tdGeneAnchor,t.symbols),alt_frequency:()=>o.ResultsRowUpdaters.updateAltFrequency(this.tdFrequencies,t.frequencies),consequence:()=>o.ResultsRowUpdaters.updateConsequence(this.tdConsequence,this.tdConsequenceItem,t.most_severe_consequence,t.transcripts),clinical_significance:()=>o.ResultsRowUpdaters.updateClinicalSignificance(this.tdClinicalSign,this.tdClinicalAnchor,this.tdClinicalIcon,t.significance),alphamissense:()=>o.ResultsRowUpdaters.updateAlphaMissense(this.tdAlphaMissenseFunction,t.alphamissense),sift:()=>o.ResultsRowUpdaters.updateSift(this.tdSiftFunction,t.sift),polyphen:()=>o.ResultsRowUpdaters.updatePolyphen(this.tdPolyphenFunction,t.polyphen)};null===(i=a[e.id])||void 0===i||i.call(a)}}},4949:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(5833),n=i(8161);t.default=class{constructor(e){this.isTouchDragging=!1,this.touchStartY=0,this.touchStartTop=0,this.lastScrollPosition=0,this.container=e,this._createScrollBarHTML();const t=this._getRequiredElements();this.scrollBarElement=t.scrollBar,this.positionDisplay=t.position,this.totalDisplay=t.total,this._bindStoreEvents(),this._initializeDragFunctionality()}_createScrollBarHTML(){this.container.insertAdjacentHTML("beforeend",'\n      <div class="bar">\n        <div class="indicator">\n          <span class="position">1</span>\n          <span class="total"></span>\n        </div>\n      </div>\n      ')}_getRequiredElements(){const e=this.container.querySelector(".bar");if(!e)throw new Error("ScrollBar element (.bar) not found");const t=e.querySelector(".position"),i=e.querySelector(".total");if(!t||!i)throw new Error("Required indicator elements (.position, .total) not found");return{scrollBar:e,position:t,total:i}}_bindStoreEvents(){a.storeManager.bind("offset",this),a.storeManager.bind("numberOfRecords",this),a.storeManager.bind("rowCount",this)}_initializeDragFunctionality(){window.matchMedia("(hover: hover) and (pointer: fine)").matches&&this._initializeMouseDrag(),this._initializeTouchDrag()}onDrag(e,t){const i=a.storeManager.getData("rowCount"),s=a.storeManager.getData("numberOfRecords"),o=i*n.TR_HEIGHT-0*this.scrollBarElement.offsetHeight,r=t.position.top/o;let l=Math.ceil(r*s);l=l<0?0:l,l=l+i>s?s-i:l,a.storeManager.setData("offset",l),this._scheduleVisualStateRelease()}offset(e){this.positionDisplay.textContent=(e+1).toString(),this._updateScrollBarAppearance(),!window.matchMedia("(hover: none) and (pointer: coarse)").matches||this.container.classList.contains("-active")}numberOfRecords(e){this.totalDisplay.textContent=e.toLocaleString(),this._updateScrollBarAppearance()}rowCount(){this._updateScrollBarAppearance()}deactivate(){this.container.classList.remove("-active")}initializePosition(){this.container.classList.add("-active")}handleScrollWithFeedback(e,t){const i=this._calculateTouchScrollOffset(e,t),s=this._clampOffsetToValidRange(i);this.lastScrollPosition=s*n.TR_HEIGHT,a.storeManager.setData("offset",s),this.updateDirectly(s)}handleScroll(e){const t=this._calculateScrollPosition(e);if(t.newScrollPosition===this.lastScrollPosition)return;this.lastScrollPosition=t.newScrollPosition;const i=this._calculateOffsetFromScroll(this.lastScrollPosition);a.storeManager.setData("offset",i)}updateDirectly(e){const t=this._calculateScrollBarPosition(e);this._applyScrollBarStyles(this.scrollBarElement,t,e)}_updateScrollBarAppearance(){const e=a.storeManager.getData("offset"),t=a.storeManager.getData("rowCount"),i=a.storeManager.getData("numberOfRecords"),s=i*n.TR_HEIGHT,o=e*n.TR_HEIGHT,r=t*n.TR_HEIGHT,l=r/s;let c=Math.ceil(r*l);c=c<30?30:c;const d=(r-0*c)/s,h=Math.ceil(o*d);this.scrollBarElement.style.height=`${c}px`,this.scrollBarElement.style.top=`${h}px`,this._scheduleVisualStateRelease(),0===t||i===t?this.scrollBarElement.classList.add("-disabled"):this.scrollBarElement.classList.remove("-disabled")}_scheduleVisualStateRelease(){void 0!==this.releaseTimeoutId&&window.clearTimeout(this.releaseTimeoutId),this.releaseTimeoutId=window.setTimeout(this._releaseVisualState.bind(this),2e3),this.container.classList.add("-dragging")}_releaseVisualState(){this.container.classList.remove("-dragging")}_calculateScrollPosition(e){const t=a.storeManager.getData("numberOfRecords"),i=a.storeManager.getData("rowCount"),s=t*n.TR_HEIGHT;let o=s-i*n.TR_HEIGHT;o=Math.max(0,o);return{totalHeight:s,availableScrollY:o,newScrollPosition:this._clampScrollPosition(this.lastScrollPosition+e,{min:0,max:o})}}_clampScrollPosition(e,t){return Math.max(t.min,Math.min(e,t.max))}_calculateOffsetFromScroll(e){return Math.ceil(e/n.TR_HEIGHT)}_calculateTouchScrollOffset(e,t){const i=a.storeManager.getData("rowCount"),s=a.storeManager.getData("numberOfRecords"),o=e/(i*n.TR_HEIGHT);return Math.ceil(o*s)+t}_clampOffsetToValidRange(e){const t=a.storeManager.getData("rowCount"),i=a.storeManager.getData("numberOfRecords"),n=Math.max(0,i-t);return Math.max(0,Math.min(e,n))}_calculateScrollBarPosition(e){const t=a.storeManager.getData("rowCount"),i=a.storeManager.getData("numberOfRecords")*n.TR_HEIGHT,s=t*n.TR_HEIGHT,o=s/i;let r=Math.ceil(s*o);r=Math.max(r,30);const l=(s-r)/i;return{barHeight:r,barTop:Math.ceil(e*n.TR_HEIGHT*l),displayRate:o}}_applyScrollBarStyles(e,t,i){e.style.height=`${t.barHeight}px`,e.style.top=`${t.barTop}px`,this._updatePositionDisplay(e,i),this.container.classList.add("-active")}_updatePositionDisplay(e,t){const i=e.querySelector(".position");i&&(i.textContent=String(t+1))}_initializeMouseDrag(){this.mouseDragState={isDragging:!1,startY:0,startTop:0},this._setInitialCursorStyle(),this._attachMouseEventListeners()}_setInitialCursorStyle(){this.scrollBarElement.style.cursor="grab"}_attachMouseEventListeners(){this.scrollBarElement.addEventListener("mousedown",this._onMouseDown.bind(this)),document.addEventListener("mousemove",this._onMouseMove.bind(this)),document.addEventListener("mouseup",this._onMouseUp.bind(this))}_onMouseDown(e){this.mouseDragState&&(e.preventDefault(),this.mouseDragState.isDragging=!0,this.mouseDragState.startY=e.clientY,this.mouseDragState.startTop=parseInt(this.scrollBarElement.style.top)||0,this._setDraggingCursorStyle(!0))}_onMouseMove(e){var t;if(!(null===(t=this.mouseDragState)||void 0===t?void 0:t.isDragging))return;e.preventDefault();const i=e.clientY-this.mouseDragState.startY,a=this.mouseDragState.startTop+i,n=this._constrainPositionWithinBounds(a);this._setScrollBarPosition(n),this._triggerDragEvent(n)}_onMouseUp(){var e;(null===(e=this.mouseDragState)||void 0===e?void 0:e.isDragging)&&(this.mouseDragState.isDragging=!1,this._setDraggingCursorStyle(!1),this._scheduleVisualStateRelease())}_initializeTouchDrag(){this.scrollBarElement.addEventListener("touchstart",this._onTouchStart.bind(this),{passive:!1}),this.scrollBarElement.addEventListener("touchmove",this._onTouchMove.bind(this),{passive:!1}),this.scrollBarElement.addEventListener("touchend",this._onTouchEnd.bind(this),{passive:!1})}_onTouchStart(e){e.preventDefault(),this.isTouchDragging=!0,this.touchStartY=e.touches[0].clientY,this.touchStartTop=parseInt(this.scrollBarElement.style.top)||0,this.container.classList.add("-dragging"),this.container.classList.add("-active")}_onTouchMove(e){if(!this.isTouchDragging)return;e.preventDefault();const t=e.touches[0].clientY-this.touchStartY,i=this.touchStartTop+t;this._triggerDragEvent(i)}_onTouchEnd(e){this.isTouchDragging&&(e.preventDefault(),this.isTouchDragging=!1,this._scheduleVisualStateRelease(),this.container.classList.remove("-active"))}_constrainPositionWithinBounds(e){const t=this.container.offsetHeight-this.scrollBarElement.offsetHeight;return Math.max(0,Math.min(e,t))}_setScrollBarPosition(e){this.scrollBarElement.style.top=`${e}px`}_triggerDragEvent(e){const t={position:{top:e}};this.onDrag(null,t)}_setDraggingCursorStyle(e){this.scrollBarElement.style.cursor=e?"grabbing":"grab",e&&this.container.classList.add("-dragging")}}},9890:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsView=void 0;const n=i(5833),s=a(i(4949)),o=i(8161),r=i(6305),l=i(7043),c=i(3115);class d{constructor(e){this.elm=e;const{status:t,messages:i,thead:a,tbody:n,tablecontainer:s}=this._getDOMElements();this.tbody=n,this.tablecontainer=s,this._connectToStoreManager(),this._configureScrollBar(),this._initializeTableHeader(a);const o=this._createStylesheet();this._initializeComponentHandlers(t,i,o),this._configureInitialState()}offset(e){this.dataManager.handleOffsetChange(e)}searchMessages(e){this.dataManager.handleSearchMessages(e)}searchStatus(e){this.dataManager.handleSearchStatus(e)}searchResults(e){this.dataManager.handleSearchResults(e,this.touchHandler.isTouchEnabled,this.touchHandler.setTouchElementsPointerEvents.bind(this.touchHandler))}columns(e){this.dataManager.handleColumnsChange(e)}updateDisplaySize(){this.dataManager.updateDisplaySize(this.touchHandler.isTouchEnabled,this.touchHandler.setTouchElementsPointerEvents.bind(this.touchHandler))}karyotype(e){this.updateDisplaySize()}_getDOMElements(){return{status:this.elm.querySelector(d.SELECTORS.STATUS),messages:this.elm.querySelector(d.SELECTORS.MESSAGES),thead:this.elm.querySelector(d.SELECTORS.TABLE_THEAD),tbody:this.elm.querySelector(d.SELECTORS.TABLE_TBODY),tablecontainer:this.elm.querySelector(d.SELECTORS.TABLE_CONTAINER)}}_connectToStoreManager(){d.STORE_BINDINGS.forEach(e=>{n.storeManager.bind(e,this)}),document.addEventListener("keydown",this._keydown.bind(this))}_configureScrollBar(){this.elm.querySelector(d.SELECTORS.TABLE_CONTAINER).insertAdjacentHTML("afterend",'<div class="scroll-bar"></div>'),this.scrollBar=new s.default(this.elm.querySelector(d.SELECTORS.SCROLL_BAR))}_initializeTableHeader(e){e.innerHTML=`<tr>${o.COLUMNS.map(e=>`<th class="${e.id}"><p data-tooltip-id="table-header-${e.id}">${e.label}</p></th>`).join("")}</tr>`}_createStylesheet(){const e=document.createElement("style");return document.getElementsByTagName("head")[0].appendChild(e),e}_initializeComponentHandlers(e,t,i){this.touchHandler=new l.ResultsViewTouchHandler(this.elm,this.tbody,this.tablecontainer),this.dataManager=new c.ResultsViewDataManager(this.elm,e,t,this.tbody,i),this._configureEventHandlers()}_configureInitialState(){this.dataManager.handleColumnsChange(n.storeManager.getData("columns")),this.touchHandler.setTouchElementsPointerEvents(!this.touchHandler.isTouchEnabled)}getWheelEventName(){return"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"}_configureEventHandlers(){this.tbody.addEventListener(this.getWheelEventName(),this._scroll.bind(this)),this.touchHandler.setScrollCallbacks({onScrollStart:()=>{this.scrollBar.initializePosition()},onScroll:(e,t)=>{this.scrollBar.handleScrollWithFeedback(e,t)},onScrollEnd:()=>{this.scrollBar.deactivate()}})}_scroll(e){e.stopPropagation(),0!==e.deltaY&&this.scrollBar.handleScroll(e.deltaY)}_keydown(e){if(void 0!==n.storeManager.getData("selectedRow")&&(0,r.keyDownEvent)("selectedRow"))switch(e.key){case"ArrowUp":this.dataManager.shiftSelectedRow(-1);break;case"ArrowDown":this.dataManager.shiftSelectedRow(1);break;case"Escape":n.storeManager.setData("selectedRow",void 0)}}}t.ResultsView=d,d.SELECTORS={STATUS:"header.header > .left > .status",MESSAGES:"#Messages",TABLE_CONTAINER:".tablecontainer",TABLE_THEAD:".tablecontainer > table.results-view > thead",TABLE_TBODY:".tablecontainer > table.results-view > tbody",SCROLL_BAR:".scroll-bar"},d.STORE_BINDINGS=["searchStatus","searchResults","columns","offset","karyotype","searchMessages"]},3115:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsViewDataManager=void 0;const a=i(5833),n=i(8326),s=i(8161);t.ResultsViewDataManager=class{constructor(e,t,i,a,n){this.rows=[],this.elm=e,this.status=t,this.messages=i,this.tbody=a,this.stylesheet=n}get resultRows(){return this.rows}updateDisplaySize(e,t){if(this._shouldSkipUpdate())return;const i=this._calculateDisplaySize();this._ensureRowsExist(i.rowCount),this._adjustOffset(i),this._updateRowsWithAnimation(e,t)}handleOffsetChange(e){if(this._shouldSkipOffsetUpdate())return;const t=this._calculateDisplayingRegions();Object.keys(t).length>0&&a.storeManager.setData("displayingRegionsOnChromosome",t)}handleSearchMessages(e){this.messages.innerHTML="",this._appendMessageIfExists(e.notice,"notice"),this._appendMessageIfExists(e.warning,"warning"),this._appendMessageIfExists(e.error,"error")}handleSearchStatus(e){const{available:t,filtered:i}=e;this.status.innerHTML=`The number of available variations is ${t.toLocaleString()} out of <span class="bigger">${i.toLocaleString()}</span>.`,this._updateNotFoundState(0===i)}handleSearchResults(e,t,i){const n=a.storeManager.getData("isStoreUpdating"),s=a.storeManager.getData("isFetching");n||s?requestAnimationFrame(()=>this.handleSearchResults(e,t,i)):this._validateData()?this.updateDisplaySize(t,i):console.warn("")}handleColumnsChange(e){this._clearExistingStyles(),this._applyColumnStyles(e)}shiftSelectedRow(e){const t=this._getSelectionState(),i=this._calculateNewIndex(t,e),n=this._adjustOffsetForSelection(t,i,e);n!==t.offset&&a.storeManager.setData("offset",n),a.storeManager.setData("selectedRow",i)}_shouldSkipUpdate(){return a.storeManager.getData("isFetching")}_calculateDisplaySize(){const e=this._calculateAvailableHeight(),t=Math.floor(e/s.TR_HEIGHT),i=a.storeManager.getData("numberOfRecords"),n=a.storeManager.getData("offset"),o=Math.min(t,i);return a.storeManager.setData("rowCount",o),{maxRowCount:t,rowCount:o,numberOfRecords:i,offset:n}}_calculateAvailableHeight(){var e;const t=(null===(e=a.storeManager.getData("karyotype"))||void 0===e?void 0:e.height)||0;return window.innerHeight-this.tbody.getBoundingClientRect().top-t-s.COMMON_FOOTER_HEIGHT-2}_ensureRowsExist(e){for(;this.rows.length<e;){const e=this.rows.length,t=new n.ResultsRowView(e);this.rows.push(t),this.tbody.appendChild(t.tr)}}_adjustOffset(e){const{maxRowCount:t,numberOfRecords:i,offset:n}=e,s=t-(i-n);if(s>0){const e=this._calculateAdjustedOffset(n,s);a.storeManager.setData("offset",e)}}_calculateAdjustedOffset(e,t){return e>=t?e-t:0}_updateRowsWithAnimation(e,t){requestAnimationFrame(()=>{this.rows.forEach(e=>e.updateTableRow()),e&&t(!1)})}_shouldSkipOffsetUpdate(){return a.storeManager.getData("isStoreUpdating")||a.storeManager.getData("isFetching")}_calculateDisplayingRegions(){var e,t;const i=a.storeManager.getData("rowCount"),n={};for(let s=0;s<i;s++){const i=a.storeManager.getRecordByIndex(s);this._isValidRecord(i)&&(null!==(e=n[t=i.chromosome])&&void 0!==e?e:n[t]=[]).push(i.start)}return this._convertToRegions(n)}_isValidRecord(e){return e&&"object"==typeof e&&"string"==typeof e.chromosome&&"number"==typeof e.start}_convertToRegions(e){const t={};for(const i in e){const a=e[i];t[i]={start:Math.min(...a),end:Math.max(...a)}}return t}_appendMessageIfExists(e,t){e&&(this.messages.innerHTML+=`<div class="message -${t}">${e}</div>`)}_updateNotFoundState(e){e?this.elm.classList.add("-not-found"):this.elm.classList.remove("-not-found")}_validateData(){const e=a.storeManager.getData("searchResults"),t=a.storeManager.getData("numberOfRecords");return Array.isArray(e)&&"number"==typeof t&&t>=0}_clearExistingStyles(){const e=this.stylesheet.sheet;if(e)for(;e.cssRules.length>0;)e.deleteRule(0)}_applyColumnStyles(e){const t=this.stylesheet.sheet;t&&e.forEach((e,i)=>{const a=e.isUsed?"table-cell":"none",n=`.tablecontainer > table.results-view th.${e.id}, .tablecontainer > table.results-view td.${e.id} { display: ${a} }`;t.insertRule(n,i)})}_getSelectionState(){return{currentIndex:a.storeManager.getData("selectedRow"),rowCount:a.storeManager.getData("rowCount"),offset:a.storeManager.getData("offset"),numberOfRecords:a.storeManager.getData("numberOfRecords")}}_calculateNewIndex(e,t){const i=e.currentIndex+t;return Math.max(0,Math.min(i,e.rowCount-1))}_adjustOffsetForSelection(e,t,i){let{offset:a}=e;return i<0&&0===t&&a>0?a--:i>0&&t===e.rowCount-1&&a+t<e.numberOfRecords-1&&a++,a}}},7043:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsViewTouchHandler=void 0;const i=.1,a=10,n=300;t.ResultsViewTouchHandler=class{constructor(e,t,i){this.isTouchDevice=!1,this.scrollCallbacks={},this.elm=e,this.tbody=t,this.tablecontainer=i,this.initializeTouchState(),this.detectTouchDevice(),this.setupTouchEvents()}setScrollCallbacks(e){this.scrollCallbacks=Object.assign({},e)}setTouchStartOffset(e){this.touchState.startOffset=e}get isTouchEnabled(){return this.isTouchDevice}setTouchElementsPointerEvents(e){this._updateTouchElementsPointerEvents(e),this._ensureLinkElementsEnabled()}initializeTouchState(){this.touchState={startY:0,startX:0,startTime:0,lastY:0,lastX:0,distance:0,duration:0,isScrolling:!1,startOffset:0}}detectTouchDevice(){this.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0}setupTouchEvents(){[this.tablecontainer,this.tbody].forEach(e=>{e.addEventListener("touchstart",this._handleTouchStart.bind(this),{passive:!1,capture:!0}),e.addEventListener("touchmove",this._handleTouchMove.bind(this),{passive:!1,capture:!0}),e.addEventListener("touchend",this._handleTouchEnd.bind(this),{passive:!1,capture:!0})}),this.tbody.addEventListener("tapCompleted",this._handleTapCompleted.bind(this))}_updateTouchElementsPointerEvents(e){this.elm.querySelectorAll(".tablecontainer > table > tbody > tr, .tablecontainer > table > tbody > td, .tablecontainer > table > tbody > td *").forEach(t=>{t.style.pointerEvents=e?"auto":"none"})}_ensureLinkElementsEnabled(){this.elm.querySelectorAll(".tablecontainer > table > tbody > td a").forEach(e=>{e.style.pointerEvents="auto"})}_isValidTouchTarget(e){return(this.elm.contains(e.target)||this.elm.contains(e.currentTarget))&&(e.currentTarget===this.tablecontainer||e.currentTarget===this.tbody)}_resetTouchState(){this.touchState.isScrolling=!1,this.touchState.distance=0,this.touchState.startY=0,this.touchState.startX=0,this.touchState.lastY=0,this.touchState.lastX=0,this.touchState.startTime=0,this.touchState.duration=0}_analyzeTouchGesture(e,t){const i=e-this.touchState.startY,s=t-this.touchState.startX,o=Math.sqrt(s*s+i*i),r=Math.abs(i)>Math.abs(s)&&o>a,l=Date.now()-this.touchState.startTime;return{isTap:o<a&&l<n,isScroll:r,deltaY:i,deltaX:s}}_handleTouchStart(e){if(!this._isValidTouchTarget(e)||1!==e.touches.length)return;this._resetTouchState();const t=e.touches[0];this.touchState.startY=t.clientY,this.touchState.startX=t.clientX,this.touchState.lastY=t.clientY,this.touchState.lastX=t.clientX,this.touchState.startTime=Date.now(),this.setTouchElementsPointerEvents(!0)}_handleTouchMove(e){var t,a,n,s;if(!this._isValidTouchTarget(e)||1!==e.touches.length)return;const o=e.touches[0],r=this._analyzeTouchGesture(o.clientY,o.clientX);this.touchState.distance=Math.sqrt(r.deltaX*r.deltaX+r.deltaY*r.deltaY),r.isScroll&&(this.touchState.isScrolling||(this.touchState.isScrolling=!0,this.setTouchElementsPointerEvents(!1),null===(a=(t=this.scrollCallbacks).onScrollStart)||void 0===a||a.call(t)),this.touchState.lastY=o.clientY,null===(s=(n=this.scrollCallbacks).onScroll)||void 0===s||s.call(n,-r.deltaY*i,this.touchState.startOffset))}_handleTouchEnd(e){var t,i;this.touchState.duration=Date.now()-this.touchState.startTime;this.touchState.distance<a&&this.touchState.duration<n?this.setTouchElementsPointerEvents(!0):this.touchState.isScrolling?(this.touchState.isScrolling=!1,this.setTouchElementsPointerEvents(!1),null===(i=(t=this.scrollCallbacks).onScrollEnd)||void 0===i||i.call(t)):this.setTouchElementsPointerEvents(!0),this._resetTouchState()}_handleTapCompleted(e){this.isTouchDevice&&this.setTouchElementsPointerEvents(!1)}}},6996:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924);i(6811),i(1324);const l=s(i(4186));let c=class extends o.LitElement{constructor(){super(...arguments),this.label="",this.conditionType="",this.value="",this.deleteButton=!1}_handleDelete(e){e.stopPropagation(),this.dispatchEvent(new CustomEvent("delete-condition-item",{detail:this.value,bubbles:!0}))}render(){this.dataset&&(this.dataset.conditionType=this.conditionType,this.dataset.value=this.value);let e="";return"dataset"!==this.conditionType&&"genotype"!==this.conditionType||(e=o.html`<frequency-count-value-view
        data-dataset="${this.value}"
      ></frequency-count-value-view>`),"pathogenicity_prediction"===this.conditionType&&(e=o.html` <prediction-value-view
        data-dataset=${this.value}
      ></prediction-value-view>`),o.html`
      <div class="condition-item-value-container">
        <span
          class="inner"
          data-condition-type="${this.conditionType}"
          data-value=${this.value}
        >
          ${this.label}${this.deleteButton?o.html`<button
                class="delete"
                part="delete-tag-btn"
                @click=${this._handleDelete}
              ></button>`:o.nothing}</span
        >
        ${e}
      </div>
    `}};c.styles=[l.default],a([(0,r.property)({type:String}),n("design:type",String)],c.prototype,"label",void 0),a([(0,r.property)({type:String}),n("design:type",String)],c.prototype,"conditionType",void 0),a([(0,r.property)({type:String}),n("design:type",String)],c.prototype,"value",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],c.prototype,"deleteButton",void 0),c=a([(0,r.customElement)("condition-item-value-view")],c),t.default=c},6811:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyCountValueView=void 0;const o=i(6337),r=i(2924),l=s(i(561)),c={frequency:"frequency",count:"count",alt_alt:"aac",alt_ref:"arc",hemi_alt:"hac"};let d=class extends o.LitElement{constructor(){super(...arguments),this.mode=c.frequency,this.from=0,this.to=1,this.invert="0",this.filtered=!1}render(){return o.html`
      <div class="frequencygraph">
        <div class="bar -bar1"></div>
        <div class="bar -bar2"></div>
      </div>
      <div class="range">
        <span class="from">${this.from}</span> ~
        <span class="to">${this.to}</span>
      </div>
      <p class="filtered" ?hidden=${!this.filtered}>
        Exclude filtered out variants
      </p>
    `}firstUpdated(){this._bars=this.shadowRoot.querySelectorAll(".bar"),this._createScaleElements()}_createScaleElements(){const e=this.shadowRoot.querySelector(".frequencygraph"),t=document.createElement("div");t.classList.add("scale");for(let i=0;i<=10;i++){const a=t.cloneNode();a.style.left=`calc(${10*i}% - ${i/10}px)`,e.appendChild(a)}}setValues(e,t,i,a,n,s){this.conditionType=e,this.mode=t,this.from=i,this.to=a,this.invert=n,this.filtered=s,this.dataset.mode=t,this._updateBarVisualization(),this.requestUpdate()}_updateBarVisualization(){this.mode===c.frequency&&this._bars&&("0"===this.invert?this._setNormalBarMode():this._setInvertBarMode())}_setNormalBarMode(){this._bars&&(this._bars[0].style.left=100*this.from+"%",this._bars[0].style.width=100*(this.to-this.from)+"%",this._bars[1].style.width="0%")}_setInvertBarMode(){this._bars&&(this._bars[0].style.left="0%",this._bars[0].style.width=100*this.from+"%",this._bars[1].style.left=100*this.to+"%",this._bars[1].style.width=100*(1-this.to)+"%")}get queryValue(){const e={name:this.dataset.dataset};return"dataset"===this.conditionType?this._buildDatasetQuery(e):this._buildGenotypeQuery(e)}_buildDatasetQuery(e){return"1"===this.invert?this._buildInvertedDatasetQuery(e):this._buildNormalDatasetQuery(e)}_buildInvertedDatasetQuery(e){return{or:[{frequency:{dataset:e,frequency:{gte:0,lte:this.from},filtered:this.filtered}},{frequency:{dataset:e,frequency:{gte:this.to,lte:1},filtered:this.filtered}}]}}_buildNormalDatasetQuery(e){const t=this._buildRangeValues();return{frequency:{dataset:e,[this.mode]:t,filtered:this.filtered}}}_buildGenotypeQuery(e){const t=this._buildRangeValues();return{frequency:{dataset:e,genotype:{key:c[this.mode],count:t},filtered:this.filtered}}}_buildRangeValues(){const e={};return""!==String(this.from)&&(e.gte=this.from),""!==String(this.to)&&(e.lte=this.to),e}};t.FrequencyCountValueView=d,d.styles=[l.default],a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"conditionType",void 0),a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"mode",void 0),a([(0,r.property)({type:Number}),n("design:type",Number)],d.prototype,"from",void 0),a([(0,r.property)({type:Number}),n("design:type",Number)],d.prototype,"to",void 0),a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"invert",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],d.prototype,"filtered",void 0),t.FrequencyCountValueView=d=a([(0,r.customElement)("frequency-count-value-view")],d),t.default=d},6551:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924),l=i(7610),c=s(i(7338));let d=class extends o.LitElement{constructor(e,t){super(),this._inputRef=(0,l.createRef)(),this.placeholder="",this.value="",this._handleLoad=()=>{this._inputRef.value&&(this._inputRef.value.value=this.value)},this.placeholder=t||"",e&&e.appendChild(this)}connectedCallback(){super.connectedCallback(),window.addEventListener("load",this._handleLoad)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("load",this._handleLoad)}willUpdate(e){e.has("value")&&this._inputRef.value&&(this._inputRef.value.value=this.value)}_handleInput(e){e.preventDefault();const t=e.target;this.value=t.value,this.dispatchEvent(new CustomEvent("input-change",{detail:this.value,bubbles:!0,composed:!0}))}_handleForm(e){"Enter"===e.key&&e.preventDefault()}_handleResetClick(){this._inputRef.value&&(this._inputRef.value.value="",this.value=""),this.dispatchEvent(new CustomEvent("input-reset"))}render(){return o.html` <div class="search-field-view">
      <div class="fieldcontainer">
        <div class="field">
          <form class="input-form" @keydown=${this._handleForm}>
            <input
              class="searchfield"
              part="input-field"
              ${(0,l.ref)(this._inputRef)}
              type="text"
              .placeholder=${this.placeholder}
              @input=${this._handleInput}
              required
            />
            <button
              class="delete"
              type="reset"
              @click=${this._handleResetClick}
            ></button>
          </form>
        </div>
      </div>
    </div>`}};d.styles=[c.default],a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"placeholder",void 0),a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"value",void 0),d=a([(0,r.customElement)("search-field"),n("design:paramtypes",[HTMLDivElement,String])],d),t.default=d},6834:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924),l=s(i(6583));let c=class extends o.LitElement{constructor(){super()}render(){return o.html`<button class="btn"></button>`}};c.styles=[l.default],c=a([(0,r.customElement)("search-button"),n("design:paramtypes",[])],c),t.default=c},5309:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHROMOSOME_PATTERN=t.SEARCH_FIELD_CONFIG=t.EXAMPLES=void 0;const a=i(8161);t.EXAMPLES=[{key:"Disease",value:"Breast-ovarian cancer, familial 2"},{key:"Gene",value:"ALDH2"},{key:"refSNP",value:"rs114202595"},{key:"TogoVar",value:"tgv56616325"},{key:"Position(GRCh37/hg19)",value:"16:48258198"},{key:"Region(GRCh37/hg19)",value:"10:73270743-73376976"},{key:"HGVSc",value:"NM_000690:c.1510G>A"},{key:"HGVSp",value:"ALDH2:p.Glu504Lys"}],t.SEARCH_FIELD_CONFIG={placeholder:"Search for disease or gene symbol or rs...",suggestAPIURL:`${a.API_URL}/suggest`,suggestAPIQueryParam:"term",options:{valueMappings:{valueKey:"term",labelKey:"term",aliasOfKey:"alias_of"},titleMappings:{gene:"Gene names",disease:"Disease names"}}},t.CHROMOSOME_PATTERN=/([1-9]|1[0-9]|2[0-2]|X|Y|M|MT):\d+/i},966:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSearchController=void 0;const a=i(3522),n=i(5833),s=i(5309);t.SimpleSearchController=class{constructor(e){this.host=e}search(e){s.CHROMOSOME_PATTERN.test(e)&&(e=e.replace(/Chr|ch|Cr|cs/i,"").toUpperCase()).includes("M:")&&(e=e.replace("M:","MT:")),(0,a.setSimpleSearchCondition)("term",e)}updateTerm(e){this.host._term=e;const t=Object.assign({},n.storeManager.getData("simpleSearchConditions"));t.term=e||"",n.storeManager.setData("simpleSearchConditions",t)}reset(){this.host._term="",this.host._value="",this.host._hideSuggestions=!0,(0,a.setSimpleSearchCondition)("term","")}selectSuggestion(e){this.host._hideSuggestions=!0,this.host._value=e.label,this.host._term=e.label,this.search(e.label)}selectExample(e){this.host._hideSuggestions=!0,this.host._value=e.value,this.host._term=e.value,this.search(e.value)}executeCurrentSearch(){void 0!==this.host._term&&this.search(this.host._term)}executeButtonSearch(){this.search(this.host._term||"")}}},7754:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSearchEventHandlers=void 0;t.SimpleSearchEventHandlers=class{constructor(e,t){this.handleSuggestionEnter=e=>{this.controller.selectSuggestion(e.detail)},this.handleExampleSelected=e=>{this.controller.selectExample(e.detail)},this.handleInputTerm=e=>{this.controller.updateTerm(e.detail)},this.handleTermEnter=()=>{this.controller.executeCurrentSearch()},this.handleSearchButtonClick=()=>{this.controller.executeButtonSearch()},this.handleInputStart=()=>{this.host._hideSuggestions=!1},this.handleInputReset=()=>{this.controller.reset()},this.host=e,this.controller=t}}},2081:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924),l=i(3310),c=s(i(1848));let d=class extends o.LitElement{constructor(){super(...arguments),this.examples=[]}handleClick(e){this.dispatchEvent(new CustomEvent("example-selected",{detail:e,bubbles:!0,composed:!0}))}render(){return o.html`
      ${(0,l.map)(this.examples,e=>o.html`<dl @click=${()=>this.handleClick(e)}>
            <dt>${e.key}</dt>
            <dd>${e.value}</dd>
          </dl>`)}
    `}};d.styles=[c.default],a([(0,r.property)({type:Array}),n("design:type",Array)],d.prototype,"examples",void 0),d=a([(0,r.customElement)("simple-search-examples")],d),t.default=d},7919:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924);i(3612),i(2081),i(6834);const l=i(3522),c=i(966),d=i(7754),h=i(5309),u=s(i(3582));let p=class extends o.LitElement{constructor(){super(),this._value="",this._term=(0,l.getSimpleSearchCondition)("term")||"",this._hideSuggestions=!0,this._handleSearchButtonClick=()=>{this._eventHandlers.handleSearchButtonClick()},this._handleExampleSelected=e=>{this._eventHandlers.handleExampleSelected(e)};const e=document.getElementById("SimpleSearchView");e&&e.appendChild(this),this._controller=new c.SimpleSearchController(this),this._eventHandlers=new d.SimpleSearchEventHandlers(this,this._controller)}get controller(){return this._controller}get eventHandlers(){return this._eventHandlers}render(){return o.html`
      <div class="simple-search-container">
        <search-field-with-suggestions
          exportparts="input-field"
          .placeholder=${h.SEARCH_FIELD_CONFIG.placeholder}
          .suggestAPIURL=${h.SEARCH_FIELD_CONFIG.suggestAPIURL}
          .suggestAPIQueryParam=${h.SEARCH_FIELD_CONFIG.suggestAPIQueryParam}
          .options=${h.SEARCH_FIELD_CONFIG.options}
          .term=${this._term}
          .hideSuggestions=${this._hideSuggestions}
          @new-suggestion-selected=${this._eventHandlers.handleSuggestionEnter}
          @search-term-enter=${this._eventHandlers.handleTermEnter}
          @input-term=${this._eventHandlers.handleInputTerm}
          @input=${this._eventHandlers.handleInputStart}
          @input-reset=${this._eventHandlers.handleInputReset}
        ></search-field-with-suggestions>

        <search-button @click=${this._handleSearchButtonClick}></search-button>
      </div>
      <simple-search-examples
        .examples=${h.EXAMPLES}
        @example-selected=${this._handleExampleSelected}
      ></simple-search-examples>
    `}};p.styles=[u.default],a([(0,r.state)(),n("design:type",String)],p.prototype,"_value",void 0),a([(0,r.state)(),n("design:type",String)],p.prototype,"_term",void 0),a([(0,r.state)(),n("design:type",Boolean)],p.prototype,"_hideSuggestions",void 0),p=a([(0,r.customElement)("simple-search-view"),n("design:paramtypes",[])],p),t.default=p},9309:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoView=void 0;const a=i(7921);class n extends a.AsyncDirective{render(){}update(e,[t]){if(!t)return;const i=this._getElementFromPart(e);(null==i?void 0:i.parentElement)&&this._scrollParentToChild(i.parentElement,i)}_getElementFromPart(e){return"element"in e&&e.element?e.element:null}_isElementViewable(e,t,i){return t.top>=e.top&&t.bottom<=e.top+i.height}_calculateScrollDirection(e,t){const i=t.top-e.top,a=t.bottom-e.bottom;return{scrollTop:i,scrollBot:a,shouldScrollTop:Math.abs(i)<Math.abs(a)}}_scrollParentToChild(e,t){const i=e.getBoundingClientRect(),a={height:e.clientHeight,width:e.clientWidth},n=t.getBoundingClientRect();if(this._isElementViewable(i,n,a))return;const s=this._calculateScrollDirection(i,n),o=s.shouldScrollTop?s.scrollTop:s.scrollBot;e.scrollTop+=o}}t.scrollIntoView=(0,a.directive)(n)},4384:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924),l=i(3310),c=i(6781),d=s(i(9009)),h=i(9309);let u=class extends o.LitElement{constructor(){super(...arguments),this.suggestData=[],this.highlightedSuggestionIndex=-1,this.itemIdKey="",this.itemLabelKey="",this.subTextKey="",this.title="",this.hasApiResponse=!1}_handleSelect(e){this.dispatchEvent(new CustomEvent("suggestion-selected",{detail:e,bubbles:!0,composed:!0}))}render(){return o.html`
      ${this.title?o.html`<h3 class="title">${this.title}</h3>`:o.nothing}
      <ul class="list">
        ${this.hasApiResponse?this.suggestData&&0!==this.suggestData.length?(0,l.map)(this.suggestData,(e,t)=>o.html`
                <li
                  class="item ${this.highlightedSuggestionIndex===t?"-selected":""}"
                  @mousedown="${()=>this._handleSelect(e)}"
                  ${h.scrollIntoView(this.highlightedSuggestionIndex===t)}
                >
                  ${(0,c.unsafeHTML)((null==e?void 0:e.highlight)||(null==e?void 0:e[this.itemLabelKey]))}
                  ${this.subTextKey&&(null==e?void 0:e[this.subTextKey])?o.html`<span class="sub">
                        alias: ${e[this.subTextKey]}</span
                      >`:o.nothing}
                </li>
              `):o.html`<li class="item -empty">No results</li>`:o.nothing}
      </ul>
    `}};u.styles=[d.default],a([(0,r.property)({type:Array}),n("design:type",Array)],u.prototype,"suggestData",void 0),a([(0,r.property)({type:Number}),n("design:type",Number)],u.prototype,"highlightedSuggestionIndex",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"itemIdKey",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"itemLabelKey",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"subTextKey",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"title",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],u.prototype,"hasApiResponse",void 0),u=a([(0,r.customElement)("search-field-suggestions-list")],u),t.default=u},3612:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,s=arguments.length,o=s<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(o=(s<3?n(o):s>3?n(t,i,o):n(t,i))||o);return s>3&&o&&Object.defineProperty(t,i,o),o},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(6337),r=i(2924),l=i(3310);i(6551),i(4384);const c=i(6507),d=i(9544),h=i(1737),u=i(8535),p=s(i(2689)),g="id",f="term",m="alias_of";function b(e){var t,i,a;return{valueMappings:{valueKey:(null===(t=null==e?void 0:e.valueMappings)||void 0===t?void 0:t.valueKey)||g,labelKey:(null===(i=null==e?void 0:e.valueMappings)||void 0===i?void 0:i.labelKey)||f,aliasOfKey:(null===(a=null==e?void 0:e.valueMappings)||void 0===a?void 0:a.aliasOfKey)||m},titleMappings:(null==e?void 0:e.titleMappings)||{}}}let v=class extends o.LitElement{constructor(e,t,i,a,n){super(),this.placeholder=e,this.suggestAPIURL="",this.suggestAPIQueryParam="",this.hideSuggestions=!1,this.term="",this.value="",this.label="",this.showSuggestions=!1,this.suppressSuggestions=!1,this.hasApiResponse=!1,this.hasUserInput=!1,this.currentSuggestionIndex=-1,this.currentSuggestionColumnIndex=0,this.suggestData={},this._suggestionKeysArrayInternal=[],this.handleUpDownKeys=e=>this._keyboardHandler.handleUpDownKeys(e),this.handleSuggestionSelected=e=>this._selectionHandler.handleSuggestionSelected(e),this.handleInput=e=>this._inputHandler.handleInput(e),this.handleClick=()=>this._inputHandler.handleClick(),this.handleFocusIn=()=>this._inputHandler.handleFocusIn(),this.handleFocusOut=()=>this._inputHandler.handleFocusOut(),this.handleInputReset=()=>this._inputHandler.handleInputReset(),this.hideSuggestionsMethod=()=>{this.showSuggestions=!1},this.selectSuggestion=e=>this._selectionHandler.select(e),this.searchWithoutSuggestion=e=>this._selectionHandler.searchWithoutSelect(e),this.selectCurrentSuggestion=()=>{if(this.showSuggestions&&-1!==this.currentSuggestionIndex){const e=this.suggestData[this._suggestionKeysArray[this.currentSuggestionColumnIndex]][this.currentSuggestionIndex];this.selectSuggestion(e),this.resetKeyboardSelection(),this.hideSuggestionsMethod()}},this.executeSearchWithoutSuggestion=()=>{this.searchWithoutSuggestion(this.term)},this.closeSuggestions=()=>{this.hideSuggestionsMethod(),this.suppressSuggestions=!0},this.hideControllerSuggestions=()=>{this._controller.hideSuggestions()},this.showControllerSuggestions=()=>{this._controller.showSuggestions()},this.clearControllerSuggestData=()=>{this._controller.clearSuggestData()},this.resetKeyboardSelection=()=>{this._keyboardHandler.resetSelection()},this.suggestAPIURL=t,this.suggestAPIQueryParam=i,this._searchFieldOptionsInternal=b(n),this._controller=new c.SearchFieldController(this),this._keyboardHandler=new d.SuggestionKeyboardHandler(this),this._selectionHandler=new h.SuggestionSelectionHandler(this),this._inputHandler=new u.InputEventHandler(this),a&&a.appendChild(this)}get apiTask(){return this._controller.apiTask}get _searchFieldOptions(){return this._searchFieldOptionsInternal}get _suggestionKeysArray(){return this._suggestionKeysArrayInternal}set _suggestionKeysArray(e){this._suggestionKeysArrayInternal=e}willUpdate(e){e.has("suggestAPIURL")&&this._controller.setSuggestURL(this.suggestAPIURL,this.suggestAPIQueryParam),e.has("options")&&this.options&&(this._searchFieldOptionsInternal=b(this.options)),e.has("hideSuggestions")&&(this.showSuggestions=!this.hideSuggestions)}_handleStepThroughColumns(){var e,t;this.currentSuggestionIndex>(null===(e=this.suggestData[this._suggestionKeysArray[this.currentSuggestionColumnIndex]])||void 0===e?void 0:e.length)-1&&(this.currentSuggestionIndex=(null===(t=this.suggestData[this._suggestionKeysArray[this.currentSuggestionColumnIndex]])||void 0===t?void 0:t.length)-1)}render(){return o.html`
      <search-field
        exportparts="input-field"
        value=${this.term}
        .placeholder=${this.placeholder}
        @input-change=${this.handleInput}
        @click=${this.handleClick}
        @focusin=${this.handleFocusIn}
        @focusout=${this.handleFocusOut}
        @keydown=${this.handleUpDownKeys}
        @input-reset=${this.handleInputReset}
      ></search-field>
      <div class="suggestions-container">
        ${this.suggestData&&this.showSuggestions&&this.hasApiResponse&&!this.hideSuggestions?o.html`
              ${(0,l.map)(this._suggestionKeysArray,(e,t)=>{var i,a,n,s;return o.html`
                    <div class="column">
                      <search-field-suggestions-list
                        .suggestData=${this.suggestData[e]}
                        .highlightedSuggestionIndex="${t===this.currentSuggestionColumnIndex?this.currentSuggestionIndex:-1}"
                        .itemIdKey=${"term"}
                        .itemLabelKey=${"term"}
                        .subTextKey=${null===(a=null===(i=this._searchFieldOptions)||void 0===i?void 0:i.valueMappings)||void 0===a?void 0:a.aliasOfKey}
                        .hasApiResponse=${this.hasApiResponse}
                        title=${null===(s=null===(n=this._searchFieldOptions)||void 0===n?void 0:n.titleMappings)||void 0===s?void 0:s[e]}
                        @suggestion-selected=${this.handleSuggestionSelected}
                      ></search-field-suggestions-list>
                    </div>
                  `})}
            `:o.nothing}
      </div>
    `}};v.styles=[p.default],a([(0,r.property)(),n("design:type",String)],v.prototype,"suggestAPIURL",void 0),a([(0,r.property)(),n("design:type",String)],v.prototype,"suggestAPIQueryParam",void 0),a([(0,r.property)({type:Object}),n("design:type",Object)],v.prototype,"options",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],v.prototype,"hideSuggestions",void 0),a([(0,r.state)(),n("design:type",String)],v.prototype,"term",void 0),a([(0,r.state)(),n("design:type",String)],v.prototype,"value",void 0),a([(0,r.state)(),n("design:type",String)],v.prototype,"label",void 0),a([(0,r.state)(),n("design:type",Boolean)],v.prototype,"showSuggestions",void 0),a([(0,r.state)(),n("design:type",Boolean)],v.prototype,"suppressSuggestions",void 0),a([(0,r.state)(),n("design:type",Boolean)],v.prototype,"hasApiResponse",void 0),a([(0,r.state)(),n("design:type",Boolean)],v.prototype,"hasUserInput",void 0),a([(0,r.state)(),n("design:type",Number)],v.prototype,"currentSuggestionIndex",void 0),a([(0,r.state)(),n("design:type",Number)],v.prototype,"currentSuggestionColumnIndex",void 0),a([(0,r.state)(),n("design:type",Object)],v.prototype,"suggestData",void 0),a([(0,r.state)(),n("design:type",Array)],v.prototype,"_suggestionKeysArrayInternal",void 0),v=a([(0,r.customElement)("search-field-with-suggestions"),n("design:paramtypes",[String,String,String,HTMLElement,Object])],v),t.default=v},8535:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputEventHandler=void 0;t.InputEventHandler=class{constructor(e){this.handleInput=e=>{let t;if(e instanceof CustomEvent)t=String(e.detail)||"";else{const i=e.target;t=(null==i?void 0:i.value)||""}this.host.term=t,this.host.hasUserInput=!0,this.host.suppressSuggestions&&(this.host.suppressSuggestions=!1),this.host.dispatchEvent(new CustomEvent("input-term",{detail:t,bubbles:!0,composed:!0})),this.host.term.length<3&&(this.host.hideControllerSuggestions(),this.host.clearControllerSuggestData())},this.handleClick=()=>{this.host.resetKeyboardSelection()},this.handleFocusIn=()=>{var e;(null===(e=this.host.term)||void 0===e?void 0:e.length)>3&&!this.host.suppressSuggestions&&this.host.hasUserInput&&this.host.showControllerSuggestions()},this.handleFocusOut=()=>{this.host.hideSuggestionsMethod()},this.handleInputReset=()=>{this.host.term="",this.host.value="",this.host.label="",this.host.showSuggestions=!1,this.host.hasUserInput=!1,this.host.clearControllerSuggestData(),this.host.hideSuggestionsMethod(),this.host.dispatchEvent(new CustomEvent("input-reset"))},this.host=e}resetInputState(){this.host.term="",this.host.value="",this.host.label=""}shouldShowSuggestions(){return this.host.term&&this.host.term.length>=3}}},6507:function(e,t,i){"use strict";var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function r(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}l((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SearchFieldController=void 0;const n=i(9483),s=i(582),o=i(4191);t.SearchFieldController=class{constructor(e){this._getSuggestURL=null,this.host=e,this._initializeApiTask()}_initializeApiTask(){this.apiTask=new n.Task(this.host,(0,o.debounce)(e=>a(this,void 0,void 0,function*(){const t=e[0];if(t&&t.length>=3&&this.host.hasUserInput){this.host.showSuggestions=!0;if(this.host.hasApiResponse&&Object.keys(this.host.suggestData).length>0||(this.host.hasApiResponse=!1),!this._getSuggestURL)throw new Error("Suggest URL function is not set");try{const{data:e}=yield s.axios.get(this._getSuggestURL(t));let i;return Array.isArray(e)?(i={data:e},this.host._suggestionKeysArray=["data"]):(i=e,this.host._suggestionKeysArray=Object.keys(e)),this.host.suggestData=i,this.host.hasApiResponse=!0,i}catch(e){throw this.host.hasApiResponse=!0,e}}return(!t||t.length<3)&&(this.host.showSuggestions=!1,this.host.hasApiResponse=!1),{}}),300),()=>[this.host.term])}setSuggestURL(e,t){this._getSuggestURL=i=>{const a=new URL(e);return a.searchParams.set(t,i),a.toString()}}hideSuggestions(){this.host.showSuggestions=!1}showSuggestions(){this.host.showSuggestions=!0}clearSuggestData(){this.host.suggestData={},this.host.hasApiResponse=!1}}},9544:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionKeyboardHandler=void 0;t.SuggestionKeyboardHandler=class{constructor(e){this.handleUpDownKeys=e=>{switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&this.host.showSuggestions&&-1!==this.host.currentSuggestionIndex&&e.preventDefault(),e.key){case"ArrowLeft":this._handleArrowLeft();break;case"ArrowRight":this._handleArrowRight();break;case"ArrowUp":this._handleArrowUp();break;case"ArrowDown":this._handleArrowDown();break;case"Enter":this._handleEnter();break;case"Escape":this._handleEscape()}},this.host=e}_handleArrowLeft(){var e;this.host.currentSuggestionColumnIndex-1<0?this.host.currentSuggestionColumnIndex=(null===(e=this.host._suggestionKeysArray)||void 0===e?void 0:e.length)-1:(this.host.currentSuggestionColumnIndex--,this._handleStepThroughColumns())}_handleArrowRight(){var e;this.host.currentSuggestionColumnIndex+1>(null===(e=this.host._suggestionKeysArray)||void 0===e?void 0:e.length)-1?this.host.currentSuggestionColumnIndex=0:(this.host.currentSuggestionColumnIndex++,this._handleStepThroughColumns())}_handleArrowUp(){var e;this.host.currentSuggestionIndex-1<0?this.host.currentSuggestionIndex=(null===(e=this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]])||void 0===e?void 0:e.length)-1:this.host.currentSuggestionIndex--}_handleArrowDown(){var e;this.host.currentSuggestionIndex+1>(null===(e=this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]])||void 0===e?void 0:e.length)-1?this.host.currentSuggestionIndex=0:this.host.currentSuggestionIndex++}_handleEnter(){this.host.showSuggestions&&-1!==this.host.currentSuggestionIndex?this.host.selectCurrentSuggestion():this.host.executeSearchWithoutSuggestion()}_handleEscape(){this.host.closeSuggestions()}_handleStepThroughColumns(){var e,t;this.host.currentSuggestionIndex>(null===(e=this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]])||void 0===e?void 0:e.length)-1&&(this.host.currentSuggestionIndex=(null===(t=this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]])||void 0===t?void 0:t.length)-1)}resetSelection(){this.host.currentSuggestionIndex=-1,this.host.currentSuggestionColumnIndex=0}}},1737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionSelectionHandler=void 0;t.SuggestionSelectionHandler=class{constructor(e){this.select=e=>{const t=e[this.host._searchFieldOptions.valueMappings.valueKey]||"",i=e[this.host._searchFieldOptions.valueMappings.labelKey]||"";this.host.value=this._formatSuggestionValue(t),this.host.label=this._formatSuggestionValue(i),this.host.suppressSuggestions=!0,this.host.hasUserInput=!1,this.host.dispatchEvent(new CustomEvent("new-suggestion-selected",{detail:{id:this.host.value,label:this.host.label},bubbles:!0,composed:!0}))},this.searchWithoutSelect=e=>{this.host.suppressSuggestions=!0,this.host.hasUserInput=!1,this.host.dispatchEvent(new CustomEvent("search-term-enter",{detail:e,bubbles:!0,composed:!0})),this.host.hideSuggestionsMethod()},this.handleSuggestionSelected=e=>{this.select(e.detail)},this.host=e}_hasMultipleSuggestionColumns(){return this.host._suggestionKeysArray.length>1}_escapeString(e){return String(e||"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')}_formatSuggestionValue(e){const t=this._escapeString(e);return this._hasMultipleSuggestionColumns()?`"${t}"`:t}}},5833:function(e,t,i){"use strict";var a,n,s,o,r,l,c=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),n=0;n<i.length;n++)"default"!==i[n]&&c(t,e,i[n]);return d(t,e),t}),u=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))(function(n,s){function o(e){try{l(a.next(e))}catch(e){s(e)}}function r(e){try{l(a.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,r)}l((a=a.apply(e,t||[])).next())})},p=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.storeManager=void 0;const g=h(i(2543)),f=i(3522),m=i(5640);s=new WeakMap,o=new WeakMap,r=new WeakMap,n=new WeakSet,l=function(){this.setData("isFetching",!1),window.addEventListener("popstate",f.handleHistoryChange.bind(this)),this.subscribe("searchMode",this.searchMode.bind(this))},t.storeManager=new class{constructor(){n.add(this),s.set(this,{}),o.set(this,new Map),r.set(this,{karyotype:"",searchMode:"",simpleSearchConditionsMaster:[],simpleSearchConditions:{},columns:[],searchResults:[],numberOfRecords:0,offset:0,rowCount:0,appStatus:"preparing",isLogin:!1,isFetching:!1,isStoreUpdating:!1,displayingRegionsOnChromosome:{}}),p(this,n,"m",l).call(this)}getData(e){return this._deepCopy(p(this,r,"f")[e])}setData(e,t){const i=p(this,r,"f")[e];"object"==typeof t&&null!==t?g.isEqual(i,t)||(p(this,r,"f")[e]=structuredClone(t),this.publish(e)):Object.is(i,t)||(p(this,r,"f")[e]=t,this.publish(e))}subscribe(e,t){var i;p(this,o,"f").has(e)||p(this,o,"f").set(e,new Set),null===(i=p(this,o,"f").get(e))||void 0===i||i.add(t)}bind(e,t){void 0===p(this,s,"f")[e]?p(this,s,"f")[e]=[t]:p(this,s,"f")[e].push(t)}publish(e){var t;null===(t=p(this,o,"f").get(e))||void 0===t||t.forEach(t=>t(p(this,r,"f")[e])),p(this,s,"f")[e]&&p(this,s,"f")[e].forEach(t=>{const i=this._deepCopy(p(this,r,"f")[e]);"function"==typeof t[e]?t[e](i):console.warn("This binding has no corresponding function.",t,e)})}_deepCopy(e){return null===e||"object"!=typeof e?e:structuredClone(e)}setResults(e,t){this.setData("isStoreUpdating",!0);const i=Array(this.getData("numberOfRecords")).fill(null);this.getData("searchResults").forEach((e,t)=>{e&&(i[t]=e)}),e.forEach((e,a)=>{i[t+a]=e}),this.setData("searchResults",i),this.publish("searchResults"),this.setData("isFetching",!1),this.setData("isStoreUpdating",!1)}getRecordByIndex(e){if(this.getData("isStoreUpdating"))return"loading";const t=this.getData("offset")+e;if(t<p(this,r,"f").numberOfRecords){const i=p(this,r,"f").searchResults[t];return i?this._deepCopy(i):((0,m.executeSearch)(this.getData("offset")+e),"loading")}return"out of range"}getSelectedRecord(){return void 0!==p(this,r,"f").selectedRow?p(this,r,"f").searchResults[p(this,r,"f").offset+p(this,r,"f").selectedRow]:null}fetchLoginStatus(){return u(this,void 0,void 0,function*(){try{if("http://localhost:8000"===window.location.origin)return void this.setData("isLogin",!0);const e=new AbortController,t=setTimeout(()=>e.abort(),1e4),i=yield fetch(`${window.location.origin}/auth/status`,{signal:e.signal}).catch(()=>{throw new Error("Request failed or timed out")});clearTimeout(t),i instanceof Response&&(200===i.status?this.setData("isLogin",!0):console.warn(`Not logged in: Received status ${i.status}`))}catch(e){console.error("Error fetching auth status:",e),this.setData("isLogin",!1)}})}searchMode(e){this.setData("isStoreUpdating",!0);try{switch(this.setData("offset",0),this.setData("selectedRow",void 0),this.setData("searchResults",[]),this.setData("numberOfRecords",0),this.setData("rowCount",0),document.body.dataset.searchMode=e,e){case"simple":(0,f.reflectSimpleSearchConditionToURI)(),this.publish("simpleSearchConditions");break;case"advanced":const e=this.getData("advancedSearchConditions");(0,f.setAdvancedSearchCondition)(e),(0,f.reflectAdvancedSearchConditionToURI)()}this.setData("appStatus","searching"),(0,m.executeSearch)(0,!0)}finally{this.setData("isStoreUpdating",!1)}}}},6364:function(e,t,i){"use strict";t.W=function(){const e=new URLSearchParams(window.location.search);"advanced"===e.get("mode")?a.storeManager.setData("searchMode","advanced"):a.storeManager.setData("searchMode","simple")};const a=i(5833)},3522:function(e,t,i){"use strict";var a,n=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),o=0;o<i.length;o++)"default"!==i[o]&&n(t,e,i[o]);return s(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.extractSearchCondition=h,t.setSimpleSearchCondition=function(e,t){u({[e]:t})},t.getSimpleSearchCondition=function(e){var t;return null===(t=c.storeManager.getData("simpleSearchConditions"))||void 0===t?void 0:t[e]},t.getSimpleSearchConditionMaster=function(e){return c.storeManager.getData("simpleSearchConditionsMaster").find(t=>t.id===e)},t.reflectSimpleSearchConditionToURI=p,t.resetSimpleSearchConditions=function(){const e=c.storeManager.getData("simpleSearchConditionsMaster"),t={};for(const i of e)switch(i.type){case"string":case"boolean":"term"!==i.id&&(t[i.id]=i.default);break;case"array":{const e={};for(const t of i.items)e[t.id]=t.default;t[i.id]=e}}u(t)},t.handleHistoryChange=function(e){u(r.parse(window.location.search.substring(1)),!0)},t.setAdvancedSearchCondition=function(e){c.storeManager.setData("advancedSearchConditions",e),c.storeManager.setData("appStatus","searching"),g(),(0,l.executeSearch)(0,!0)},t.reflectAdvancedSearchConditionToURI=g;const r=o(i(5373)),l=i(5640),c=i(5833);let d=r.parse(window.location.search.substring(1));function h(e={}){var t,i;const a=c.storeManager.getData("simpleSearchConditionsMaster"),n={},s=new Map(a.map(e=>[e.id,e]));for(const[a,o]of Object.entries(e)){const e=s.get(a);if(e)switch(e.type){case"array":{const s={};if("object"==typeof o&&null!==o)for(const[a,n]of Object.entries(o)){n!==(null===(i=null===(t=e.items)||void 0===t?void 0:t.find(e=>e.id===a))||void 0===i?void 0:i.default)&&(s[a]=n)}Object.keys(s).length>0&&(n[a]=s);break}case"boolean":case"string":o!==e.default&&(n[a]=o);break}}return n}function u(e,t){const i=Object.assign({},c.storeManager.getData("simpleSearchConditions"));Object.keys(e).forEach(t=>{i[t]=e[t]}),c.storeManager.setData("simpleSearchConditions",i),t||"simple"!==c.storeManager.getData("searchMode")||p(),c.storeManager.setData("appStatus","searching"),(0,l.executeSearch)(0,!0)}function p(){const e=c.storeManager.getData("simpleSearchConditions"),t=h(e),i=e.term||"";0===Object.keys(t).length&&""===i?d={mode:"simple"}:(d=Object.assign({mode:"simple"},t),""!==i?d.term=i:delete d.term);const a=`${window.location.origin}${window.location.pathname}?${r.stringify(d)}`;window.history.pushState(d,"",a)}function g(){d.mode="advanced",window.history.pushState(d,"",`${window.location.origin}${window.location.pathname}?mode=advanced`)}setTimeout(()=>{!function(){const e=new URLSearchParams(window.location.search);"advanced"===e.get("mode")?c.storeManager.setData("searchMode","advanced"):c.storeManager.setData("searchMode","simple")}()},100)},2634:function(){}}]);
//# sourceMappingURL=474-b77b08417ef0db5a40d0.js.map