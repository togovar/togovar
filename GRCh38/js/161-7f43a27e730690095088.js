(self.webpackChunktogo_var=self.webpackChunktogo_var||[]).push([[161],{550:function(e,t,i){var a={"./GRCh37/karyotype.tsv":[1298,298],"./GRCh38/karyotype.tsv":[1,1]};function n(e){if(!i.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],n=t[0];return i.e(t[1]).then(function(){return i.t(n,23)})}n.keys=function(){return Object.keys(a)},n.id=550,e.exports=n},4891:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=i(417),n=i(216),o=i(3494);const s={consequence:!0,disease:!1};class r extends a.ConditionValueEditor{constructor(e,t){super(e,t),this._data=this._prepareData(),this._selectionDependedOnParent=s[this.conditionType],this.createSectionEl("columns-editor-view",`\n    <header>Select ${this.conditionType}</header>\n    <div class="body">\n      <div class="columns"></div>\n      <div class="description"></div>\n    </div>`),this._columns=this.bodyEl.querySelector(":scope > .columns"),this._description=this.bodyEl.querySelector(":scope > .description"),this._drawColumn()}keepLastValues(){this._lastValues=this._data.filter(e=>e.value&&e.checked).map(e=>e.value)}restore(){this._data.forEach(e=>e.checked=-1!==this._lastValues.indexOf(e.value)),this._update()}get isValid(){return this.conditionItemValueViews.length>0}_prepareData(){switch(this.conditionType){case o.CONDITION_TYPE.consequence:case o.CONDITION_TYPE.dataset:return n.ADVANCED_CONDITIONS[this.conditionType].values.map(e=>Object.assign({checked:!1},e));case o.CONDITION_TYPE.disease:return[]}return[]}_drawColumn(e){this._getItems(e).then(e=>{const t=document.createElement("div");t.classList.add("column"),t.dataset.depth=this._columns.querySelectorAll(":scope > .column").length,this._columns.append(t),t.innerHTML=`\n        <ul>\n          ${e.map(e=>`<li\n              ${e.id?`data-id="${e.id}"`:""}\n              ${e.value?`data-value="${e.value}"`:""}\n              ${e.parent?`data-parent="${e.parent}"`:""}\n            >\n              <label>\n                <input type="checkbox">\n                ${this.conditionType===o.CONDITION_TYPE.dataset?`<span class="dataset-icon" data-dataset="${e.value}"></span>`:""}\n                <span>${e.label}</span>\n              </label>\n              ${void 0===e.children?"":`<div class="arrow" data-id="${e.id}"></div>`}\n            </li>`).join("")}\n        </ul>`;for(const e of t.querySelectorAll(":scope > ul > li > label > input"))e.addEventListener("change",e=>{const t=e.target.closest("li"),i=this._data.find(e=>e.id==t.dataset.id);i.checked=e.target.checked,i.children&&this._updateChildren(i.id,e.target.checked),this._update(i.id)});for(const e of t.querySelectorAll(":scope > ul > li > .arrow"))e.addEventListener("click",e=>{const t=e.target.closest("li");t.parentNode.querySelector(":scope > .-selected")?.classList.remove("-selected");const i=parseInt(t.closest(".column").dataset.depth);for(const e of t.closest(".columns").querySelectorAll(":scope > .column"))parseInt(e.dataset.depth)>i&&e.parentNode.removeChild(e);t.classList.add("-selected"),this._drawColumn(+e.target.dataset.id)});this._update();const i=this.bodyEl.scrollWidth-this.bodyEl.clientWidth;i>0&&this.bodyEl.scrollTo({top:0,left:i,behavior:"smooth"})})}_getItems(e){return new Promise((t,i)=>{switch(this.conditionType){case o.CONDITION_TYPE.consequence:case o.CONDITION_TYPE.dataset:t(this._data.filter(t=>t.parent===e));break;default:i(new Error("ConditionValueEditorColumns - Not implemented"))}})}_updateChildren(e,t){if(!this._selectionDependedOnParent)return;this._data.filter(t=>t.parent==e).forEach(e=>{e.checked=t,this._updateChildren(e.id,t)})}_updateIndeterminate(){const e=t=>{if(!t.children||0===t.children.length)return;let i,a,n=0;switch(t.children.forEach(t=>{const i=this._data.find(e=>e.id===t);i.children?n+=e(i):n+=i.checked}),!0){case 0===n:i=!1,a=!1;break;case n===t.children.length:i=!0,a=!1;break;default:i=!1,a=!0}const o=this._columns.querySelector(`li[data-id="${t.id}"] > label > input`);return o&&(o.checked=i,o.indeterminate=a),i||a};this._data.filter(e=>void 0===e.parent).forEach(t=>e(t))}_update(){this._data.forEach(e=>{const t=this._columns.querySelector(`li[data-id="${e.id}"] > label > input`);t&&(t.checked=e.checked)}),this._updateIndeterminate(),this._data.forEach(e=>{e.value&&(e.checked?this.addValueView(e.value,e.label):this.removeValueView(e.value))}),this.conditionValues.update(this._validate())}_validate(){return this.isValid}}},4562:function(e,t,i){"use strict";i.r(t),i.d(t,{ConditionDiseaseSearch:function(){return _}});var a=i(6337);class n extends a.LitElement{static properties(){return{erorMessage:{type:String}}}constructor(){super(...arguments),this.errorMessage=""}render(){return a.html`
      <div class="err-container">
        <p>${this.errorMessage}</p>
      </div>
    `}}n.styles=a.css`
    p {
      font-size: 2em;
      color: green;
    }
  `,customElements.define("error-modal",n);var o=i(7610),s=i(6214),r=i(7921);const l=new Map;class c extends r.AsyncDirective{constructor(...e){super(...e),this.parent=void 0,this.element=void 0,this.boundingRect=void 0,this.id=void 0,this.role="",this.parentRect=null}render(){return a.nothing}update(e,[{id:t,role:i="",options:n={},heroId:o,scrolledHeroRect:s=null}={}]){return this.id=t,this.role=i,this.heroId=o,this.scrolledHeroRect=s,"hero"===this.role&&this.id!==this.heroId&&"MONDO_0000001"!==this.id&&"dummy"!==this.id&&(l.set(this.id,e.element.getBoundingClientRect()),this.remove()),"hero"===this.role||l.has(this.id)||l.set(this.id,{y:0,x:0,width:0,height:0}),this.options={...this.options,...n},this.element!==e.element&&(this.element=e.element,this.parent=this.element.parentElement||this.element.getRootNode().querySelector(".column")),this.boundingRect&&(this.boundingRect=this.element.getBoundingClientRect()),Promise.resolve().then(()=>this.prepareToFlip()),a.noChange}prepareToFlip(){this.boundingRect||(this.boundingRect=l.has(this.id)?l.get(this.id):this.element.getBoundingClientRect(),l.delete(this.id)),this.flip()}flip(e,t){let i=this.boundingRect;this.id===this.heroId&&(i=this.scrolledHeroRect),this.boundingRect=this.element.getBoundingClientRect();const a=(i?.y||0)-(this.boundingRect?.y||0);if(!a&&!t)return;const n=t=>{t.target===this.element&&(e(t),this.element.removeEventListener("transitionend",n))};this.element.addEventListener("transitionend",n),this.element.animate([{transform:`translate(0, ${a}px)`},{transform:"translate(0,0)"}],this.options)}remove(){this.element.animate([{opacity:1,transform:"translateY(0)"},{opacity:0,transform:`translateY(${this.element.getBoundingClientRect().y+200}px)`}],this.options).onfinish=()=>{l.has(this.id)&&l.delete(this.id),this.element.remove()}}disconnected(){"hero"===this.role&&this.remove(),this.boundingRect=this.element.getBoundingClientRect(),void 0!==this.id&&(l.set(this.id,this.boundingRect),requestAnimationFrame(()=>{l.has(this.id)&&this.remove()}))}}const d=(0,r.directive)(c),h={id:{text:"MONDO",link:"http://purl.obolibrary.org/obo/"},cui:{text:"MedGen",link:"https://www.ncbi.nlm.nih.gov/medgen/"}};class u extends a.LitElement{static get properties(){return{data:{type:Object,state:!0},hidden:{type:Boolean,attribute:!0},id:{type:String,attribute:!0,reflect:!0},mode:{type:String,state:!0},order:{type:String,state:!0},prevRect:{type:Object,state:!0}}}shouldUpdate(){return"dummy"===this.data.id?this.hidden=!0:this.hidden=!1,!0}constructor(){super(),this.data={},this.hidden=!1,this.mode="",this.order="",this.prevRect={x:0,y:0,width:0,height:0},this._skipKeys=["label","children","parents","leaf","root"],this.cardRef=(0,o.createRef)(),this._leftCoinnector=o.createRef,this.leftConnectorClassName="",this.rightConnectorClassName=""}willUpdate(e){"hero"===this.mode?this.data.leaf?this.leftConnectorClassName="-hero-left":(this.data.root||(this.leftConnectorClassName="-hero-left"),this.rightConnectorClassName="-hero-right"):"children"===this.mode?this.leftConnectorClassName=`-${this.mode}-${this.order}`:"parents"===this.mode&&(this.rightConnectorClassName=`-${this.mode}-${this.order}`),this.prevMode=e.get("mode"),"dummy"===this.data.id&&(this.leftConnectorClassName="",this.rightConnectorClassName="")}updated(){const e={duration:500,easing:"ease-out"};if("hero"===this.mode){let t=[{height:`${this.prevRect?.height||0}px`,overflow:"hidden"},{height:`${this.cardRef?.value.getBoundingClientRect().height||0}px`}];t[0].backgroundColor=this.defaultBgColor,t[1].backgroundColor=this.selectedBgColor,this.cardRef.value.animate(t,e)}}firstUpdated(){this.defaultBgColor=getComputedStyle(this.cardRef.value).getPropertyValue("--default-bg-color"),this.selectedBgColor=getComputedStyle(this.cardRef.value).getPropertyValue("--selected-bg-color")}render(){return a.html`
      <div class="card-container">
        <div class="connector ${this.leftConnectorClassName}"></div>
        <div
          ${(0,o.ref)(this.cardRef)}
          class="ontology-card ${this.hidden?"hidden":""} ${"hero"===this.mode?"selected":""}"
        >
          <div class="ontology-card-header">
            <h3>${this.data?.label||"..."}</h3>
            ${"hero"===this.mode?a.html`
                  <div class="table-container">
                    <table>
                      <tbody>
                        ${Object.keys(this.data).filter(e=>!this._skipKeys.includes(e)).map(e=>a.html`
                              <tr>
                                <td class="key">${h[e].text}:</td>
                                <td class="data">
                                  <a
                                    class="hyper-text -external"
                                    href="${h[e].link}${this.data[e]}"
                                    target="_blank"
                                    >${this.data[e]}</a
                                  >
                                </td>
                              </tr>
                            `)}
                      </tbody>
                    </table>
                  </div>
                `:a.nothing}
          </div>
        </div>
        <div class="connector ${this.rightConnectorClassName}"></div>
      </div>
    `}}u.styles=a.css`
    :host {
      display: block;
      position: relative;
      --connector-line: 1px solid #ccc;
      --selected-bg-color: white;
      --default-bg-color: white;
      --selected-border-color: rgb(17, 127, 147);
    }

    .-hero-right:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-hero-left:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-first:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% - min(50%, 15px) + 5px);
      border-left: var(--connector-line);
      bottom: -6px;
      box-sizing: border-box;
    }

    .-children-first:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-last:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(min(50%, 15px) + 6px);
      border-left: var(--connector-line);
      top: -6px;
      box-sizing: border-box;
    }

    .-children-last:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-top: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-mid:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% + 14px);
      border-left: var(--connector-line);
      top: -6px;
      box-sizing: border-box;
    }

    .-children-mid:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-first:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% - min(50%, 15px) + 5px);
      border-right: var(--connector-line);
      bottom: -6px;
      right: 0;
      box-sizing: border-box;
    }

    .-parents-first:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-last:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(min(50%, 15px) + 6px);
      border-right: var(--connector-line);
      top: -6px;
      right: 0;
      box-sizing: border-box;
    }

    .-parents-last:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-top: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-mid:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 1px;
      height: calc(100% + 14px);
      border-right: var(--connector-line);
      top: -6px;
      right: 0;
      box-sizing: border-box;
    }

    .-parents-mid:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-parents-single:after {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .-children-single:before {
      position: absolute;
      z-index: 9;
      content: '';
      width: 100%;
      height: 1px;
      border-bottom: var(--connector-line);
      top: min(50%, 15px);
      box-sizing: border-box;
    }

    .ontology-card {
      padding: 6px;
      border: 1px solid #ccc;
      border-radius: 8px;
      background-color: #fff;
      cursor: pointer;
      position: relative;
      width: min(80%, 20rem);
      max-width: 30rem;
      box-sizing: border-box;
      margin-bottom: 6px;
    }

    .ontology-card:hover {
      filter: brightness(0.98);
    }

    h3 {
      display: inline-block;
      text-transform: lowercase;
      margin-top: 0;
      margin-bottom: 0;
    }

    h3:first-letter {
      text-transform: uppercase;
    }

    .card-container {
      display: flex;
      flex-direction: row;
      justify-content: center;
    }

    .hyper-text {
      color: var(--color-key-dark3);
      text-decoration: underline;
    }

    .hyper-text:active,
    .hyper-text:hover {
      color: var(--color-key-dark1);
    }

    .connector {
      position: relative;
      flex-grow: 1;
    }

    .selected {
      background-color: var(--selected-bg-color);
      border-color: var(--selected-border-color);
    }

    .hidden {
      visibility: hidden;
    }

    .table-container {
      max-height: 10rem;
      margin-top: 0.3em;
      overflow-y: auto;
    }
  `,customElements.define("ontology-card",u);class g extends a.LitElement{static get properties(){return{nodes:{type:Array,state:!0},role:{type:String,state:!0},heroId:{type:String,state:!0},scrolledHeroRect:{type:Object,state:!0},animationOptions:{type:Object,state:!0}}}constructor(){super(),this.nodes=[],this.heroId=void 0,this.role="",this.scrolledHeroRect=null,this.animationOptions={}}_handleClick(e){"ONTOLOGY-CARD"===e.target.tagName&&this.dispatchEvent(new CustomEvent("column-click",{detail:{id:e.target.id,role:this.role,rect:e.target.getBoundingClientRect()},bubbles:!0,composed:!0}))}render(){return a.html`
      <div
        class="column"
        @click="${"dummy"===this.nodes[0].id?null:this._handleClick}"
      >
        ${this.nodes.length?a.html`
              ${(0,s.u)(this.nodes,e=>e.id,(e,t)=>a.html`<ontology-card
                    key="${e.id}"
                    id="${e.id}"
                    .data=${e}
                    .mode=${this.role}
                    .prevRect=${this.scrolledHeroRect}
                    .order=${1===this.nodes.length?"single":0===t?"first":t===this.nodes.length-1?"last":"mid"}
                    ${d({id:e.id,heroId:this.heroId,role:this.role,scrolledHeroRect:this.scrolledHeroRect,options:this.animationOptions})}
                  />`)}
            `:a.nothing}
      </div>
    `}}g.styles=a.css`
    :host {
      flex-grow: 1;
      flex-basis: 0;
      display: block;
      position: relative;
    }

    .column {
      height: 100%;

      position: relative;
      overflow-y: auto;
      overflow-x: hidden;
    }

    ontology-card:last-child {
      margin-bottom: 10px;
    }
  `,customElements.define("ontology-column",g);var p=i(582),f=i(216);class b extends a.LitElement{constructor(){super(),this.flexRef=(0,o.createRef)(),this.clipRef=(0,o.createRef)(),this.nodeRef=(0,o.createRef)(),this.movement="",this.flexWidth=0,this.deltaWidth=0,this.nodeWidth=0,this.gap=0,this.animate=null,this.scrolledRect=null,this.API=new p.cachedAxios(`${f.API_URL}/api/inspect`),this.dataColumns={_parents:[],parents:[],hero:[],children:[],_children:[]},this.animationOptions={duration:500,easing:"ease-in-out"},this._id="",this._columns=["parents","hero","children"],this.data={}}static get properties(){return{data:{type:Object,state:!0},_id:{type:String,attribute:"id"},_columns:{type:Array,state:!0}}}set _id(e){this.data?.id!==e&&(this._loadingStarted(),this.API.get(`/disease?node=${e}`).then(({data:e})=>{this.data=e,this._loadingEnded()}))}willUpdate(e){if(e.has("data")&&e.get("data")&&this.data.id&&e.get("data").id!==this.data.id){if(this.dataColumns._parents=e.get("data")?.parents||[{id:"dummy",label:"dummy"}],this.dataColumns._children=e.get("data")?.children||[{id:"dummy",label:"dummy"}],4===this._columns.length){let e;e=this._columns.includes("_parents")?"left":this._columns.includes("_children")?"right":"","left"===e?this.dataColumns.hero=this.dataColumns._children:"right"===e&&(this.dataColumns.hero=this.dataColumns._parents)}else this.dataColumns.hero=[this.data];this.dataColumns.parents=this.data?.parents||[],this.dataColumns.children=this.data?.children||[]}e.has("_columns")&&(this.nodeWidth=this.nodeRef.value?.getBoundingClientRect().width-(this.nodeRef.value?.getBoundingClientRect().right-this.clipRef.value?.getBoundingClientRect().right)||0,this.gap=(this.clipRef.value?.getBoundingClientRect().width-3*this.nodeWidth)/2,this.flexWidth=4===this._columns.length?this.nodeWidth*this._columns.length+(this._columns.length-1)*this.gap+"px":"100%",this.deltaWidth=this.nodeWidth+this.gap)}firstUpdated(){this.API.get(`/disease?node=${this._id}`).then(({data:e})=>{this.data=e})}_loadingStarted(){this.dispatchEvent(new CustomEvent("loading-started",{bubbles:!0,composed:!0}))}_loadingEnded(){this.data.id&&this.dispatchEvent(new CustomEvent("disease-selected",{detail:{id:this.data.id,label:this.data.label[0].toUpperCase()+this.data.label.slice(1)},bubbles:!0,composed:!0})),this.dispatchEvent(new CustomEvent("loading-ended",{bubbles:!0,composed:!0}))}_handleClick(e){"parents"!==e.target?.role&&"children"!==e.target?.role||(this.scrolledRect=e.detail?.rect||null,this._loadingStarted(),this.API.get(`/disease?node=${e.detail.id}`).then(({data:t})=>{this.data=t,this._loadingEnded(),this.updateComplete.then(()=>{"children"===e.detail.role?(this.movement="left",this._columns=["_parents","parents","hero","children"]):"parents"===e.detail.role&&(this.movement="right",this._columns=["parents","hero","children","_children"])})}))}updated(){"left"===this.movement?this.animate=this.flexRef.value.animate([{transform:"translateX(0)"},{transform:`translateX(${-this.deltaWidth}px)`}],this.animationOptions):"right"===this.movement&&(this.animate=this.flexRef.value.animate([{transform:`translateX(${-this.deltaWidth}px)`},{transform:"translateX(0)"}],this.animationOptions)),this.animate&&(this.animate.onfinish=()=>{this.movement="",this._columns=["parents","hero","children"],this.animate=null})}render(){return a.html`
      <div class="clip" ${(0,o.ref)(this.clipRef)}>
        <div
          class="flex"
          @column-click="${this._handleClick}"
          style="width: ${this.flexWidth}"
          ${(0,o.ref)(this.flexRef)}
        >
          ${(0,s.u)(this._columns,e=>e,e=>a.html`
                <ontology-column
                  .role="${e}"
                  .nodes="${this.dataColumns[e].length?this.dataColumns[e]:[{id:"dummy",label:"dummy"}]}"
                  ${(0,o.ref)(this.nodeRef)}
                  .heroId="${"hero"===e?this.data.id:void 0}"
                  .scrolledHeroRect="${this.scrolledRect}"
                  .animationOptions="${this.animationOptions}"
                ></ontology-column>
              `)}
        </div>
      </div>
    `}}b.styles=a.css`
    :host {
      font-size: 10px;
      display: block;
      height: 100%;
      position: relative;
    }

    .clip {
      height: 200px;
      overflow: hidden;
      position: relative;
    }

    .flex {
      height: 100%;
      display: flex;
      flex-direction: row;
    }
  `,customElements.define("condition-disease-ontology-view",b);i(3612);const m=`${f.API_URL}/api/search/disease`;class _ extends a.LitElement{static get properties(){return{diseaseId:{type:String,reflect:!0},data:{state:!0},loading:{type:Boolean,state:!0}}}constructor(e){super(),this._timer=null,e.appendChild(this),this.valuesContainerEl=e.parentElement.querySelector(":scope > .summary > .values"),this.data=[],this.diseaseId="MONDO_0000001",this.loading=!1}_changeDiseaseEventHadnler(e){e.stopPropagation(),this.diseaseId=e.detail.id,this.dispatchEvent(new CustomEvent("disease-selected",{detail:{id:e.detail.id,label:e.detail.label},bubbles:!0,composed:!0}))}_loadingStartedHandler(e){e.stopPropagation(),this._timer=setTimeout(()=>{this.loading=!0},200)}_loadingEndedHandler(e){e.stopPropagation(),this.loading=!1,this._timer&&(clearInterval(this._timer),this._timer=null)}connectedCallback(){super.connectedCallback(),this.setAttribute("id","ConditionDiseaseSearch")}render(){return a.html`
      <search-field-with-suggestions
        .suggestAPIURL=${m}
        .suggestAPIQueryParam="${"term"}"
        .options="${{valueMappings:{valueKey:"id",labelKey:"label"}}}"
        .placeholder=${"Breast-ovarian cancer, familial 2"}
        @new-suggestion-selected="${this._changeDiseaseEventHadnler}"
      ></search-field-with-suggestions>

      <div class="container">
        ${this.loading?a.html`<div class="loading">
              <span></span>
            </div>`:a.nothing}

        <condition-disease-ontology-view
          ._id="${this.diseaseId}"
          @disease-selected="${this._changeDiseaseEventHadnler}"
          @loading-started="${this._loadingStartedHandler}"
          @loading-ended="${this._loadingEndedHandler}"
        ></condition-disease-ontology-view>
      </div>
    `}createRenderRoot(){return this}}customElements.define("condition-disease-search",_)},4516:function(e,t,i){"use strict";i.r(t),i.d(t,{LogarithmizedBlockGraphFrequencyView:function(){return n}});var a=i(6337);class n extends a.LitElement{constructor(){super(),this.dataset,this.alleleCount,this.total,this.frequencyValue,this.alternateAlleleCount}render(){return a.html`
      <span class="blocks">
        ${Array.from({length:6}).map(()=>a.html`<span class="block"></span>`)}
      </span>
    `}firstUpdated(){}set frequency(e){this.dataset.alleleCount=e?.ac,e?.aac&&(this.dataset.alternateAlleleCount=e.aac);let t="na";if(e)switch(this.alleleCount=e.ac,this.total=e.an,this.frequencyValue=e.af,!0){case e.af>=.5:t="≥0.5";break;case e.af>.05:t="<0.5";break;case e.af>.01:t="<0.05";break;case e.af>.001:t="<0.01";break;case e.af>1e-4:t="<0.001";break;case e.af>0:t="<0.0001";break;default:t="monomorphic"}this.dataset.logarithmizedFrequency=t}}n.styles=a.css`
    :host {
      --color-dataset: var(--color-dataset-foreign);
      position: relative;
      margin-right: 1px;
      border-style: solid;
      border-width: 1px;
      display: inline-block;
      width: ${9}px;
      height: ${21}px;
      vertical-align: middle;
      font-size: 0;
      background-color: white;
    }
    :host([data-dataset='gem_j_wga']) {
      --color-dataset: var(--color-dataset-gemj);
    }
    :host([data-dataset^='jga_']) {
      --color-dataset: var(--color-dataset-jga);
    }
    :host([data-dataset='tommo']) {
      --color-dataset: var(--color-dataset-tommo);
    }
    :host([data-dataset='hgvd']) {
      --color-dataset: var(--color-dataset-hgvd);
    }
    :host([data-dataset='ncbn']) {
      --color-dataset: var(--color-dataset-ncbn);
    }
    :host([data-dataset='bbj']) {
      --color-dataset: var(--color-dataset-bbj);
    }
    :host {
      border-color: var(--color-dataset);
    }
    :host > .blocks {
      position: absolute;
      left: 1px;
      bottom: 1px;
      width: ${5}px;
      display: block;
    }
    :host > .blocks > .block {
      position: absolute;
      display: none;
      width: ${5}px;
      height: ${2}px;
      background-color: var(--color-dataset);
    }
    :host > .blocks > .block:nth-child(1) {
      bottom: 0;
    }
    :host > .blocks > .block:nth-child(2) {
      bottom: ${3}px;
    }
    :host > .blocks > .block:nth-child(3) {
      bottom: ${6}px;
    }
    :host > .blocks > .block:nth-child(4) {
      bottom: ${9}px;
    }
    :host > .blocks > .block:nth-child(5) {
      bottom: ${12}px;
    }
    :host > .blocks > .block:nth-child(6) {
      bottom: ${15}px;
    }
    :host([data-logarithmized-frequency='<0.0001'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.001'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.001'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.01'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.01'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.01'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='<0.05'])
      > .blocks
      > .block:nth-child(4),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(4),
    :host([data-logarithmized-frequency='<0.5'])
      > .blocks
      > .block:nth-child(5),
    :host([data-logarithmized-frequency='≥0.5'])
      > .blocks
      > .block:nth-child(1),
    :host([data-logarithmized-frequency='≥0.5'])
      > .blocks
      > .block:nth-child(2),
    :host([data-logarithmized-frequency='≥0.5'])
      > .blocks
      > .block:nth-child(3),
    :host([data-logarithmized-frequency='≥0.5'])
      > .blocks
      > .block:nth-child(4),
    :host([data-logarithmized-frequency='≥0.5'])
      > .blocks
      > .block:nth-child(5),
    :host([data-logarithmized-frequency='≥0.5'])
      > .blocks
      > .block:nth-child(6) {
      display: block;
    }
    :host([data-logarithmized-frequency='na']) {
      border-color: #d4d3d1;
      background-color: #f4f4f4;
    }
    :host([data-allele-count='1']) {
      background-color: var(--color-singleton);
    }
    :host([data-alternate-allele-count]) > .blocks::before {
      content: 'H';
      position: absolute;
      top: -24px;
      right: -5px;
      background-color: var(--color-homozygote);
      color: white;
      font-size: 8px;
      font-weight: bold;
      width: 9px;
      height: 9px;
      text-align: center;
      line-height: 9px;
      z-index: 10;
    }
  `,customElements.define("logarithmized-block-graph-frequency-view",n)},9524:function(){const e=document.createElement("template"),t=document.createElement("div");t.className="match",t.part="match",t.innerHTML='\n<label part="match label">\n  <input class="all" name="match" type="radio" value="all">\n  for all datasets\n</label>\n<label part="label">\n  <input class="any" checked="checked" name="match" type="radio" value="any">\n  for any dataset\n</label>\n',e.innerHTML='\n<style data="slider-style">\ninput[type="range"]::-webkit-slider-runnable-track {\n    -webkit-appearance: none;\n    height: 8px;\n}\n\n.-vertical {\n  transform: rotate(-90deg);\n}\n\ninput[type="range"]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    height: 1em;\n    width: 3px;\n    background-color: transparent;\n    border-top: solid 1px rgba(0, 0, 0, 0.5);\n    border-bottom: solid 1px rgba(0, 0, 0, 0.5);\n    cursor: col-resize;\n    pointer-events: auto;\n    margin-top: -0.2em;\n}\n</style>\n<style data="slider-track-style"></style>\n<div class="wrapper" part="wrapper">\n\n    <div class="input" part="div-input">\n        <input class="from"  part="num-input" type="number" part="limit-input" title="Lower limit">\n    ~\n        <input class="to"  part="num-input" type="number" part="limit-input" title="Upper limit">\n        <label part="checkbox-label label">\n            <input class="invert" type="checkbox" part="checkbox">Invert range\n        </label>\n    </div>\n    <div class="meter" part="meter">\n      <div class="meter-container" part="meter-container">\n        <div class="slider-track" id="slider-track" part="slider-track">\n          <div class="ruler" part="ruler"></div>\n        </div>\n        <input\n            part = "slider"\n            type="range"\n            name="slider-1"\n            id="slider-1"\n        />\n        <input\n            part = "slider"\n            type="range"\n            name="slider-2"\n            id="slider-2"\n        />\n      </div>\n    </div>\n</div>\n\n';class i extends HTMLElement{static get observedAttributes(){return["min","max","input-step","slider-step","value1","value2","orientation","invert","match","ruler-number-of-steps"]}constructor(){super(),this._slider1Input=e=>{this.state.from=e.target.value},this._slider2Input=e=>{this.state.to=e.target.value},this._toChange=e=>{this.state.to=e.target.value},this._fromChange=e=>{this.state.from=e.target.value},this._invertChange=e=>{this.state.invert=e.target.checked};this.state={from:0,to:1,invert:"0",min:0,max:1,"input-step":.05,"slider-step":.01,match:"any",rulerNumberOfSteps:10},this.root=this.getRootNode(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e.content.cloneNode(!0)),this.slider1=this.shadowRoot.querySelector("#slider-1"),this.slider2=this.shadowRoot.querySelector("#slider-2"),this.sliderTrack=this.shadowRoot.querySelector("#slider-track"),this.from=this.shadowRoot.querySelector(".from"),this.to=this.shadowRoot.querySelector(".to"),this.invertChk=this.shadowRoot.querySelector(".invert"),this._meter=this.shadowRoot.querySelector(".meter")}attributeChangedCallback(e,t,i){switch(e){case"min":this.slider1.min=i,this.slider2.min=i,this.from.min=i,this.to.min=i;break;case"max":this.slider1.max=i,this.slider2.max=i,this.from.max=i,this.to.max=i;break;case"slider-step":this.slider1.step=i,this.slider2.step=i;break;case"input-step":this.from.step=i,this.to.step=i;break;case"value1":this.slider1.value=parseFloat(i).toFixed(3);break;case"value2":this.slider2.value=parseFloat(i).toFixed(3);break;case"invert":this.invertChk.checked="true"===i;break;case"ruler-number-of-steps":this.state.rulerNumberOfSteps=i,this._reRenderRuler();break;case"match":this.match=i;break;case"orientation":"vertical"===i?this._meter.classList.add("-vertical"):this._meter.classList.remove("-vertical"),this._reRenderRuler()}this._fillSlider()}_reRenderRuler(){const e=this.shadowRoot.querySelector(".ruler");e.innerHTML="";const t=parseInt(this.state.rulerNumberOfSteps),i=parseFloat(this.state.min),a=(parseFloat(this.state.max)-i)/t;for(let n=0;n<=t;n++){const o=document.createElement("div");o.className="scale",o.part="scale",o.part.add(`scale-${this.orientation}`),o.innerText=(i+n*a).toFixed(1),o.style.left=`calc(${100*n/t}% - 0.5em`,e.appendChild(o)}}_fillSlider(){const e=Math.min(this.slider1.value,this.slider2.value),t=Math.max(this.slider1.value,this.slider2.value),i=100*e/(this.max-this.min),a=100*t/(this.max-this.min);"1"!==this.state.invert?this.sliderTrack.style.background=`linear-gradient(90deg, var(--color-light-gray) 0%, var(--color-light-gray) ${i}% , var(--color-key-dark1) ${i}%,   var(--color-key-dark1) ${a}%, var(--color-light-gray) ${a}%,  var(--color-light-gray) 100% )`:this.sliderTrack.style.background=`linear-gradient(90deg, var(--color-key-dark1) 0%, var(--color-key-dark1) ${i}%, var(--color-light-gray) ${i}%,  var(--color-light-gray) ${a}%, var(--color-key-dark1) ${a}%,  var(--color-key-dark1) 100% )`,this._drawThumbs()}_drawThumbs(){+this.slider1.value<+this.slider2.value?this.shadowRoot.querySelector("style[data='slider-track-style']").innerHTML="#slider-1::-webkit-slider-thumb {\n            border-right: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(-1.5px);\n        }\n        #slider-2::-webkit-slider-thumb {\n            border-left: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(1.5px)\n        }\n        ":this.shadowRoot.querySelector("style[data='slider-track-style']").innerHTML="#slider-2::-webkit-slider-thumb {\n            border-right: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(-1.5px);\n        }\n        #slider-1::-webkit-slider-thumb {\n            border-left: 1px solid rgba(0, 0, 0, 0.5);\n            transform: translateX(1.5px)\n        }\n        "}get min(){return this.getAttribute("min")}get max(){return this.getAttribute("max")}get step(){return this.getAttribute("step")}get value1(){return this.getAttribute("value1")}get value2(){return this.getAttribute("value2")}get orientation(){return this.getAttribute("orientation")}get invert(){return"true"===this.getAttribute("invert")}get rulerNumberOfSteps(){return this.getAttribute("ruler-number-of-steps")}set min(e){this.setAttribute("min",e)}set max(e){this.setAttribute("max",e)}set sliderStep(e){this.setAttribute("slider-step",e)}set inputStep(e){this.setAttribute("input-step",e)}set value1(e){this.setAttribute("value1",e)}set value2(e){this.setAttribute("value2",e)}set orientation(e){this.setAttribute("orientation",e)}set rulerNumberOfSteps(e){this.setAttribute("ruler-number-of-steps",e)}set searchType(e){if("simple"===e){this.shadowRoot.querySelector(".wrapper").appendChild(t);this.shadowRoot.querySelector(".match").addEventListener("click",e=>{"INPUT"===e.target.tagName&&(this.match=e.target.value,this.state.match=e.target.value,this._fireEvent(this.state))})}}set invert(e){this.setAttribute("invert",e)}_fireEvent(e){const t=["from","to","match","invert"],i=Object.fromEntries(Object.entries(e).filter(e=>t.includes(e[0]))),a=new CustomEvent("range-changed",{bubbles:!0,detail:i});this.dispatchEvent(a)}connectedCallback(){this.min=this.getAttribute("min")||0,this.max=this.getAttribute("max")||1,this.value1=this.getAttribute("value1")||0,this.value2=this.getAttribute("value2")||1,this.orientation=this.getAttribute("orientation")||"horizontal",this.match=this.getAttribute("simple-search")||"any",this.state=new Proxy(this.state,{set:(e,t,i,a)=>{if("from"===t||"to"===t){if(isNaN(parseFloat(i)))return!0;const a=parseFloat(i);return a>1||a<0?(a>1&&(e.to=1),a<0&&(e.from=0)):"from"===t?a>e.to?e.to=a:e.from=a:a<e.from?e.from=a:e.to=a,this._getToFromFromState.call(this),this._fireEvent(e),!0}return"invert"===t?(e[t]="boolean"==typeof i?i?"1":"0":i,this._getToFromFromState.call(this),this._fireEvent(e),!0):(this._getToFromFromState.call(this),Reflect.set(e,t,i,a))}}),this.state.min=this.min,this.state.max=this.max,this.state.step=this.getAttribute("step")||.01,this.state.from=Math.min(+this.value1,+this.value2),this.state.to=Math.max(+this.value1,+this.value2),this.state.invert="true"===this.getAttribute("invert"),this.state.match=this.match,this.rulerNumberOfSteps=10,this.slider1.addEventListener("input",this._slider1Input),this.slider2.addEventListener("input",this._slider2Input),this.from.addEventListener("change",this._fromChange),this.to.addEventListener("change",this._toChange),this.invertChk.addEventListener("change",this._invertChange),this.from.value=this._formatInputValue(this.state.from),this.to.value=this._formatInputValue(this.state.to),this._fillSlider(),this._reRenderRuler()}_getToFromFromState(){this.slider1.value=Math.min(this.state.from,this.state.to),this.slider2.value=Math.max(this.state.to,this.state.to),this.from.value=this._formatInputValue(this.state.from),this.to.value=this._formatInputValue(this.state.to),this._fillSlider.call(this)}_formatInputValue(e){const t=parseFloat(e);if(isNaN(t))return e;const i=t.toString(),a=i.indexOf("."),n=-1===a?0:i.length-a-1,o=Math.max(1,n);return t.toFixed(o)}disconnectedCallback(){this.slider1.removeEventListener("input",this._slider1Input),this.slider2.removeEventListener("input",this._slider2Input),this.from.removeEventListener("change",this._fromChange),this.to.removeEventListener("cnahge",this._toChange),this.invertChk.removeEventListener("change",this._invertChange)}}customElements.define("range-slider",i)},8756:function(e,t,i){"use strict";i.r(t),i.d(t,{initHome:function(){return oe}});var a=i(5833),n=i(9890),o=i(3522);class s{constructor(e){this._elm=e,this._body=document.getElementsByTagName("body")[0],a.storeManager.bind("selectedRow",this);const t=this._elm.offsetWidth-this._elm.clientWidth;this._elm.style.width=`${this._elm.offsetWidth+t}px`,this._elm.style.marginRight=`-${t}px`,this._setupResetButton()}_setupResetButton(){this._elm.querySelector("#Filters > .title > .button-view").addEventListener("click",()=>{(0,o.resetSimpleSearchConditions)()})}selectedRow(e){void 0===e?this._body.classList.remove("-rowselected"):this._body.classList.add("-rowselected")}}var r=i(216);class l{constructor(e){if(this.elm=e,this.bg=e.querySelector(".bg"),"home"===r.PAGE)this.initHome()}typeEscape(e){"Escape"===e.key&&this.close()}open(){this.elm.classList.add("-shown"),a.storeManager.setData("showModal",!0),document.addEventListener("keyup",this.typeEscape.bind(this))}close(){this.elm.classList.remove("-shown"),a.storeManager.setData("showModal",!1),document.removeEventListener("keyup",this.typeEscape.bind(this))}initHome(){a.storeManager.bind("columns",this),document.querySelector("#GlobalHeader > .right > nav.menus-view > .menu-wrapper > .config > .config").addEventListener("click",()=>{this.open()}),this.bg.addEventListener("click",()=>{this.close()});const e=[{constant:r.COLUMNS,storeKey:"columns",container:document.getElementById("ConfSortColumns")}];for(const t of e){let e=localStorage.getItem(t.storeKey);e=e?JSON.parse(e):t.constant.map(e=>{const t=Object.assign({},e);return t.isUsed="type"!==t.id,t}),t.container.innerHTML=e.map(e=>`<li><label><input type="checkbox" value="${e.id}"${e.isUsed?" checked":""}>${e.label}</label></li>`).join(""),t.container.querySelectorAll("li > label > input").forEach(e=>{e.addEventListener("change",e=>{const i=a.storeManager.getData(t.storeKey);i.find(t=>t.id===e.target.value).isUsed=e.target.checked,a.storeManager.setData(t.storeKey,i)})}),a.storeManager.setData(t.storeKey,e)}}columns(e){for(const t of e)this.elm.querySelector(`#ConfSortColumns > li > label > input[value="${t.id}"]`).checked=t.isUsed;localStorage.setItem("columns",JSON.stringify(e))}}class c{constructor(e,t,i,n){this._no=t,this._map=i,this._elm=e,this._elm.innerHTML=`\n      <div class="upper">\n        <p class="no">${this._no}</p>\n      </div>\n      <div class="lower">\n        <div class="selectedregion"></div>\n        <div class="filteredregion"></div>\n        <svg class="chromosome"></svg>\n        <div class="displayregion"></div>\n      </div>\n    `,this._filteredRegion=this._elm.querySelector(".lower > .filteredregion"),this._displayRegion=this._elm.querySelector(".lower > .displayregion"),this._selectedRegion=this._elm.querySelector(".lower > .selectedregion");const o=i.reduce((e,t)=>0===e.length||e[e.length-1].band!==t.band?(e.push({band:t.band,start:t.start,end:t.end}),e):(e[e.length-1].end=t.end,e),[]);this._length=i[i.length-1].end,this._svg=this._elm.querySelector("svg.chromosome");const s=(e.offsetHeight-e.querySelector(".upper").offsetHeight-10)*(this._length/n),r=s/this._length;this._svg.style.height=`${s+10}px`;let l='\n      <defs>\n        <lineargradient id="chromosome-gneg">\n          <stop offset="0" stop-color="#A6A6A6"/>\n          <stop offset="0.33" stop-color="#FFFFFF"/>\n          <stop offset="0.67" stop-color="#FFFFFF"/>\n          <stop offset="1" stop-color="#A6A6A6"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos25">\n          <stop offset="0" stop-color="#B39BB3"/>\n          <stop offset="0.33" stop-color="#EDCEED"/>\n          <stop offset="0.67" stop-color="#EDCEED"/>\n          <stop offset="1" stop-color="#B39BB3"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos50">\n          <stop offset="0" stop-color="#AB78AB"/>\n          <stop offset="0.33" stop-color="#DA9CDA"/>\n          <stop offset="0.67" stop-color="#DA9CDA"/>\n          <stop offset="1" stop-color="#AB78AB"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos75">\n          <stop offset="0" stop-color="#9C539C"/>\n          <stop offset="0.33" stop-color="#C86BC8"/>\n          <stop offset="0.67" stop-color="#C86BC8"/>\n          <stop offset="1" stop-color="#9C539C"/>\n        </lineargradient>\n        <lineargradient id="chromosome-gpos100">\n          <stop offset="0" stop-color="#8F2B8F"/>\n          <stop offset="0.33" stop-color="#B53AB5"/>\n          <stop offset="0.67" stop-color="#B53AB5"/>\n          <stop offset="1" stop-color="#8F2B8F"/>\n        </lineargradient>\n        <lineargradient id="chromosome-stalk">\n          <stop offset="0" stop-color="#6e6e6e"/>\n          <stop offset="0.33" stop-color="#8F8F8F"/>\n          <stop offset="0.67" stop-color="#8F8F8F"/>\n          <stop offset="1" stop-color="#6e6e6e"/>\n        </lineargradient>\n        <lineargradient id="chromosome-acen">\n          <stop offset="0" stop-color="#383838"/>\n          <stop offset="0.33" stop-color="#444444"/>\n          <stop offset="0.67" stop-color="#444444"/>\n          <stop offset="1" stop-color="#383838"/>\n        </lineargradient>\n      </defs>\n    ';for(const e of this._map)l+=`\n      <g\n        class="subband"\n        data-band="${e.band}"\n        data-sub-band="${e.subBand}"\n        data-start="${e.start}"\n        data-end="${e.end}"\n        >\n        <title>${e.subBand}</title>\n        <rect\n          class="subbandrect ${e.stainType}"\n          x="0"\n          y="${Math.floor(5+e.start*r)}"\n          height="${Math.ceil((e.end-e.start)*r)}"\n          width="12"\n        />\n      </g>`;for(const e of o)l+=`\n      <g\n        class="band"\n        data-band="${e.band}"\n        data-start="${e.start}"\n        data-end="${e.end}"\n        transform="translate(16.5, ${5+e.start*r-.5})"\n        >\n        <text x="8" y="${(e.end-e.start)*r*.5+3}" class="bandtext">${e.band}</text>\n        <path d="M0,1 V${(e.end-e.start)*r-1} M0,${Math.round((e.end-e.start)*r*.5)} H8" class="line" />\n      </g>\n      `;this._svg.innerHTML=l+"</g>",a.storeManager.bind("displayingRegionsOnChromosome",this),this._elm.querySelector(":scope > .upper > .no").addEventListener("click",()=>{this._selectBand(this._no,1,this._length)}),this._subbands=Array.from(this._svg.querySelectorAll("g.subband")),this._subbands.forEach(e=>{e.addEventListener("click",()=>{this._selectBand(this._no,e.dataset.start,e.dataset.end)})}),this._bands=this._svg.querySelectorAll("g.band"),this._bands.forEach(e=>{if(e.dataset.start){const[t,i]=[+e.dataset.start,+e.dataset.end],a=this._subbands.filter(e=>t<=+e.dataset.start&&+e.dataset.end<=i);e.addEventListener("click",()=>{this._selectBand(this._no,e.dataset.start,e.dataset.end)}),e.addEventListener("mouseenter",()=>{a.forEach(e=>e.classList.add("-hover"))}),e.addEventListener("mouseleave",()=>{a.forEach(e=>e.classList.remove("-hover"))})}}),this._svg.querySelector}_selectBand(e,t,i){switch(a.storeManager.getData("searchMode")){case"simple":(0,o.setSimpleSearchCondition)("term",`${e}:${t}-${i}`);break;case"advanced":{const a=document.getElementById("AdvancedSearchBuilderView")?.querySelector(':scope > .inner > .advanced-search-condition-group-view.-root > .advanced-search-toolbar > ul > li > ul > li[data-condition="location"]');a&&a.dispatchEvent(new CustomEvent("click",{detail:{chr:e,start:t,end:i},bubbles:!0,cancelable:!0}));break}}}displayingRegionsOnChromosome(e){if(e[this._no]){this._displayRegion.classList.add("-shown");const t=e[this._no],i=(this._svg.clientHeight-10)/this._length,a=t.end-t.start;this._displayRegion.style.top=`${Math.floor(5+t.start*i)}px`,this._displayRegion.style.height=`${Math.ceil(a*i)}px`}else this._displayRegion.classList.remove("-shown")}updateSelectedPositions(e){this._subbands.forEach(t=>{const[i,a]=[+t.dataset.start,+t.dataset.end];let n=0;e.forEach(e=>{n+=this._intersection(e,[i,a])}),n>0?t.classList.add("-selected"):t.classList.remove("-selected")}),this._bands.forEach(t=>{const[i,a]=[+t.dataset.start,+t.dataset.end];let n=0;e.forEach(e=>{n+=this._intersection(e,[i,a])}),n>0?t.classList.add("-selected"):t.classList.remove("-selected")})}_intersection(e,t){return e[0]<=t[1]&&t[1]<=e[1]}get no(){return this._no}}const d=["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","X","Y","MT"],h=[0,400],u={isOpened:!1,isShowBand:!0,height:h[0],reference:"GRCh37",version:1,chromosomes:{1:{selected:!0,region:{GRCh37:[1,249250621],GRCh38:[1,248956422]}},2:{selected:!0,region:{GRCh37:[1,243199373],GRCh38:[1,242193529]}},3:{selected:!0,region:{GRCh37:[1,198022430],GRCh38:[1,198295559]}},4:{selected:!0,region:{GRCh37:[1,191154276],GRCh38:[1,190214555]}},5:{selected:!0,region:{GRCh37:[1,180915260],GRCh38:[1,181538259]}},6:{selected:!0,region:{GRCh37:[1,171115067],GRCh38:[1,170805979]}},7:{selected:!0,region:{GRCh37:[1,159138663],GRCh38:[1,159345973]}},8:{selected:!0,region:{GRCh37:[1,146364022],GRCh38:[1,145138636]}},9:{selected:!0,region:{GRCh37:[1,141213431],GRCh38:[1,138394717]}},10:{selected:!0,region:{GRCh37:[1,135534747],GRCh38:[1,133797422]}},11:{selected:!0,region:{GRCh37:[1,135006516],GRCh38:[1,135086622]}},12:{selected:!0,region:{GRCh37:[1,133851895],GRCh38:[1,133275309]}},13:{selected:!0,region:{GRCh37:[1,115169878],GRCh38:[1,114364328]}},14:{selected:!0,region:{GRCh37:[1,107349540],GRCh38:[1,107043718]}},15:{selected:!0,region:{GRCh37:[1,102531392],GRCh38:[1,101991189]}},16:{selected:!0,region:{GRCh37:[1,90354753],GRCh38:[1,90338345]}},17:{selected:!0,region:{GRCh37:[1,81195210],GRCh38:[1,83257441]}},18:{selected:!0,region:{GRCh37:[1,78077248],GRCh38:[1,80373285]}},19:{selected:!0,region:{GRCh37:[1,59128983],GRCh38:[1,58617616]}},20:{selected:!0,region:{GRCh37:[1,63025520],GRCh38:[1,64444167]}},21:{selected:!0,region:{GRCh37:[1,48129895],GRCh38:[1,46709983]}},22:{selected:!0,region:{GRCh37:[1,51304566],GRCh38:[1,50818468]}},X:{selected:!0,region:{GRCh37:[1,155270560],GRCh38:[1,156040895]}},Y:{selected:!0,region:{GRCh37:[1,59373566],GRCh38:[1,57227415]}},MT:{selected:!0,region:{GRCh37:[1,16569],GRCh38:[1,16569]}}}},g=new RegExp(/([1-9]|1\d|2[0-2]|X|Y|MT):(\d+)-?(\d+)?/);let p=JSON.parse(localStorage.getItem("karyotype"));p&&p.version===u.version||(p=u);class f{constructor(e){this.elm=e,this.isReady=!1,this.chromosomes=this.elm.querySelector(".content > .chromosomes"),this.chromosomeViews,a.storeManager.setData("karyotype",p),a.storeManager.bind("karyotype",this),a.storeManager.bind("simpleSearchConditions",this),a.storeManager.bind("advancedSearchConditions",this),this.elm.querySelector(".header").addEventListener("click",()=>{const e=a.storeManager.getData("karyotype");return this._changeKaryotype({isOpened:!e.isOpened,height:e.isOpened?h[0]:h[1]}),!1});const t=this.elm.querySelectorAll("#KariotypeSwitchBandVisibility > .button");t.forEach(e=>{e.addEventListener("click",e=>{this._changeKaryotype({isShowBand:"show"===e.target.dataset.value})})}),this._bandShowButton=Array.from(t).filter(e=>"show"===e.dataset.value)[0],this._bandHideButton=Array.from(t).filter(e=>"hide"===e.dataset.value)[0],async function(e){return(await i(550)(`./${e}/karyotype.tsv`)).default||[]}(p.reference).then(e=>{this.geneMap=this.parseGeneMap(e),this.maxLength=Math.max(...this.geneMap.map(e=>e[e.length-1].end)),this._drawChromosome(this.geneMap),this.isReady=!0,this._pendingSimpleSearchConditions&&(this.simpleSearchConditions(this._pendingSimpleSearchConditions),this._pendingSimpleSearchConditions=null),this._pendingAdvancedSearchConditions&&(this.advancedSearchConditions(this._pendingAdvancedSearchConditions),this._pendingAdvancedSearchConditions=null)}),this.karyotype(a.storeManager.getData("karyotype"))}parseGeneMap(e){const t=[];for(const i of d){const a=e.filter(e=>e[0]===`chr${i}`);t.push(a.map(e=>({start:parseInt(e[1]),end:parseInt(e[2]),band:e[3].split(".")[0],subBand:e[3],stainType:e[4]})))}return t}_drawChromosome(e){this.chromosomeViews=[],this.chromosomes.innerHTML=d.map(e=>`<div id="chromosome${e}" class="chromosome-view"></div>`).join("");for(let t=0;t<e.length;t++)this.chromosomeViews.push(new c(this.chromosomes.querySelector(`#chromosome${d[t]}`),d[t],e[t],this.maxLength))}_changeKaryotype(e){const t=a.storeManager.getData("karyotype");for(const i in e)t[i]=e[i];a.storeManager.setData("karyotype",t),localStorage.setItem("karyotype",JSON.stringify(t))}karyotype(e){e.isOpened?document.getElementsByTagName("body")[0].classList.add("-drawer-opened"):document.getElementsByTagName("body")[0].classList.remove("-drawer-opened"),e.isShowBand?(this.elm.classList.add("-show-band-label"),this._bandShowButton.classList.add("-current"),this._bandHideButton.classList.remove("-current")):(this.elm.classList.remove("-show-band-label"),this._bandShowButton.classList.remove("-current"),this._bandHideButton.classList.add("-current"))}simpleSearchConditions(e){if(!this.chromosomeViews)return void(this._pendingSimpleSearchConditions=e);const t=g.exec(e.term);if(t){const e={chromosome:t[1]};if(t[3]){if(+t[2]>+t[3])return;e.position={gte:+t[2],lte:+t[3]}}else e.position=+t[2];this._updateLocations([e])}else this._updateLocations([])}advancedSearchConditions(e){if(!this.chromosomeViews)return void(this._pendingAdvancedSearchConditions=e);const t=[],i=e=>{e&&"object"==typeof e&&Object.keys(e).forEach(a=>{switch(a){case"or":case"and":e[a].forEach(e=>i(e));break;case"location":t.push(e[a])}})};i(e),this._updateLocations(t)}_updateLocations(e){if(this.elm.dataset.isSelectingChromosome=e.length>0,0===e.length)return;if(!this.chromosomeViews)return;const t={};e.forEach(e=>{t[e.chromosome]||(t[e.chromosome]={positions:[]}),t[e.chromosome].positions.push("number"==typeof e.position?[e.position,e.position]:[e.position.gte,e.position.lte])}),this.chromosomeViews.forEach(e=>{e.updateSelectedPositions(t[e.no]?.positions??[])})}}class b{constructor(e){this.elm=e,a.storeManager.bind("appStatus",this)}appStatus(e){if("searching"===e)this.elm.classList.remove("-hidden");else this.elm.classList.add("-hidden")}}var m=new class{constructor(){this._isReady=!1}init(e){this._isReady=!0,this.targets=e,this._globalHeader=document.getElementById("GlobalHeader"),this._searchInputView=document.getElementById("SearchInputView"),this._searchResultsView=document.getElementById("SearchResultsView"),this._drawerView=document.querySelector(".drawer-view"),this.update(),this._boundUpdateHandler=this.update.bind(this),window.addEventListener("resize",this._boundUpdateHandler),window.dispatchEvent(new Event("resize"))}update(){if(!this._isReady)return;const e=this._globalHeader?.clientHeight||0,t=this._searchInputView?.clientHeight||0,i=this._drawerView?.offsetTop||0,a=window.innerHeight-i;this._searchResultsView&&(this._searchResultsView.style.height=`calc(100vh - ${e+t+a}px)`),this.targets.forEach(e=>e.updateDisplaySize())}cleanup(){this._boundUpdateHandler&&window.removeEventListener("resize",this._boundUpdateHandler),this.targets=null,this._globalHeader=null,this._searchInputView=null,this._searchResultsView=null,this._drawerView=null,this._isReady=!1}};class _{constructor(e){const t=Array.from(e.querySelectorAll(":scope > .tabscontainer > ul > li")),i=Array.from(e.querySelectorAll(":scope > .sectionscontainer > *"));t.forEach(e=>{e.target=i.find(t=>t.dataset.tabId===e.dataset.target),e.addEventListener("click",e=>{t.forEach(e=>e.classList.remove("-current")),i.forEach(e=>e.classList.remove("-current")),e.target.classList.add("-current"),e.target.target.classList.add("-current"),window.localStorage.setItem(e.target.dataset.tabGroup,e.target.dataset.target),m.update()})});let a=window.localStorage.getItem(t[0].dataset.tabGroup);const n=e.dataset.boundUrlParam;if(e.dataset.boundUrlParam){const e=new URL(window.location).searchParams.get(n);a=e??a}let o=t[0];if(a){o=t.find(e=>e.dataset.target===a)??o}o.dispatchEvent(new Event("click"))}}function v(e,t,i){y(e,t),t.set(e,i)}function y(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function S(e,t){return e.get(E(e,t))}function w(e,t,i){return e.set(E(e,t),i),i}function E(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var C=new WeakMap,x=new WeakMap,k=new WeakMap,R=new WeakSet;class O{constructor(e){var t,i;y(t=this,i=R),i.add(t),v(this,C,void 0),v(this,x,void 0),v(this,k,void 0),w(C,this,e),w(x,this,e.dataset.filetype),w(k,this,`${r.API_URL}/api/download/variant`),S(C,this).addEventListener("click",E(R,this,I).bind(this,S(x,this)))}}function I(e){switch(a.storeManager.getData("searchMode")){case"simple":return E(R,this,M).call(this,e);case"advanced":return E(R,this,D).call(this,e)}}function M(e){const t=a.storeManager.getData("simpleSearchConditions").term,i=document.createElement("a");i.href=`${S(k,this)}.${e}?term=${t}`,i.click()}function D(e){const t={query:a.storeManager.getData("advancedSearchConditions")},i=document.createElement("form");i.action=`${S(k,this)}.${e}`,i.method="post",i.enctype="text/plain",i.setAttribute("style","display: none;");const n=document.createElement("input");n.setAttribute("name",JSON.stringify(t).slice(0,-1)+', "dummy": "'),n.setAttribute("value",'"}'),i.appendChild(n),document.body.appendChild(i),i.submit()}var A=i(7919),T=i.n(A),L=i(7204);var V=class{constructor(e,t){this.elm=e,this.kind=t,this.localStorageKey="panel_"+t,"collapsed"===window.localStorage.getItem(this.localStorageKey)&&e.classList.add("-collapsed"),e.querySelector(".title").addEventListener("click",()=>{e.classList.toggle("-collapsed"),window.localStorage.setItem(this.localStorageKey,e.classList.contains("-collapsed")?"collapsed":"")})}};class q extends V{constructor(e,t,i){super(e,t),this._statisticsType=i;const n=a.storeManager.getData("simpleSearchConditionsMaster").find(e=>e.id===this.kind);this._createGUI(n);const s=(0,o.getSimpleSearchCondition)(this.kind);this._inputsValues={},this.elm.querySelectorAll(".content > .checklist-values > .item > .label > input").forEach(e=>{this._inputsValues[e.value]={input:e,value:e.parentNode.nextElementSibling},s&&s[e.value]&&(e.checked="1"===s[e.value])}),this._changeFilter();for(const e in this._inputsValues)this._inputsValues[e].input.addEventListener("change",this._changeFilter.bind(this));a.storeManager.bind("simpleSearchConditions",this),a.storeManager.bind(this._statisticsType,this),this[this._statisticsType]=e=>{if(e){let t=0;for(const i in this._inputsValues){const a=e[i]?e[i]:0;t+=a,this._inputsValues[i].value.textContent=a.toLocaleString()}this._inputsValues.all.value.textContent=t.toLocaleString()}else{for(const e in this._inputsValues)this._inputsValues[e].value.textContent="N/A";this._inputsValues.all.value.textContent="N/A"}this._inputsValues.all.value.textContent=a.storeManager.getData("searchStatus").filtered.toLocaleString()}}_createGUI(e){let t='\n    <li class="item">\n      <label class="label">\n        <input type="checkbox" value="all" checked>\n        All\n      </label>\n      <span class="value"></span>\n    </li>\n    <li class="separator"><hr></li>\n    ';"significance"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="NC" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),"alphamissense"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="N" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),"sift"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="N" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),"polyphen"===this.kind&&(t+='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="N" checked>\n          Unassigned\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n      '),t+=e.items.map(e=>`\n    <li class="item">\n      <label class="label">\n        <input type="checkbox" value="${e.id}" checked>\n        ${"dataset"===this.kind?`<div class="dataset-icon" data-dataset="${e.id}"><div class="properties"></div></div>`:""}\n        ${"significance"===this.kind?`<div class="clinical-significance" data-value="${e.id}"></div>`:""}\n        ${"sift"===this.kind?`<div class="variant-function _width_5em _align-center" data-function="${e.id}">${{D:"&lt; 0.05",T:"&ge; 0.05"}[e.id]}</div>`:""}\n        ${"polyphen"===this.kind?`<div class="variant-function _width_5em _align-center" data-function="${e.id}">${{PROBD:"&gt; 0.908",POSSD:"&gt; 0.446",B:"&le; 0.446",U:"Unknown"}[e.id]}</div>`:""}\n        ${"alphamissense"===this.kind?`<div class="variant-function _width_5em _align-center" data-function="${e.id}">${{LP:"&gt; 0.564",A:"&ge; 0.340",LB:"&lt; 0.340"}[e.id]}</div>`:""}\n        ${e.label}\n      </label>\n      <span class="value"></span>\n    </li>\n    `).join(""),this.elm.querySelector(".content > .checklist-values").insertAdjacentHTML("beforeend",t),["significance","alphamissense","sift","polyphen"].includes(this.kind)&&this.elm.querySelector(".content > .checklist-values > .item:nth-child(5)").remove()}_changeFilter(e){if(e&&"all"===e.target.value)if(e.target.checked)for(const e in this._inputsValues)this._inputsValues[e].input.checked=!0;else for(const e in this._inputsValues)this._inputsValues[e].input.checked=!1;else{let e=0;for(const t in this._inputsValues)"all"!==t&&(e+=!this._inputsValues[t].input.checked);this._inputsValues.all.input.checked=0===e}const t={};for(const e in this._inputsValues)"all"!==e&&(t[e]=this._inputsValues[e].input.checked?"1":"0");(0,o.setSimpleSearchCondition)(this.kind,t)}simpleSearchConditions(e){let t=0;for(const i in e[this.kind])this._inputsValues[i].input.checked="0"!==e[this.kind][i],t+="0"===e[this.kind][i];this._inputsValues.all.input.checked=0===t}}i(9524);class N extends V{constructor(e){super(e,"frequency"),this._conditionMaster=(0,o.getSimpleSearchConditionMaster)(this.kind);const t=this._getConditionFromStore(),i=document.createElement("range-slider");i.value1=t.from,i.value2=t.to,i.sliderStep=.01,i.inputStep=.05,i.searchType="simple",i.addEventListener("range-changed",e=>{e.stopPropagation(),this.changeParameter(e.detail)}),this.elm.querySelector(".range-selector-view").appendChild(i),this._rangeSelectorView=i,a.storeManager.bind("simpleSearchConditions",this)}changeParameter(e){const t=this._getConditionFromStore();for(const i in e)t[i]=e[i];(0,o.setSimpleSearchCondition)(this.kind,t)}simpleSearchConditions(e){e[this.kind]}_getConditionFromStore(){let e=(0,o.getSimpleSearchCondition)(this.kind);e=e||this._conditionMaster.items.reduce((e,t)=>Object.assign(e,{[t.id]:t.default}),{});for(const t of this._conditionMaster.items)e[t.id]=e[t.id]?e[t.id]:this._conditionMaster.items.find(e=>e.id===t.id).default;return e}}class P extends V{constructor(e){super(e,"quality"),a.storeManager.bind("simpleSearchConditions",this),this.checkbox=this.elm.querySelector(".content > label > input"),this.checkbox.addEventListener("change",this.change.bind(this)),this.checkbox.dispatchEvent(new Event("change"));const t=(0,o.getSimpleSearchCondition)(this.kind);this.checkbox.checked=void 0===t}change(e){(0,o.setSimpleSearchCondition)("quality",e.target.checked?"1":"0")}simpleSearchConditions(e){void 0!==e.quality&&(this.checkbox.checked="1"===e.quality)}}class ${constructor(e){this.setup(e)}setup(e){if(e.classList.contains("-terminal"))return;if(e.querySelector(".collapsebutton").addEventListener("click",i=>{e.classList.toggle("-collapsed"),e.classList.contains("-unstructured")&&this.collapseTargets.forEach(e=>{const t=e.ancestors.some(e=>e.querySelector(".collapse-view").classList.contains("-collapsed"));e.TR.style.display=t?"none":"table-row"}),window.localStorage.setItem(t,e.classList.contains("-collapsed")?"collapsed":""),"advanced-search"===e.dataset.collapseId&&m.update()}),e.classList.contains("-unstructured")){this.collapseTargets=[];const t=[],i=parseInt(e.dataset.collapseDepth);let a=e;for(;"TR"!==a.tagName;)a=a.parentNode;t[i]=a;let n=a.nextSibling;for(;null!==n;){let e,a=!1;const o=n.querySelector(".collapse-view[data-collapse-depth]");if(o&&(e=o.dataset.collapseDepth,e&&(e=parseInt(e),e>i&&(a=!0))),!a)break;t[e]=n,this.collapseTargets.push({ancestors:t.slice(i,e),TR:n}),n=n.nextSibling}}const t=e.dataset.collapseId;t&&"collapsed"===window.localStorage.getItem(t)&&e.querySelector(".collapsebutton").dispatchEvent(new Event("click"))}}const z="consequence";class j extends V{constructor(e){super(e,"consequence");const t=(0,o.getSimpleSearchConditionMaster)(this.kind),i=(0,o.getSimpleSearchConditionMaster)("consequence_grouping").items;this._createGUI(t,i),e.querySelectorAll(".collapse-view").forEach(e=>new $(e));const n=(0,o.getSimpleSearchCondition)(this.kind);this._inputsValues={},this.elm.querySelectorAll(".content > .checklist-values input").forEach(e=>{this._inputsValues[e.value]={input:e,value:e.parentNode.nextElementSibling},n&&n[e.value]&&(e.checked="1"===n[e.value])}),this._inputsValues.all.values=this.findValues(i,[]),this.updateNestedCheckboxes();for(const e in this._inputsValues)this._inputsValues[e].input.addEventListener("change",this._changeFilter.bind(this));a.storeManager.bind("simpleSearchConditions",this),a.storeManager.bind("statisticsConsequence",this)}_createGUI(e,t){let i='\n      <li class="item">\n        <label class="label">\n          <input type="checkbox" value="all" data-has-children="true" checked>\n          All\n        </label>\n        <span class="value"></span>\n      </li>\n      <li class="separator"><hr></li>\n    ';i+=t.map(t=>this.render(e,t)).join(""),this.elm.querySelector(".content > .checklist-values").insertAdjacentHTML("beforeend",i),this.elm.querySelector(".content > .checklist-values > .item:nth-child(3)").classList.remove("-collapsed")}render(e,t){const i="object"==typeof t;return`\n      <li class="item${i?" collapse-view -hierarchic -collapsed":""}">\n        ${i?'<div class="collapsebutton"></div>':""}\n        <label class="label">\n          <input type="checkbox" value="${(t=i?t:e.items.find(e=>e.id===t)).id?t.id:t.label}" data-has-children="${t.items?"true":"false"}" checked>\n          ${t.label}\n        </label>\n        <span class="value"></span>\n        ${i?`\n        <ul class="checklist-values collapsecontent">\n          ${t.items.map(t=>this.render(e,t)).join("")}\n        </ul>\n        `:""}\n      </li>\n    `}findValues(e,t){let i=[];for(const a of e){if("object"==typeof a){const e=this.findValues(a.items,[]);this._inputsValues[a.label].values=e,i=i.concat(e)}else t.push(a)}return i=i.concat(t),i}_changeFilter(e){if(e&&"all"===e.target.value)if(e.target.checked)for(const e in this._inputsValues)this._inputsValues[e].input.checked=!0;else for(const e in this._inputsValues)this._inputsValues[e].input.checked=!1;else if("true"===e.target.dataset.hasChildren)for(const t of this._inputsValues[e.target.value].values)this._inputsValues[t].input.checked=e.target.checked;else this.updateNestedCheckboxes();const t={};for(const e in this._inputsValues){void 0===this._inputsValues[e].values&&(t[e]=this._inputsValues[e].input.checked?"1":"0")}(0,o.setSimpleSearchCondition)(z,t)}updateNestedCheckboxes(){for(const e in this._inputsValues){const t=this._inputsValues[e];t.values&&(t.input.checked=!t.values.reduce((e,t)=>e+!this._inputsValues[t].input.checked,0))}}simpleSearchConditions(e){for(const t in e[z])this._inputsValues[t].input.checked="0"!==e[z][t];this.updateNestedCheckboxes()}statisticsConsequence(e){if(e)for(const t in this._inputsValues){const i=this._inputsValues[t];void 0===i.values&&(i.value.textContent=(e[t]?e[t]:0).toLocaleString())}else for(const e in this._inputsValues){void 0===this._inputsValues[e].values&&(this._inputsValues[e].value.textContent="0")}this._inputsValues.all.value.textContent=a.storeManager.getData("searchStatus").filtered.toLocaleString()}}class U extends V{constructor(e){super(e,"dataset"),a.storeManager.bind("selectedRow",this),a.storeManager.bind("offset",this),this.table=this.elm.querySelector(".content > .right-headline")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(this.elm.classList.add("-notfound"),void 0!==a.storeManager.getData("selectedRow")){const t=a.storeManager.getSelectedRecord();if(t&&t.symbols)for(const i of t.symbols)e+=`\n            <tbody>\n              <tr>\n                <th>Symbol</th>\n                <td>\n                  <a href="gene/${i.id}" target="_blank" class="hyper-text -internal">${i.name}</a>\n                </td>\n              </tr>\n              ${0===i.synonyms.length?"":`<tr><th>Alias</th><td>${i.synonyms.join(", ")}</td></tr>`}\n            </tbody>\n          `,this.elm.classList.remove("-notfound")}this.table.innerHTML=e}}class B extends V{constructor(e){super(e,"dataset"),a.storeManager.bind("selectedRow",this),a.storeManager.bind("offset",this),this.title=this.elm.querySelector(".title")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(void 0!==a.storeManager.getData("selectedRow")){const t=a.storeManager.getSelectedRecord();t&&t.id?(e=`<a class="hyper-text -internal" href="/variant/${t.id}">Detailed variant report page</a>`,this.elm.classList.remove("-disable")):(e='<a class="hyper-text -internal">Detailed variant report page</a>',this.elm.classList.add("-disable"))}this.title.innerHTML=e}}function F(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function H(e,t,i){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:i;throw new TypeError("Private element is not present on this object")}var G=new WeakSet;class W extends V{constructor(e){super(e,"dataset"),F(this,G),a.storeManager.bind("selectedRow",this),a.storeManager.bind("offset",this),this.table=this.elm.querySelector(".content > .right-headline")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(this.elm.classList.add("-notfound"),void 0!==a.storeManager.getData("selectedRow")){const t=a.storeManager.getSelectedRecord(),i=[];t&&t.external_link&&(t.external_link.dbsnp&&t.external_link.dbsnp.forEach(e=>{i.push(H(G,this,K).call(this,"refSNP",e.title,e.xref))}),t.external_link.mgend&&t.external_link.mgend.forEach(e=>{i.push(H(G,this,K).call(this,"MGeND",e.title,e.xref))}),t.external_link.clinvar&&t.external_link.clinvar.forEach(e=>{i.push(H(G,this,K).call(this,"ClinVar",e.title,e.xref))}),t.external_link.tommo&&t.external_link.tommo.forEach(e=>{i.push(H(G,this,K).call(this,"ToMMo",e.title,e.xref))}),t.external_link.gnomad&&t.external_link.gnomad.forEach(e=>{i.push(H(G,this,K).call(this,"gnomAD",e.title,e.xref))})),i.length>0&&(e=`\n                  <tbody>\n                    ${i.map(e=>`<tr><th>${e.title}</th><td>${e.content}</td></tr>`).join("")}\n                  </tbody>\n                `,this.elm.classList.remove("-notfound"))}this.table.innerHTML=e}}function K(e,t,i){return{title:e,content:`\n      <ul>\n        <li><a href="${i}" class="hyper-text -external" target="_blank">${t}</a></li>\n      </ul>`}}class Y extends V{constructor(e){super(e,"frenquecies"),a.storeManager.bind("selectedRow",this),a.storeManager.bind("offset",this);const t=this.elm.querySelector(".frequency-detail > tbody");this._master=(0,o.getSimpleSearchConditionMaster)("dataset").items,t.innerHTML=this._master.map(e=>e.has_freq?`<tr data-dataset="${e.id}">\n          <td>\n            <div class="dataset-icon" data-dataset="${e.id}">\n              <div class="properties"></div>\n            </div>\n            ${e.label}\n          </td>\n          <td class="alt"></td>\n          <td class="total"></td>\n          <td class="frequency"></td>\n        </tr>`:"").join(""),this._datasets={};for(const e of this._master)if(e.has_freq){const i=t.querySelector(`tr[data-dataset="${e.id}"]`);this._datasets[e.id]={alt:i.querySelector(".alt"),total:i.querySelector(".total"),frequency:i.querySelector(".frequency")}}}selectedRow(){this._update()}offset(){this._update()}_update(){if(void 0!==a.storeManager.getData("selectedRow")){const e=a.storeManager.getSelectedRecord();if(e)for(const t of this._master)if(t.has_freq){const i=e.frequencies?e.frequencies.find(e=>e.source===t.id):null;if(i)if(this._datasets[t.id].alt.textContent=i.ac.toLocaleString(),this._datasets[t.id].total.textContent=i.an.toLocaleString(),(i.af+"").length>6){const e=(i.af+"").length,a=(i.af*10**e+"").padStart(e,"0"),n=Math.round(parseFloat(a.slice(0,4)+"."+a.slice(4)))/1e4;this._datasets[t.id].frequency.textContent=n>0?n:i.af.toExponential(3)}else this._datasets[t.id].frequency.textContent=X((Math.round(1e4*i.af)+"").padStart(5,"0"),-4,".");else this._datasets[t.id].alt.textContent="",this._datasets[t.id].total.textContent="",this._datasets[t.id].frequency.textContent=""}}}}function X(e,t,i){return e.slice(0,t)+i+e.slice(t)}class Q extends V{constructor(e){super(e,"frenquecies"),a.storeManager.bind("selectedRow",this),a.storeManager.bind("offset",this),this._content=this.elm.querySelector(".content")}selectedRow(){this._update()}offset(){this._update()}_update(){let e="";if(this.elm.classList.add("-notfound"),void 0!==a.storeManager.getData("selectedRow")){const t=a.storeManager.getSelectedRecord();if(t&&t.transcripts&&t.transcripts.length>0){let i=t.transcripts.map(e=>e.consequence).reduce((e,t)=>e.concat(t));i=Array.from(new Set(i));const a=(0,o.getSimpleSearchConditionMaster)("consequence");e=i.map(e=>a.items.find(t=>t.id===e)).map(e=>`<dl class="above-headline"><dt>${e.label}</dt><dd>${e.description}</dd></dl>`).join(""),this.elm.classList.remove("-notfound")}}this._content.innerHTML=e}}class J extends V{constructor(e){super(e,"clinicalSignificance"),a.storeManager.bind("selectedRow",this),a.storeManager.bind("offset",this),this.content=this.elm.querySelector(".content")}selectedRow(){this.update()}offset(){this.update()}update(){let e="";if(void 0!==a.storeManager.getData("selectedRow")){const t=a.storeManager.getSelectedRecord();if(t&&t.significance){const i=(0,o.getSimpleSearchConditionMaster)("significance");function n(e){const t={};e.forEach(e=>{"mgend"===e.source&&0===e.conditions.length&&e.conditions.push({name:"others",medgen:""}),e.conditions.forEach(i=>{const a=i.medgen,n=i.name;t[a]||(t[a]={name:n,interpretations:{}}),e.interpretations.forEach(i=>{t[a].interpretations[i]?t[a].interpretations[i].add(e.source):t[a].interpretations[i]=new Set([e.source])})})});return s(Object.keys(t).map(e=>({medgen:e,name:t[e].name,interpretations:Object.keys(t[e].interpretations).map(i=>({interpretation:i,sources:Array.from(t[e].interpretations[i])}))})))}function s(e){const t={};return e.forEach(e=>{let i=[];e.interpretations.forEach(e=>{i.push(e.interpretation)}),t[i]||(t[i]=[]),t[i].push(e),i=[]}),Object.keys(t).forEach(e=>{t[e]=t[e].sort((e,t)=>{const i=e.name||"",a=t.name||"";return i.localeCompare(a,void 0,{sensitivity:"base"})})}),Object.values(t).flat()}e=n(structuredClone(t.significance)).map(e=>`\n        <dl class="above-headline clinical-significance">\n          <dt>\n          ${"undefined"===e.medgen||""===e.medgen?e.name:`<a href="/disease/${e.medgen}" target="_blank" class="hyper-text -internal">\n              ${e.name}</a>`}\n          </dt>\n          ${e.interpretations?e.interpretations.map(e=>`\n            <dd>\n              <div class="clinical-significance" data-value="${e.interpretation}">\n                ${i.items.find(t=>t.id===e.interpretation).label}\n              </div>\n              <div class="disease-category">\n                ${e.sources.includes("mgend")?'<span class="mgend">MGeND</span>':""}\n                ${e.sources.includes("clinvar")?'<span class="clinvar">ClinVar</span>':""}\n              </div>\n            </dd> `).join(""):""}\n          </dl>`).join(""),this.elm.classList.remove("-notfound")}}else this.elm.classList.add("-notfound");this.content.innerHTML=e}}var Z=i(9244);class ee{constructor(){const e=document.querySelectorAll("[data-tooltip-id]"),t=this.getData();e.forEach(e=>{e.addEventListener("mouseover",this.setTooltip(e,t))})}getData(){const e=i(6696);return Object.freeze(e),e}setTooltip(e,t){const i=e.getAttribute("data-tooltip-id");try{const a=t.find(e=>e.id===i),n=this.createTemplate(a);(0,Z.Ay)(e,{content:n.innerHTML,allowHTML:!0,animation:"fade",duration:[400],interactive:!0,theme:"black",placement:"top",appendTo:document.body,maxWidth:"15rem",delay:[300,300],offset:this.offset(e),zIndex:10100})}catch(e){console.error(`Failed to set the tooltip for item with a data-tooltip id of [${i}].\nCheck if there is corresponding data in tooltips.JSON`)}}createTemplate(e){const t=document.createElement("span"),i=document.createElement("p");return i.className="content",i.innerText=e.content,"url"in e&&i.appendChild(this.createAnchor(e.url)),t.appendChild(i),t}createAnchor(e){const t=document.createElement("a");return t.className="url",t.href=e,t.innerText="Read More",t}offset(e){const t=window.getComputedStyle(e),i=e.getBoundingClientRect();return"none"===t.transform?[3,7]:[.15*i.width<10?.1*i.width:.2*i.width,2]}}var te=i(5373),ie=i.n(te),ae=i(6364);const ne=ie().parse(window.location.search.substring(1));function oe(){!function(){const e=window.navigator.userAgent.toLowerCase();let t="";switch(!0){case-1!==e.indexOf("windows nt"):t="windows";break;case-1!==e.indexOf("mac os x"):t="mac"}document.querySelector("html").dataset.os=t}(),a.storeManager.setData("offset",0),a.storeManager.setData("selectedRow",void 0),(0,ae.W)(),new l(document.getElementById("Configuration")),new f(document.getElementById("Karyotype")),new b(document.getElementById("ActivityIndicator")),function(e){const t=(()=>{switch("GRCh38"){case"GRCh37":return i(7948);case"GRCh38":return i(3105);default:return[]}})();Object.freeze(t),a.storeManager.setData("simpleSearchConditionsMaster",t);const n=a.storeManager.getData("searchMode"),s={},r={};if("simple"===n)Object.assign(s,(0,o.extractSearchCondition)(ne));a.storeManager.setData("simpleSearchConditions",s),a.storeManager.setData("advancedSearchConditions",r),e()}(()=>{!function(){const e=new n.y(se("ResultsView"));le=e,m.init([e])}(),["DownloadJson","DownloadCsv","DownloadTsv"].forEach(e=>{new O(se(e))}),new s(se("SideBar")),new q(se("FilterDatasets"),"dataset","statisticsDataset"),new N(se("FilterAlternativeAlleleFrequency")),new P(se("FilterVariantCallingQuality")),new q(se("FilterVariantType"),"type","statisticsType"),new q(se("FilterClinicalSignificance"),"significance","statisticsSignificance"),new j(se("FilterConsequence")),new q(se("FilterSIFT"),"sift"),new q(se("FilterPolyPhen"),"polyphen"),new q(se("FilterAlphaMissense"),"alphamissense"),new U(se("PreviewGene")),new B(se("PreviewToVariantReport")),new W(se("PreviewExternalLinks")),new Y(se("PreviewAlternativeAlleleFrequencies")),new Q(se("PreviewConsequence")),new J(se("PreviewClinicalSignificance")),new(T()),new L.D(se("AdvancedSearchBuilderView")),re("#SearchInputView > .tabscontainer > ul > li").forEach(e=>{e.addEventListener("click",e=>{a.storeManager.setData("searchMode",e.target.dataset.target)})}),re(".module-tabs-view").forEach(e=>{new _(e)}),new ee,window.addEventListener("beforeunload",()=>{ce()}),document.addEventListener("visibilitychange",()=>{document.visibilityState}),"undefined"!=typeof window&&(window.cleanupTogovar=ce)})}const se=e=>document.getElementById(e),re=e=>document.querySelectorAll(e);let le=null;function ce(){if(console.log("Cleaning up application resources..."),le&&"function"==typeof le.destroy){try{le.destroy(),console.log("ResultsView cleaned up successfully")}catch(e){console.error("Error cleaning up ResultsView:",e)}le=null}if("function"==typeof m.cleanup)try{m.cleanup(),console.log("TopPageLayoutManager cleaned up successfully")}catch(e){console.error("Error cleaning up TopPageLayoutManager:",e)}if("function"==typeof a.storeManager.cleanup)try{a.storeManager.cleanup(),console.log("StoreManager cleaned up successfully")}catch(e){console.error("Error cleaning up StoreManager:",e)}console.log("Application cleanup completed.")}},582:function(e,t,i){"use strict";i.r(t),i.d(t,{axios:function(){return n},cachedAxios:function(){return o}});var a=i(1083);const n=(0,i(2234).WQ)(a.A.create({headers:{"Content-Type":"application/json",Accept:"application/json"}}));class o{constructor(e,t=100){this.axios=a.A.create({baseURL:e,headers:{"Content-Type":"application/json",Accept:"application/json"}}),this.maxCacheSize=t,this.cache=new Map}get(e){return this.cache.has(e)?Promise.resolve(this.cache.get(e)):this.axios.get(e).then(({data:t})=>{if(this.cache.set(e,{data:t}),this.cache.size>this.maxCacheSize){const[e]=this.cache.keys();this.cache.delete(e)}return{data:t}})}}},4758:function(e,t,i){"use strict";i.r(t),i.d(t,{capitalizeFirstLetter:function(){return a}});const a=e=>`${e.charAt(0).toUpperCase()}${e.slice(1)}`},4191:function(e,t,i){"use strict";function a(e,t=1e3){let i;return function(){clearTimeout(i),i=setTimeout(()=>e.apply(this,arguments),t)}}i.r(t),i.d(t,{debounce:function(){return a}})},6305:function(e,t,i){"use strict";i.r(t),i.d(t,{keyDownEvent:function(){return n}});var a=i(5833);function n(e){switch(e){case"showModal":return!a.storeManager.getData("showSuggest");case"selectedRow":return!a.storeManager.getData("showModal")}}},7948:function(e){e.exports=[{id:"term",label:"Term",type:"string",default:""},{id:"dataset",label:"Dataset",type:"array",items:[{id:"gem_j_wga",label:"GEM-J WGA",type:"boolean",default:"1",has_freq:!0},{id:"jga_wes",label:"JGA-WES",type:"boolean",default:"1",has_freq:!0},{id:"jga_snp",label:"JGA-SNP",type:"boolean",default:"1",has_freq:!0},{id:"tommo",label:"ToMMo 8.3KJPN",type:"boolean",default:"1",has_freq:!0},{id:"hgvd",label:"HGVD",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_genomes",label:"gnomAD genomes",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_exomes",label:"gnomAD exomes",type:"boolean",default:"1",has_freq:!0},{id:"mgend",label:"MGeND",type:"boolean",default:"1",has_freq:!1},{id:"clinvar",label:"ClinVar",type:"boolean",default:"1",has_freq:!1}]},{id:"frequency",label:"Alternative allele frequency",type:"array",items:[{id:"from",label:"From",type:"range",default:0},{id:"to",label:"To",type:"range",default:1},{id:"invert",label:"Invert",type:"boolean",default:"0"},{id:"match",label:"Match",type:"enumeration",default:"any",values:["all","any"]}]},{id:"quality",label:"Variant calling quality",type:"boolean",default:"1"},{id:"type",label:"Variant type",type:"array",items:[{id:"SO_0001483",label:"SNV",type:"boolean",default:"1"},{id:"SO_0000667",label:"Insertion",type:"boolean",default:"1"},{id:"SO_0000159",label:"Deletion",type:"boolean",default:"1"},{id:"SO_1000032",label:"Indel",type:"boolean",default:"1"},{id:"SO_1000002",label:"Substitution",type:"boolean",default:"1"}]},{id:"significance",label:"Clinical significance",type:"array",items:[{id:"NC",label:"Unassigned",type:"boolean",default:"1"},{id:"P",label:"Pathogenic",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"PLP",label:"Pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"LPLP",label:"Likely pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"ERA",label:"Established risk allele",type:"boolean",default:"1"},{id:"LRA",label:"Likely risk allele",type:"boolean",default:"1"},{id:"URA",label:"Uncertain risk allele",type:"boolean",default:"1"},{id:"US",label:"Uncertain significance",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"CI",label:"Conflicting interpretations of pathogenicity",type:"boolean",default:"1"},{id:"DR",label:"Drug response",type:"boolean",default:"1"},{id:"CS",label:"Confers sensitivity",type:"boolean",default:"1"},{id:"RF",label:"Risk factor",type:"boolean",default:"1"},{id:"A",label:"Association",type:"boolean",default:"1"},{id:"PR",label:"Protective",type:"boolean",default:"1"},{id:"AF",label:"Affects",type:"boolean",default:"1"},{id:"O",label:"Other",type:"boolean",default:"1"},{id:"NP",label:"Not provided",type:"boolean",default:"1"},{id:"AN",label:"Association not found",type:"boolean",default:"1"}]},{id:"consequence",label:"Consequence",type:"array",items:[{id:"SO_0001566",label:"Regulatory region variant",type:"boolean",default:"1",description:"A sequence variant located within a regulatory region"},{id:"SO_0001567",label:"Stop retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the terminator codon is changed, but the terminator remains"},{id:"SO_0001574",label:"Splice acceptor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 3' end of an intron"},{id:"SO_0001575",label:"Splice donor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 5' end of an intron"},{id:"SO_0001578",label:"Stop lost",type:"boolean",default:"1",description:"A sequence variant where at least one base of the terminator codon (stop) is changed, resulting in an elongated transcript"},{id:"SO_0001580",label:"Coding sequence variant",type:"boolean",default:"1",description:"A sequence variant that changes the coding sequence"},{id:"SO_0001583",label:"Missense variant",type:"boolean",default:"1",description:"A sequence variant, that changes one or more bases, resulting in a different amino acid sequence but where the length is preserved"},{id:"SO_0001587",label:"Stop gained",type:"boolean",default:"1",description:"A sequence variant whereby at least one base of a codon is changed, resulting in a premature stop codon, leading to a shortened transcript"},{id:"SO_0001589",label:"Frameshift variant",type:"boolean",default:"1",description:"A sequence variant which causes a disruption of the translational reading frame, because the number of nucleotides inserted or deleted is not a multiple of three"},{id:"SO_0001619",label:"Non coding transcript variant",type:"boolean",default:"1",description:"A transcript variant of a non coding RNA gene"},{id:"SO_0001620",label:"Mature miRNA variant",type:"boolean",default:"1",description:"A transcript variant located with the sequence of the mature miRNA"},{id:"SO_0001621",label:"NMD transcript variant",type:"boolean",default:"1",description:"A variant in a transcript that is the target of NMD"},{id:"SO_0001623",label:"5 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 5' UTR"},{id:"SO_0001624",label:"3 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 3' UTR"},{id:"SO_0001626",label:"Incomplete terminal codon variant",type:"boolean",default:"1",description:"A sequence variant where at least one base of the final codon of an incompletely annotated transcript is changed"},{id:"SO_0001627",label:"Intron variant",type:"boolean",default:"1",description:"A transcript variant occurring within an intron"},{id:"SO_0001628",label:"Intergenic variant",type:"boolean",default:"1",description:"A sequence variant located in the intergenic region, between genes"},{id:"SO_0001630",label:"Splice region variant",type:"boolean",default:"1",description:"A sequence variant in which a change has occurred within the region of the splice site, either within 1-3 bases of the exon or 3-8 bases of the intron"},{id:"SO_0001631",label:"Upstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 5' of a gene"},{id:"SO_0001632",label:"Downstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 3' of a gene"},{id:"SO_0001782",label:"TF binding site variant",type:"boolean",default:"1",description:"A sequence variant located within a transcription factor binding site"},{id:"SO_0001792",label:"Non coding transcript exon variant",type:"boolean",default:"1",description:"A sequence variant that changes non-coding exon sequence in a non-coding transcript"},{id:"SO_0001818",label:"Protein altering variant",type:"boolean",default:"1",description:"A sequence_variant which is predicted to change the protein encoded in the coding sequence"},{id:"SO_0001819",label:"Synonymous variant",type:"boolean",default:"1",description:"A sequence variant where there is no resulting change to the encoded amino acid"},{id:"SO_0001821",label:"Inframe insertion",type:"boolean",default:"1",description:"An inframe non synonymous variant that inserts bases into in the coding sequence"},{id:"SO_0001822",label:"Inframe deletion",type:"boolean",default:"1",description:"An inframe non synonymous variant that deletes bases from the coding sequence"},{id:"SO_0001889",label:"Transcript amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcript"},{id:"SO_0001891",label:"Regulatory region amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a regulatory region"},{id:"SO_0001892",label:"TFBS amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcription factor binding site"},{id:"SO_0001893",label:"Transcript ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcript feature"},{id:"SO_0001894",label:"Regulatory region ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a regulatory region"},{id:"SO_0001895",label:"TFBS ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcription factor binding site"},{id:"SO_0001906",label:"Feature truncation",type:"boolean",default:"1",description:"A sequence variant that causes the reduction of a genomic feature, with regard to the reference sequence"},{id:"SO_0001907",label:"Feature elongation",type:"boolean",default:"1",description:"A sequence variant that causes the extension of a genomic feature, with regard to the reference sequence"},{id:"SO_0002012",label:"Start lost",type:"boolean",default:"1",description:"A codon variant that changes at least one base of the canonical start codon"},{id:"SO_0002019",label:"Start retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the start codon is changed, but the start remains"}]},{id:"consequence_grouping",items:[{label:"Transcript variant",items:[{label:"Coding variant",items:["SO_0001580","SO_0001907","SO_0001906","SO_0001589","SO_0001626","SO_0001822","SO_0001821","SO_0001583","SO_0001621","SO_0001818","SO_0001819","SO_0002012","SO_0001587","SO_0001578","SO_0002019","SO_0001567"]},{label:"Non-coding variant",items:["SO_0001624","SO_0001623","SO_0001627","SO_0001792","SO_0001619"]},{label:"Splice variant",items:["SO_0001574","SO_0001575","SO_0001630"]},"SO_0001893","SO_0001889"]},{label:"Regulatory variant",items:["SO_0001620","SO_0001894","SO_0001891","SO_0001566","SO_0001782","SO_0001895","SO_0001892"]},{label:"Intergenic variant",items:["SO_0001632","SO_0001628","SO_0001631"]}]},{id:"alphamissense",label:"AlphaMissense",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"A",label:"Ambiguous",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"}]},{id:"sift",label:"SIFT",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"D",label:"Deleterious",type:"boolean",default:"1"},{id:"T",label:"Tolerated",type:"boolean",default:"1"}]},{id:"polyphen",label:"PolyPhen",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"PROBD",label:"Probably damaging",type:"boolean",default:"1"},{id:"POSSD",label:"Possibly damaging",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"U",label:"Unknown",type:"boolean",default:"1"}]}]},3105:function(e){e.exports=[{id:"term",label:"Term",type:"string",default:""},{id:"dataset",label:"Dataset",type:"array",items:[{id:"gem_j_wga",label:"GEM-J WGA",type:"boolean",default:"1",has_freq:!0},{id:"jga_wgs",label:"JGA-WGS",type:"boolean",default:"1",has_freq:!0},{id:"jga_wes",label:"JGA-WES",type:"boolean",default:"1",has_freq:!0},{id:"jga_snp",label:"JGA-SNP",type:"boolean",default:"1",has_freq:!0},{id:"tommo",label:"ToMMo 54KJPN",type:"boolean",default:"1",has_freq:!0},{id:"ncbn",label:"NCBN",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_genomes",label:"gnomAD genomes",type:"boolean",default:"1",has_freq:!0},{id:"gnomad_exomes",label:"gnomAD exomes",type:"boolean",default:"1",has_freq:!0},{id:"mgend",label:"MGeND",type:"boolean",default:"1",has_freq:!1},{id:"clinvar",label:"ClinVar",type:"boolean",default:"1",has_freq:!1}]},{id:"frequency",label:"Alternative allele frequency",type:"array",items:[{id:"from",label:"From",type:"range",default:0},{id:"to",label:"To",type:"range",default:1},{id:"invert",label:"Invert",type:"boolean",default:"0"},{id:"match",label:"Match",type:"enumeration",default:"any",values:["all","any"]}]},{id:"quality",label:"Variant calling quality",type:"boolean",default:"1"},{id:"type",label:"Variant type",type:"array",items:[{id:"SO_0001483",label:"SNV",type:"boolean",default:"1"},{id:"SO_0000667",label:"Insertion",type:"boolean",default:"1"},{id:"SO_0000159",label:"Deletion",type:"boolean",default:"1"},{id:"SO_1000032",label:"Indel",type:"boolean",default:"1"},{id:"SO_1000002",label:"Substitution",type:"boolean",default:"1"}]},{id:"significance",label:"Clinical significance",type:"array",items:[{id:"NC",label:"Unassigned",type:"boolean",default:"1"},{id:"P",label:"Pathogenic",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"PLP",label:"Pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"LPLP",label:"Likely pathogenic, Low penetrance",type:"boolean",default:"1"},{id:"ERA",label:"Established risk allele",type:"boolean",default:"1"},{id:"LRA",label:"Likely risk allele",type:"boolean",default:"1"},{id:"URA",label:"Uncertain risk allele",type:"boolean",default:"1"},{id:"US",label:"Uncertain significance",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"CI",label:"Conflicting interpretations of pathogenicity",type:"boolean",default:"1"},{id:"DR",label:"Drug response",type:"boolean",default:"1"},{id:"CS",label:"Confers sensitivity",type:"boolean",default:"1"},{id:"RF",label:"Risk factor",type:"boolean",default:"1"},{id:"A",label:"Association",type:"boolean",default:"1"},{id:"PR",label:"Protective",type:"boolean",default:"1"},{id:"AF",label:"Affects",type:"boolean",default:"1"},{id:"O",label:"Other",type:"boolean",default:"1"},{id:"NP",label:"Not provided",type:"boolean",default:"1"},{id:"AN",label:"Association not found",type:"boolean",default:"1"}]},{id:"consequence",label:"Consequence",type:"array",items:[{id:"SO_0001566",label:"Regulatory region variant",type:"boolean",default:"1",description:"A sequence variant located within a regulatory region"},{id:"SO_0001567",label:"Stop retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the terminator codon is changed, but the terminator remains"},{id:"SO_0001574",label:"Splice acceptor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 3' end of an intron"},{id:"SO_0001575",label:"Splice donor variant",type:"boolean",default:"1",description:"A splice variant that changes the 2 base region at the 5' end of an intron"},{id:"SO_0001578",label:"Stop lost",type:"boolean",default:"1",description:"A sequence variant where at least one base of the terminator codon (stop) is changed, resulting in an elongated transcript"},{id:"SO_0001580",label:"Coding sequence variant",type:"boolean",default:"1",description:"A sequence variant that changes the coding sequence"},{id:"SO_0001583",label:"Missense variant",type:"boolean",default:"1",description:"A sequence variant, that changes one or more bases, resulting in a different amino acid sequence but where the length is preserved"},{id:"SO_0001587",label:"Stop gained",type:"boolean",default:"1",description:"A sequence variant whereby at least one base of a codon is changed, resulting in a premature stop codon, leading to a shortened transcript"},{id:"SO_0001589",label:"Frameshift variant",type:"boolean",default:"1",description:"A sequence variant which causes a disruption of the translational reading frame, because the number of nucleotides inserted or deleted is not a multiple of three"},{id:"SO_0001619",label:"Non coding transcript variant",type:"boolean",default:"1",description:"A transcript variant of a non coding RNA gene"},{id:"SO_0001620",label:"Mature miRNA variant",type:"boolean",default:"1",description:"A transcript variant located with the sequence of the mature miRNA"},{id:"SO_0001621",label:"NMD transcript variant",type:"boolean",default:"1",description:"A variant in a transcript that is the target of NMD"},{id:"SO_0001623",label:"5 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 5' UTR"},{id:"SO_0001624",label:"3 prime UTR variant",type:"boolean",default:"1",description:"A UTR variant of the 3' UTR"},{id:"SO_0001626",label:"Incomplete terminal codon variant",type:"boolean",default:"1",description:"A sequence variant where at least one base of the final codon of an incompletely annotated transcript is changed"},{id:"SO_0001627",label:"Intron variant",type:"boolean",default:"1",description:"A transcript variant occurring within an intron"},{id:"SO_0001628",label:"Intergenic variant",type:"boolean",default:"1",description:"A sequence variant located in the intergenic region, between genes"},{id:"SO_0001630",label:"Splice region variant",type:"boolean",default:"1",description:"A sequence variant in which a change has occurred within the region of the splice site, either within 1-3 bases of the exon or 3-8 bases of the intron"},{id:"SO_0001631",label:"Upstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 5' of a gene"},{id:"SO_0001632",label:"Downstream gene variant",type:"boolean",default:"1",description:"A sequence variant located 3' of a gene"},{id:"SO_0001782",label:"TF binding site variant",type:"boolean",default:"1",description:"A sequence variant located within a transcription factor binding site"},{id:"SO_0001792",label:"Non coding transcript exon variant",type:"boolean",default:"1",description:"A sequence variant that changes non-coding exon sequence in a non-coding transcript"},{id:"SO_0001818",label:"Protein altering variant",type:"boolean",default:"1",description:"A sequence_variant which is predicted to change the protein encoded in the coding sequence"},{id:"SO_0001819",label:"Synonymous variant",type:"boolean",default:"1",description:"A sequence variant where there is no resulting change to the encoded amino acid"},{id:"SO_0001821",label:"Inframe insertion",type:"boolean",default:"1",description:"An inframe non synonymous variant that inserts bases into in the coding sequence"},{id:"SO_0001822",label:"Inframe deletion",type:"boolean",default:"1",description:"An inframe non synonymous variant that deletes bases from the coding sequence"},{id:"SO_0001889",label:"Transcript amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcript"},{id:"SO_0001891",label:"Regulatory region amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a regulatory region"},{id:"SO_0001892",label:"TFBS amplification",type:"boolean",default:"1",description:"A feature amplification of a region containing a transcription factor binding site"},{id:"SO_0001893",label:"Transcript ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcript feature"},{id:"SO_0001894",label:"Regulatory region ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a regulatory region"},{id:"SO_0001895",label:"TFBS ablation",type:"boolean",default:"1",description:"A feature ablation whereby the deleted region includes a transcription factor binding site"},{id:"SO_0001906",label:"Feature truncation",type:"boolean",default:"1",description:"A sequence variant that causes the reduction of a genomic feature, with regard to the reference sequence"},{id:"SO_0001907",label:"Feature elongation",type:"boolean",default:"1",description:"A sequence variant that causes the extension of a genomic feature, with regard to the reference sequence"},{id:"SO_0002012",label:"Start lost",type:"boolean",default:"1",description:"A codon variant that changes at least one base of the canonical start codon"},{id:"SO_0002019",label:"Start retained variant",type:"boolean",default:"1",description:"A sequence variant where at least one base in the start codon is changed, but the start remains"}]},{id:"consequence_grouping",items:[{label:"Transcript variant",items:[{label:"Coding variant",items:["SO_0001580","SO_0001907","SO_0001906","SO_0001589","SO_0001626","SO_0001822","SO_0001821","SO_0001583","SO_0001621","SO_0001818","SO_0001819","SO_0002012","SO_0001587","SO_0001578","SO_0002019","SO_0001567"]},{label:"Non-coding variant",items:["SO_0001624","SO_0001623","SO_0001627","SO_0001792","SO_0001619"]},{label:"Splice variant",items:["SO_0001574","SO_0001575","SO_0001630"]},"SO_0001893","SO_0001889"]},{label:"Regulatory variant",items:["SO_0001620","SO_0001894","SO_0001891","SO_0001566","SO_0001782","SO_0001895","SO_0001892"]},{label:"Intergenic variant",items:["SO_0001632","SO_0001628","SO_0001631"]}]},{id:"alphamissense",label:"AlphaMissense",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"LP",label:"Likely pathogenic",type:"boolean",default:"1"},{id:"A",label:"Ambiguous",type:"boolean",default:"1"},{id:"LB",label:"Likely benign",type:"boolean",default:"1"}]},{id:"sift",label:"SIFT",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"D",label:"Deleterious",type:"boolean",default:"1"},{id:"T",label:"Tolerated",type:"boolean",default:"1"}]},{id:"polyphen",label:"PolyPhen",type:"array",items:[{id:"N",label:"Unassigned",type:"boolean",default:"1"},{id:"PROBD",label:"Probably damaging",type:"boolean",default:"1"},{id:"POSSD",label:"Possibly damaging",type:"boolean",default:"1"},{id:"B",label:"Benign",type:"boolean",default:"1"},{id:"U",label:"Unknown",type:"boolean",default:"1"}]}]},6696:function(e){e.exports=[{id:"table-header-togovar_id",content:"TogoVar identifier assigned to variants observed in Japanese populations"},{id:"table-header-refsnp_id",content:"RefSNP (rs) identifier of dbSNP"},{id:"table-header-position",content:"Chromosomal position"},{id:"table-header-ref_alt",content:"Reference and alternative allele"},{id:"table-header-type",content:"Variant type (SNV, insertion, deletion, indel or substitution)"},{id:"table-header-gene",content:"The HUGO Gene Nomenclature Committee (HGNC) gene symbol"},{id:"table-header-alt_frequency",content:"Frequency indicator representing alternative allele frequencies",url:"doc/help#s1"},{id:"table-header-consequence",content:"Variant consequence detected by Variant Effect Predictor (VEP)",url:"/doc/help#d5"},{id:"table-header-sift",content:"Prediction of functional effects of a nonsynonymous variant by the Sorting Intolerant From Tolerant (SIFT) program",url:"/doc/help#d6"},{id:"table-header-polyphen",content:"Prediction of functional effects of a nonsynonymous variant by the PolyPhen-2 (Polymorphism Phenotyping v2) program",url:"/doc/help#d6"},{id:"table-header-alphamissense",content:"Prediction of functional effects of a nonsynonymous variant by the AlphaMissense program.",url:"/doc/help#d6"},{id:"table-header-clinical_significance",content:"Clinical significance provided by ClinVar",url:"/doc/help#d7"}]},288:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{--height-container:var(--height-advanced-search-condition-values-container);--height:var(--height-advanced-search-condition-value);display:inline-block}:host>.condition-item-value-container{display:flex;justify-content:space-between;gap:20px}:host .inner{align-self:center;line-height:1;padding:1px 10px 0 10px;background-color:#fff;border:solid 1px var(--color-key-dark1);border-radius:calc(var(--height)*.5);font-weight:700;margin-right:2px}:host([data-condition-type=dataset]),:host([data-condition-type=genotype]){display:block;position:relative}:host([data-condition-type=dataset]) .inner,:host([data-condition-type=genotype]) .inner{min-width:50px}:host([data-condition-type=dataset]) .inner::before,:host([data-condition-type=genotype]) .inner::before{font-family:fontello,sans-serif;content:var(--char-dataset);margin-right:4px}:host([data-condition-type=significance]) .inner::before{margin-right:4px;margin-left:-2px;font-size:10px;position:relative;top:-1px}:host([data-condition-type=pathogenicity_prediction]){position:relative}:host([data-condition-type=pathogenicity_prediction]) .inner{background-color:rgba(0,0,0,0);border:none}:host([data-condition-type=dataset][data-value=gem_j_wga]) .inner{border-color:var(--color-dataset-gemj);background-color:var(--color-dataset-gemj-light)}:host([data-condition-type=dataset][data-value=gem_j_wga]) .inner::before{color:var(--color-dataset-gemj)}:host([data-condition-type=dataset][data-value=jga_snp]) .inner,:host([data-condition-type=dataset][data-value=jga_wes]) .inner,:host([data-condition-type=dataset][data-value^=bbj_riken]) .inner,:host([data-condition-type=dataset][data-value^=jga_wgs]) .inner,:host([data-condition-type=genotype][data-value=jga_snp]) .inner,:host([data-condition-type=genotype][data-value=jga_wes]) .inner,:host([data-condition-type=genotype][data-value^=bbj_riken]) .inner,:host([data-condition-type=genotype][data-value^=jga_wgs]) .inner{border-color:var(--color-dataset-jga);background-color:var(--color-dataset-jga-light)}:host([data-condition-type=dataset][data-value=jga_snp]) .inner::before,:host([data-condition-type=dataset][data-value=jga_wes]) .inner::before,:host([data-condition-type=dataset][data-value^=bbj_riken]) .inner::before,:host([data-condition-type=dataset][data-value^=jga_wgs]) .inner::before,:host([data-condition-type=genotype][data-value=jga_snp]) .inner::before,:host([data-condition-type=genotype][data-value=jga_wes]) .inner::before,:host([data-condition-type=genotype][data-value^=bbj_riken]) .inner::before,:host([data-condition-type=genotype][data-value^=jga_wgs]) .inner::before{color:var(--color-dataset-jga)}:host([data-condition-type=dataset][data-value=hgvd]) .inner{border-color:var(--color-dataset-hgvd);background-color:var(--color-dataset-hgvd-light)}:host([data-condition-type=dataset][data-value=hgvd]) .inner::before{color:var(--color-dataset-hgvd)}:host([data-condition-type=dataset][data-value=tommo]) .inner{border-color:var(--color-dataset-tommo);background-color:var(--color-dataset-tommo-light)}:host([data-condition-type=dataset][data-value=tommo]) .inner::before{color:var(--color-dataset-tommo)}:host([data-condition-type=dataset][data-value^=ncbn]) .inner,:host([data-condition-type=genotype][data-value^=ncbn]) .inner{border-color:var(--color-dataset-ncbn);background-color:var(--color-dataset-ncbn-light)}:host([data-condition-type=dataset][data-value^=ncbn]) .inner::before,:host([data-condition-type=genotype][data-value^=ncbn]) .inner::before{color:var(--color-dataset-ncbn)}:host([data-condition-type=dataset][data-value^=gnomad_exomes]) .inner,:host([data-condition-type=dataset][data-value^=gnomad_genomes]) .inner{border-color:var(--color-dataset-foreign);background-color:var(--color-dataset-foreign-light)}:host([data-condition-type=dataset][data-value^=gnomad_exomes]) .inner::before,:host([data-condition-type=dataset][data-value^=gnomad_genomes]) .inner::before{color:var(--color-dataset-foreign)}:host([data-condition-type=significance][data-value=P]) .inner{border-color:var(--color-sign-dangerous);background-color:var(--color-sign-dangerous-light)}:host([data-condition-type=significance][data-value=P]) .inner::before{content:"P";color:var(--color-sign-dangerous)}:host([data-condition-type=significance][data-value=LP]) .inner{border-color:var(--color-sign-dangerous);background-color:var(--color-sign-dangerous-light)}:host([data-condition-type=significance][data-value=LP]) .inner::before{content:"LP";color:var(--color-sign-dangerous)}:host([data-condition-type=significance][data-value=PLP]) .inner{border-color:var(--color-sign-lowdangerous);background-color:var(--color-sign-lowdangerous-light)}:host([data-condition-type=significance][data-value=PLP]) .inner::before{content:"P";color:var(--color-sign-lowdangerous)}:host([data-condition-type=significance][data-value=LPLP]) .inner{border-color:var(--color-sign-lowdangerous);background-color:var(--color-sign-lowdangerous-light)}:host([data-condition-type=significance][data-value=LPLP]) .inner::before{content:"LP";color:var(--color-sign-lowdangerous)}:host([data-condition-type=significance][data-value=ERA]) .inner{border-color:var(--color-sign-warning);background-color:var(--color-sign-warning-light)}:host([data-condition-type=significance][data-value=ERA]) .inner::before{content:"RA";color:var(--color-sign-warning)}:host([data-condition-type=significance][data-value=LRA]) .inner{border-color:var(--color-sign-warning);background-color:var(--color-sign-warning-light)}:host([data-condition-type=significance][data-value=LRA]) .inner::before{content:"RA";color:var(--color-sign-warning)}:host([data-condition-type=significance][data-value=URA]) .inner{border-color:var(--color-sign-warning);background-color:var(--color-sign-warning-light)}:host([data-condition-type=significance][data-value=URA]) .inner::before{content:"RA";color:var(--color-sign-warning)}:host([data-condition-type=significance][data-value=US]) .inner{border-color:var(--color-sign-unknown);background-color:var(--color-sign-unknown-light)}:host([data-condition-type=significance][data-value=US]) .inner::before{content:"US";color:var(--color-sign-unknown)}:host([data-condition-type=significance][data-value=LB]) .inner{border-color:var(--color-sign-normal);background-color:var(--color-sign-normal-light)}:host([data-condition-type=significance][data-value=LB]) .inner::before{content:"LB";color:var(--color-sign-normal)}:host([data-condition-type=significance][data-value=B]) .inner{border-color:var(--color-sign-safe);background-color:var(--color-sign-safe-light)}:host([data-condition-type=significance][data-value=B]) .inner::before{content:"B";color:var(--color-sign-safe)}:host([data-condition-type=significance][data-value=CI]) .inner{border-color:var(--color-sign-modifier);background-color:var(--color-sign-modifier-light)}:host([data-condition-type=significance][data-value=CI]) .inner::before{content:"CI";color:var(--color-sign-modifier)}:host([data-condition-type=significance][data-value=DR]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=DR]) .inner::before{content:"DR";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=CS]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=CS]) .inner::before{content:"CS";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=RF]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=RF]) .inner::before{content:"RF";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=A]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=A]) .inner::before{content:"A";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=PR]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=PR]) .inner::before{content:"PR";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=AF]) .inner{border-color:var(--color-sign-other);background-color:var(--color-sign-other-light)}:host([data-condition-type=significance][data-value=AF]) .inner::before{content:"AF";color:var(--color-sign-other)}:host([data-condition-type=significance][data-value=O]) .inner{border-color:var(--color-gray);background-color:#fff}:host([data-condition-type=significance][data-value=O]) .inner::before{content:"O";border-color:var(--color-gray)}:host([data-condition-type=significance][data-value=NP]) .inner{border-color:var(--color-gray);background-color:#fff}:host([data-condition-type=significance][data-value=NP]) .inner::before{content:"NP";border-color:var(--color-gray)}:host([data-condition-type=significance][data-value=AN]) .inner{border-color:var(--color-gray);background-color:#fff}:host([data-condition-type=significance][data-value=AN]) .inner::before{content:"AN";border-color:var(--color-gray)}button.delete{display:none;border-radius:50%;border:none;color:var(--color-gray);cursor:pointer;position:relative;font-family:fontello,sans-serif;background-color:rgba(0,0,0,0);padding:0;margin-left:.2em;margin-right:-.5em}button.delete::before{content:var(--char-delete);font-size:.8em}`},5291:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{display:flex;align-items:center;white-space:nowrap}:host>.frequencygraph{width:100px;height:3.5px;background-color:var(--color-darker-gray);position:relative;margin-right:4px}:host>.frequencygraph>.scale{position:absolute;top:-1px;bottom:-1px;border-left:dotted .5px var(--color-separator)}@media(-webkit-min-device-pixel-ratio:2){:host>.frequencygraph>.scale{border-left:dotted 1px var(--color-separator)}}:host>.frequencygraph>.bar{position:absolute;height:100%;background-color:var(--color-dataset-foreign)}:host([data-dataset=gem_j_wga])>.frequencygraph>.bar{background-color:var(--color-dataset-gemj)}:host([data-dataset=jga_snp]) .frequencygraph>.bar,:host([data-dataset=jga_wes]) .frequencygraph>.bar,:host([data-dataset^=bbj_riken]) .frequencygraph>.bar,:host([data-dataset^=jga_wgs]) .frequencygraph>.bar{background-color:var(--color-dataset-jga)}:host([data-dataset=tommo])>.frequencygraph>.bar{background-color:var(--color-dataset-tommo)}:host([data-dataset=hgvd])>.frequencygraph>.bar{background-color:var(--color-dataset-hgvd)}:host([data-dataset^=ncbn])>.frequencygraph>.bar{background-color:var(--color-dataset-ncbn)}:host>.range{margin-right:.6em;width:8.8em}:host>.range>.from,:host>.range>.to{font-weight:700}:host>.filtered{margin:0;font-size:10px}:host([data-mode=alt_alt])>.frequencygraph,:host([data-mode=alt_ref])>.frequencygraph,:host([data-mode=count])>.frequencygraph,:host([data-mode=hemi_alt])>.frequencygraph{visibility:hidden}:host([data-filtered=false])>.filtered{visibility:hidden}`},1374:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}.number-input{display:flex;margin-bottom:30px;font-size:10px;align-items:center;gap:5px}.number-input input[type=number]{width:5em;margin-right:3px;font-size:inherit;display:inline-block;text-align:right;line-height:18px;padding:0 0 0 8px;border-radius:9px;border:solid 1px #94928d;box-shadow:0 1px 1px rgba(0,0,0,.2) inset;outline:0}.number-input button.inequality-sign{appearance:none;font-weight:700;background-color:#117f93;color:#fff;height:16px;width:16px;padding:0;border-radius:3px;border:none;cursor:pointer}.slider{max-width:247.5px;height:5px;position:relative;left:1px;background:#ddd}.slider .bar{height:inherit;position:absolute;left:0;right:0}.slider .ruler .scale{list-style:none;position:absolute;top:-18px;font-size:.6rem;z-index:10;line-height:1}.slider .ruler .scale::before{content:"";position:absolute;top:13px;height:14px;border-left:dotted 1px rgba(0,0,0,.3);left:.5em;display:block}.slider .threshold{display:flex}.slider .threshold .threshold-line{position:absolute;width:1px;background-color:rgba(0,0,0,.5)}.slider .threshold .threshold-button{position:absolute;font-size:.6rem;z-index:10;cursor:pointer;border:.5px solid #444;border-radius:8px;margin-left:5px;padding:3px}.slider .threshold .threshold-button:hover{background-color:#444;color:#fff}.slider .threshold .threshold-button:active{opacity:.7}.range-input{position:relative}.range-input input[type=range]{position:absolute;top:-5px;width:100%;max-width:250px;height:5px;background:0 0;pointer-events:none;-webkit-appearance:none;-moz-appearance:none}.range-input input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;height:1em;width:3px;border-top:solid 1px rgba(0,0,0,.5);border-bottom:solid 1px rgba(0,0,0,.5);pointer-events:auto;margin-top:-.2em;cursor:col-resize}.range-input .from[type=range]::-webkit-slider-thumb{transform:translateX(-3px);border-right:solid 1px rgba(0,0,0,.5)}.range-input .to[type=range]::-webkit-slider-thumb{transform:translateX(-1px);border-left:solid 1px rgba(0,0,0,.5)}.range-input input[type=range]::-moz-range-thumb{-moz-appearance:none;height:1em;width:3px;pointer-events:auto;margin-top:-.2em;cursor:col-resize}`},9930:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{position:absolute;top:0;left:142px;display:flex;align-items:center;white-space:nowrap}:host>.pathogenicity-graph{position:relative;width:100px;height:3.5px;background-color:var(--color-darker-gray);margin-right:5px}:host>.pathogenicity-graph>.ruler{list-style:none}:host>.pathogenicity-graph>.ruler>.scale{position:absolute;top:-1px;bottom:-1px;border-left:dotted .5px var(--color-separator)}@media(-webkit-min-device-pixel-ratio:2){:host>.pathogenicity-graph>.ruler>.scale{border-left:dotted 1px var(--color-separator)}}:host>.pathogenicity-graph>.bar{position:absolute;height:100%;background-color:var(--color-gray)}:host>.range{display:flex;gap:5px;align-items:center}:host>.range .text{font-size:10px}:host>.range>.from,:host>.range>.to{font-weight:700}`},839:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}.title{color:#117f93;font-size:12px;font-weight:400;line-height:16px;margin:4px 0 0;padding:5px 18px 0}.title:first-letter{text-transform:capitalize}.list{margin:10px 0;padding-left:0;list-style:none;overflow-y:scroll;max-height:300px}.list>.item{cursor:pointer;padding:0 18px;height:24px;line-height:24px;transition:background-color .2s}.list>.item>em{background-color:var(--color-suggest);font-style:normal}.list>.item:first-child{padding-top:4px}.list>.item:hover{background-color:rgba(255,221,0,.2)}.list>.item.-disabled{cursor:auto}.list>.item.-disabled:hover{background-color:inherit}.list>.item>.sub{padding-left:.5em;color:rgba(68,68,68,.5);font-size:12px}.list>.item.-selected{background-color:#fd0}.list>.item.-empty{padding:.5rem;text-align:center;color:rgba(68,68,68,.5)}`},9511:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{position:relative;display:block}.suggestions-container{position:absolute;top:100%;left:14px;display:flex;z-index:10200;color:#444;font-size:14px;box-shadow:0 2px 6px rgba(0,0,0,.2);background-color:#fff;max-width:50%;min-width:fit-content}.suggestions-container>.column+.column{border-left:solid 1px rgba(0,0,0,.2)}`},4988:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}.fieldcontainer{box-sizing:border-box}.fieldcontainer>.field{position:relative;margin-bottom:4px;height:30px}.fieldcontainer>.field>.input-form>.searchfield[type=text]{font-family:"Roboto Condensed",sans-serif;box-sizing:border-box;width:100%;line-height:30px;border:solid 1px #0f6272;border-radius:15px;padding:0 12px;vertical-align:center;font-size:12px;outline:0;opacity:.9;box-shadow:0 1px 1px rgba(0,0,0,.2) inset}.fieldcontainer>.field>.input-form>.searchfield[type=text]:focus{opacity:1}.fieldcontainer>.field>.input-form>.delete{position:absolute;top:6px;right:23px;color:var(--color-gray);border:none;background-color:rgba(0,0,0,0);cursor:pointer}.fieldcontainer>.field>.input-form>.delete:after{font-family:fontello;content:var(--char-delete);position:absolute;font-size:1.2rem}.fieldcontainer>.field>.input-form .searchfield:not(:valid)~.delete{display:none}`},4165:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}button{display:block;width:30px;height:30px;border:solid 1px #117f93;border-radius:100%;margin-right:-4px;position:relative;background-color:#fff;box-shadow:0 1px 1px rgba(0,0,0,.2);cursor:pointer}button:after,button:before{content:"";display:block;position:absolute;box-sizing:border-box}button:before{width:12px;height:12px;border:solid 2px #117f93;border-radius:6px;top:6px;left:6px}button:after{height:5px;border-left:solid 2px #117f93;transform:rotate(-45deg);top:16px;left:17px}`},3078:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host{display:flex;gap:.2em;flex-wrap:wrap;align-items:center;height:fit-content;margin-top:.2rem}dl{font-size:12px;line-height:16px;margin-bottom:0;padding:0 .5em;display:inline-block;margin-block-start:0;border-radius:8px;cursor:pointer;transition:background-color .2s,box-shadow .2s}dl>dd,dl>dt{display:inline-block;margin-bottom:0;color:#fff;transition:color .2s}dl>dt{font-weight:400;opacity:.6}dl>dt:after{content:":"}dl>dd{margin-inline-start:.2em}dl:hover{background-color:#0f6272}`},7096:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`.simple-search-container{display:flex;gap:.2rem;align-items:center}.simple-search-container>search-field-with-suggestions{flex:1}`},3882:function(e,t,i){"use strict";i.r(t);var a=i(6337);t.default=a.css`:root{--color-key:#62d5d9;--color-key-dark1:#117f93;--color-key-dark2:#0f6272;--color-key-dark3:#125263;--color-black:#444;--color-gray:#94928d;--color-pale-gray:hsl(42.8571428571, 3.1674208145%, 101.6666666667%);--color-light-gray:rgb(234.4230769231, 234.0384615385, 233.0769230769);--color-darker-gray:#dbdbdb;--color-selected:#ffdd00;--color-selected-hover:rgba(255, 221, 0, 0.2);--color-selected-light:#fdfae5;--color-singleton:rgb(255, 244.8, 178.5);--color-homozygote:#ff5a54;--color-suggest:#ffff50;--color-disable:#999999;--color-disable-deep:#808080;--color-separator:rgba(0, 0, 0, 0.3);--color-separator-sub:rgba(0, 0, 0, 0.2);--color-mutation-ref:#249eb3;--color-mutation-alt:#ff6682;--color-dataset-gemj:#dc2828;--color-dataset-gemj-light:rgb(252.13, 237.37, 237.37);--color-dataset-jga:#62d5d9;--color-dataset-jga-light:rgb(241.7153846154, 251.4461538462, 251.7846153846);--color-dataset-tommo:#ca678d;--color-dataset-tommo-light:hsl(336.9696969697, 48.2926829268%, 109.8039215686%);--color-dataset-hgvd:#005b80;--color-dataset-hgvd-light:rgb(230, 247.7734375, 255);--color-dataset-ncbn:#234b7c;--color-dataset-ncbn-light:hsl(213.0337078652, 55.9748427673%, 101.1764705882%);--color-dataset-bbj:#ff993f;--color-dataset-bbj-light:rgb(255, 247.828125, 241.5);--color-dataset-foreign:#94928d;--color-dataset-foreign-light:rgb(246.7692307692, 246.6153846154, 246.2307692308);--color-sign-safe:#04af58;--color-sign-safe-light:rgb(230.5586592179, 254.4413407821, 242.2905027933);--color-sign-normal:#9dcf3a;--color-sign-normal-light:rgb(242.68, 248.9657142857, 230.2342857143);--color-sign-warning:#ffae00;--color-sign-warning-light:rgb(255, 246.9, 229.5);--color-sign-lowdangerous:#ff953c;--color-sign-lowdangerous-light:rgb(255, 226.6246153846, 202.8);--color-sign-dangerous:#ff5a54;--color-sign-dangerous-light:rgb(255, 237.6315789474, 237);--color-sign-modifier:#c654ff;--color-sign-modifier-light:#f9edff;--color-sign-other:#9c8200;--color-sign-other-light:#fff7cf;--color-sign-unknown:#bbba7e;--color-sign-unknown-light:rgb(248.614213198, 248.5203045685, 242.885786802);--height-inline:18px;--height-advanced-search-condition-values-container:24px;--height-advanced-search-condition-value:18px;--z-index-base:10000;--z-index-layout-aside:calc(var(--z-index-base) + 100);--z-index-row-indicator:calc(var(--z-index-base) + 100);--z-index-advanced-search-menu:calc(var(--z-index-base) + 100);--z-index-detail-header:calc(var(--z-index-base) + 100);--z-index-module-tabs-view:calc(var(--z-index-base) + 200);--z-index-global-header:calc(var(--z-index-base) + 200);--z-index-suggest-view:calc(var(--z-index-base) + 200);--z-index-drawer:calc(var(--z-index-base) + 300);--z-index-configuration:calc(var(--z-index-base) + 400);--z-index-editing-condition:calc(var(--z-index-base) + 400);--z-index-activity-indicator:calc(var(--z-index-base) + 500);--char-TIMES:"";--char-INFO_CIRCLE:"";--char-ARROW_RIGHT:"";--char-ARROW_DOWN:"";--char-CARET-UP:"";--char-CARET-DOWN:"";--char-EXCRAMATION_TRIANGLE:"";--char-EXTERNAL_LINK:"";--char-ARROW_CIRCLE_RIGHT:"";--char-WRENCH:"";--char-CHECK:"";--char-dataset:"";--char-logical-op-and:"";--char-logical-op-or:"";--char-logical-op-outline:"";--char-edit:"";--char-delete:"";--char-group:"";--char-ungroup:"";--char-copy:""}:host ul[role=tablist]{font-size:12px;font-weight:700;list-style:none;margin:0;padding:0;padding-left:10px;display:flex;gap:.1rem;background:#e2e2e2}:host ul[role=tablist] li{list-style:none}:host ul[role=tablist] li a{padding:3px 8px;display:block;text-decoration:none;color:#444;border-radius:7px 7px 0 0;margin-top:5px;outline:0}:host ul[role=tablist] li a[aria-selected=true]{background-color:#fff}:host .tab-panel{padding:10px}`},5640:function(e,t,i){"use strict";var a,n=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),s=0;s<i.length;s++)"default"!==i[s]&&n(t,e,i[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.executeSearch=void 0;const r=i(5833),l=s(i(5373)),c=s(i(2543)),d=i(216),h=100,u=i(3522);let g=null,p=null;const f=new Set;function b(e,t){const i=Math.round(e/(t/2))*(t/2)-t/4;return Math.max(0,i)}t.executeSearch=(()=>{let e=!1;return c.debounce((t=0,i=!1)=>{if(e&&!i)return;const a=r.storeManager.getData("searchMode");if(g&&g.abort(),p&&p!==a)p=a,i=!0,f.clear();else{const e=t-t%h,i=`${e}-${e+h}`;if("simple"===r.storeManager.getData("searchMode")){if(f.has(i))return;f.add(i)}}p=a,g=new AbortController;const n=g.signal;i&&(r.storeManager.setData("numberOfRecords",0),r.storeManager.setData("offset",0),r.storeManager.setData("rowCount",0),r.storeManager.setData("isFetching",!1),r.storeManager.setData("searchResults",[]),f.clear(),f.clear()),r.storeManager.setData("isFetching",!0),e=!0;const o=function(e,t){let i,a="";switch(r.storeManager.getData("searchMode")){case"simple":{const n=e-e%h;return a=l.stringify((0,u.extractSearchCondition)(r.storeManager.getData("simpleSearchConditions"))),i=`${d.API_URL}/search?offset=${n}${a?"&"+a:""}`,t?[`${i}&stat=0&data=1`,`${i}&stat=1&data=0`]:[`${i}&stat=0&data=1`]}case"advanced":return i=`${d.API_URL}/api/search/variant`,t?[`${i}?stat=0&data=1`,`${i}?stat=1&data=0`]:[`${i}?stat=0&data=1`];default:return[]}}(t,i),s=function(e){if("simple"===r.storeManager.getData("searchMode"))return{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",signal:e};const t={offset:b(r.storeManager.getData("offset"),h)};r.storeManager.getData("advancedSearchConditions")&&Object.keys(r.storeManager.getData("advancedSearchConditions")).length>0&&(t.query=r.storeManager.getData("advancedSearchConditions"));return{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},mode:"cors",signal:e,body:JSON.stringify(t)}}(n);o&&o.length>0?Promise.all(o.map(e=>async function(e,t){try{const a=await fetch(e,t);if(!a.ok)throw new Error({400:"INVALID_REQUEST",401:"UNAUTHORIZED",404:"NOT_FOUND",500:"INTERNAL_SERVER_ERROR",502:"BAD_GATEWAY"}[a.status]||"UNKNOWN_ERROR");const n=await a.json(),o=new URL(e),s=Object.fromEntries(o.searchParams.entries());p===r.storeManager.getData("searchMode")&&("1"===s.data&&function(e){const t=Array.isArray(e?.data)?e.data:[],i="number"==typeof e?.scroll?.offset?e.scroll.offset:0;Array.isArray(e?.data)||console.error("[search] Unexpected result shape (no data array):",e);r.storeManager.setResults(t,i)}(n),"1"===s.stat&&(i=n,r.storeManager.setData("searchStatus",{available:Math.min(i.statistics.filtered,i.scroll.max_rows),filtered:i.statistics.filtered,total:i.statistics.total}),r.storeManager.setData("numberOfRecords",r.storeManager.getData("searchStatus").available),r.storeManager.setData("statisticsDataset",i.statistics.dataset),r.storeManager.setData("statisticsSignificance",i.statistics.significance),r.storeManager.setData("statisticsType",i.statistics.type),r.storeManager.setData("statisticsConsequence",i.statistics.consequence))),n.notice||n.warning||n.error?r.storeManager.setData("searchMessages",{notice:n.notice?.join?.("<br>"),warning:n.warning?.join?.("<br>"),error:n.error?.join?.("<br>")}):r.storeManager.setData("searchMessages","")}catch(e){if(console.error(e),e instanceof Error&&"AbortError"===e.name){const e=new Error("ABORTED");throw e.name="AbortError",e}throw e}var i}(e,s))).then(()=>{r.storeManager.setData("isFetching",!1),e=!1,async function(){switch(r.storeManager.getData("searchMode"),r.storeManager.getData("searchMode")){case"simple":r.storeManager.getData("simpleSearchConditions").term&&document.body.setAttribute("data-has-conditions","true");break;case"advanced":{const e=r.storeManager.getData("advancedSearchConditions");document.body.toggleAttribute("data-has-conditions",e&&Object.keys(e).length>0);break}}r.storeManager.publish("offset"),r.storeManager.publish("searchResults"),r.storeManager.setData("appStatus","normal")}()}).catch(t=>{t instanceof Error&&"AbortError"===t.name||(r.storeManager.setData("isFetching",!1),e=!1,r.storeManager.setData("searchMessages",{error:t}))}):(r.storeManager.setData("isFetching",!1),e=!1)},300)})()},7204:function(e,t,i){"use strict";t.D=void 0;const a=i(3522),n=i(6617),o=i(5234),s=i(5325),r=i(2736),l=i(3494),c=i(8332);t.D=class{constructor(e){this._advancedSearchBuilderEl=e,this._container=(0,c.selectRequired)(e,":scope > .inner"),this._rootGroup=new n.ConditionGroupView(this,this._container,"and",[],null,!0),this._toolbar=new s.AdvancedSearchToolbar(this,this._rootGroup.makeToolbar()),this._selection=new r.AdvancedSearchSelection(this)}selectedConditionViews(e){this.onSelectionChange(e)}onSelectionChange(e){const t=this._computeSelectionCapabilities(e);this._applyCapabilitiesToDataset(t)}_computeSelectionCapabilities(e){const t=e.length;if(0===t)return{canDelete:!1,canGroup:!1,canUngroup:!1,canCopy:!1};const i=new Set(e.map(e=>e.parentGroup).filter(Boolean)),a=1===t,n=e[0],o=a&&(!0===n.canUngroup||n.conditionNodeKind===l.CONDITION_NODE_KIND.group);return{canDelete:!0,canGroup:t>1&&1===i.size&&(()=>{const e=i.values().next().value.childViews.length;return t<e})(),canUngroup:o,canCopy:a&&(!0===n.canCopy||n.conditionNodeKind===l.CONDITION_NODE_KIND.condition)}}_setFlag(e,t){this._advancedSearchBuilderEl.dataset[e]=String(t)}_applyCapabilitiesToDataset(e){this._setFlag("canDelete",e.canDelete),this._setFlag("canGroup",e.canGroup),this._setFlag("canUngroup",e.canUngroup),this._setFlag("canCopy",e.canCopy)}changeCondition(){this._submitAdvancedSearchCondition()}group(){const e=this._selection.getSelectedConditionViews();if(0===e.length)throw new Error("No condition views selected to group.");const t=new Set(e.map(e=>e.parentGroup).filter(Boolean));if(1!==t.size)return;const i=t.values().next().value,a=i.childViews;let n=null,o=1/0;for(const t of e){const e=a.indexOf(t);e>=0&&e<o&&(o=e,n=t.rootEl)}const s=i.addNewConditionGroup(e,n);this._selection.selectConditionView(s,!0),this.changeCondition()}ungroup(){const e=this._selection.getSelectedConditionViews();if(0===e.length)return;e.forEach(e=>this._selection.deselectConditionView(e));const t=e[0];(0,o.isGroupView)(t)&&(t.ungroup(),this.changeCondition())}deleteCondition(e){const t=e??this._selection.getSelectedConditionViews();if(0!==t.length){for(const e of t)e.remove(),this._selection.deselectConditionView(e);this.changeCondition()}}_submitAdvancedSearchCondition(){const e=this._rootGroup.queryFragment;(0,a.setAdvancedSearchCondition)(e)}addCondition(e,t){const i=this._selection.getSelectedConditionViews(),a=i.length>0?i[0]:this._rootGroup;this._selection.deselectAllConditions(),a.conditionNodeKind===l.CONDITION_NODE_KIND.condition?a.parentGroup?.addNewConditionItem(e,a.rootEl.nextSibling,t):a.conditionNodeKind===l.CONDITION_NODE_KIND.group&&(0,o.isGroupView)(a)&&a.addNewConditionItem(e,null,t)}get container(){return this._container}get selection(){return this._selection}destroy(e){this._toolbar?.destroy({clearDom:e?.clearDom}),this._rootGroup?.remove()}}},2736:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedSearchSelection=void 0;const a=i(8332),n=i(5234),o="aria-selected";t.AdvancedSearchSelection=class{constructor(e){this._builder=e,this._rootContainer=(0,a.selectRequired)(this._builder.container,":scope > .advanced-search-condition-group-view.-root > .container")}getSelectedConditionViews(){const e=Array.from(this._selectedNodeList());return e.sort((e,t)=>{const i=e.compareDocumentPosition(t);return i&Node.DOCUMENT_POSITION_PRECEDING?1:i&Node.DOCUMENT_POSITION_FOLLOWING?-1:0}),e.map(e=>n.viewByEl.get(e)).filter(e=>!!e)}selectConditionView(e,t=!0){t&&this.deselectAllConditions();const i=e.rootEl.parentElement,a=this.getSelectedConditionViews();for(const e of a)e.rootEl.parentElement!==i&&this._unmarkSelected(e);this._markSelected(e),this._notifyBuilder()}deselectConditionView(e){this._unmarkSelected(e),this._notifyBuilder()}deselectAllConditions(){this._selectedNodeList().forEach(e=>{const t=n.viewByEl.get(e);t&&this._unmarkSelected(t)}),this._notifyBuilder()}_selectedNodeList(){return this._rootContainer.querySelectorAll('.advanced-search-condition-view[aria-selected="true"]')}_markSelected(e){e.select(),e.rootEl.setAttribute(o,"true")}_unmarkSelected(e){e.deselect(),e.rootEl.removeAttribute(o)}_notifyBuilder(){this._builder.onSelectionChange(this.getSelectedConditionViews())}}},5325:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedSearchToolbar=void 0;const a=i(216),n=i(3493),o=[{command:"group",label:"Group",shortcut:[71]},{command:"ungroup",label:"Ungroup",shortcut:[16,71]},{command:"delete",label:"Delete",shortcut:[46]}];function s(e){const t={16:"Shift",46:"Del"};return e.map(e=>t[e]??String.fromCharCode(e)).join("+")}t.AdvancedSearchToolbar=class{constructor(e,t){this._usesSignal=!1,this._disposed=!1,this._events=new AbortController,this._onClick=e=>{if(e instanceof MouseEvent&&0!==e.button)return;const t=e.target;if(!(t instanceof Element))return;const i=t.closest(".command");if(!i)return;if(e.stopPropagation(),"true"===i.getAttribute("aria-disabled"))return;const a=i.dataset.command,n=i.dataset.condition;a&&this._handleCommand(a,n,e)},this._onKeydown=e=>{const t=e.target;if(!(t instanceof Element))return;const i=t.closest(".command");if(i&&("Enter"===e.key||" "===e.key)){e.preventDefault(),e.stopPropagation();const t=i.dataset.command,a=i.dataset.condition;if(!t)return;this._handleCommand(t,a)}},this._builder=e,this._toolbar=t,this._initializeToolbar(),this._attachEventDelegation()}_initializeToolbar(){const e=this._toolbar;e.classList.add("advanced-search-toolbar");const t=Object.keys(a.ADVANCED_CONDITIONS).map((e,t)=>{const i=a.ADVANCED_CONDITIONS[e],o=(i&&"object"==typeof i&&"label"in i?String(i.label):e)??e;return(0,n.createEl)("li",{class:"command",attrs:{tabindex:"0",role:"button"},dataset:{command:"add-condition",condition:e,shortcut:String(t+1)},children:[(0,n.createEl)("p",{text:o}),(0,n.createEl)("small",{class:"shortcut",children:[(0,n.createEl)("span",{class:["char","-command"]}),String(t+1)]})]})}),i=(0,n.createEl)("li",{class:"-haschild",children:[(0,n.createEl)("p",{text:"Add condition"}),(0,n.createEl)("ul",{children:t})]}),r=o.map(e=>(0,n.createEl)("li",{class:"command",attrs:{tabindex:"0",role:"button"},dataset:{command:e.command},children:[(0,n.createEl)("p",{children:[e.label,(0,n.createEl)("small",{class:"shortcut",children:[(0,n.createEl)("span",{class:["char","-command"]}),String(s(e.shortcut))]})]})]})),l=(0,n.createEl)("ul",{children:[i,...r]});e.replaceChildren(l)}_attachEventDelegation(){try{this._toolbar.addEventListener("click",this._onClick,{signal:this._events.signal}),this._toolbar.addEventListener("keydown",this._onKeydown,{signal:this._events.signal}),this._usesSignal=!0}catch{this._toolbar.addEventListener("click",this._onClick),this._toolbar.addEventListener("keydown",this._onKeydown),this._usesSignal=!1}}_handleCommand(e,t,i){switch(e){case"add-condition":{if(!t)return;const e=i instanceof CustomEvent?i.detail:void 0;this._builder.addCondition(t,e);break}case"group":this._builder.group();break;case"ungroup":this._builder.ungroup();break;case"delete":this._builder.deleteCondition(this._builder.selection.getSelectedConditionViews())}}destroy(e){this._disposed||(this._usesSignal?this._events.abort():(this._toolbar.removeEventListener("click",this._onClick),this._toolbar.removeEventListener("keydown",this._onKeydown)),e?.clearDom&&this._toolbar.replaceChildren(),this._builder=null,this._toolbar=null,this._disposed=!0)}}},6617:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionGroupView=void 0;const a=i(5234),n=i(8421),o=i(3494),s=i(3493),r=":scope > .advanced-search-condition-view";class l extends a.BaseConditionView{constructor(e,t,i="and",a=[],n=null,s=!1){super(e,t,n),this.conditionNodeKind=o.CONDITION_NODE_KIND.group,this._events=new AbortController,this._isRoot=s,this.rootEl.classList.add("advanced-search-condition-group-view"),s&&this.rootEl.classList.add("-root"),this._buildDOM(),this.logicalOperator=i,this._attachEvents();for(const e of a)this._childContainerEl.append(e.rootEl);this._mutationObserver=this._createChildObserver(),this._syncNumberOfChildren()}makeToolbar(){const e=(0,s.createEl)("nav",{class:"advanced-search-toolbar-host"});return this.rootEl.append(e),e}addNewConditionItem(e,t=null,i){const a=new n.ConditionItemView(this._builder,this,e,t,i);return this._syncNumberOfChildren(),a}addNewConditionGroup(e,t){const i=new l(this._builder,this._childContainerEl,"and",e,t??null,!1);return this._syncNumberOfChildren(),i}ungroup(){const e=Array.from(this._childContainerEl.querySelectorAll(r)),t=this.parentGroup;t&&t.addConditionViews(e,this.rootEl),this.remove()}addConditionViews(e,t){for(const i of e)this._childContainerEl.insertBefore(i,t);this._syncNumberOfChildren()}removeConditionView(e){e.rootEl.remove(),this._syncNumberOfChildren()}remove(){this._mutationObserver?.disconnect(),this._events.abort(),super.remove()}get container(){return this._childContainerEl}get childViews(){return Array.from(this._childContainerEl.querySelectorAll(r)).map(e=>a.viewByEl.get(e)).filter(Boolean)}get logicalOperator(){return"or"===(this._logicalOperatorSwitch.dataset.operator??"and")?"or":"and"}set logicalOperator(e){this._logicalOperatorSwitch.dataset.operator=e,this._logicalOperatorSwitch.setAttribute("aria-checked",String("or"===e))}get queryFragment(){const e=this.childViews;switch(e.length){case 0:return{};case 1:return e[0].queryFragment;default:{const t=e.map(e=>e.queryFragment).filter(e=>null!=e&&("object"!=typeof e||0!==Object.keys(e).length));return 0===t.length?{}:1===t.length?t[0]:{[this.logicalOperator]:t}}}}_buildDOM(){this._logicalOperatorSwitch=(0,s.createEl)("div",{class:"logical-operator-switch",attrs:{role:"switch","aria-label":"Toggle logical operator","aria-checked":"false",tabindex:"0"}}),this._childContainerEl=(0,s.createEl)("div",{class:"container"}),this.rootEl.replaceChildren(this._logicalOperatorSwitch,this._childContainerEl)}_attachEvents(){const{signal:e}=this._events;this._isRoot||this.rootEl.addEventListener("click",this._toggleSelection.bind(this),{signal:e}),this._logicalOperatorSwitch.addEventListener("click",e=>{e.stopPropagation(),this.logicalOperator="and"===this.logicalOperator?"or":"and",this._notifyChanged()},{signal:e}),this._logicalOperatorSwitch.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),this.logicalOperator="and"===this.logicalOperator?"or":"and",this._notifyChanged())},{signal:e})}_notifyChanged(){this._builder.changeCondition()}_createChildObserver(){const e=new MutationObserver(()=>{this._syncNumberOfChildren(),!this._isRoot&&this._numberOfChildren<=1&&(e.disconnect(),this.ungroup(),this.rootEl.isConnected&&e.observe(this._childContainerEl,{childList:!0,subtree:!1}))});return e.observe(this._childContainerEl,{childList:!0,subtree:!1}),e}_syncNumberOfChildren(){this.rootEl.dataset.numberOfChild=String(this._numberOfChildren)}get _numberOfChildren(){return this._childContainerEl.querySelectorAll(r).length}}t.ConditionGroupView=l},8421:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionItemView=void 0;const n=i(5234),o=a(i(4009)),s=i(5833),r=i(6209),l=i(216),c=i(3494),d=i(6305),h=i(4405),u=i(3493);class g extends n.BaseConditionView{constructor(e,t,i,a=null,n){super(e,t.container,a??document.createTextNode("")),this.conditionNodeKind=c.CONDITION_NODE_KIND.condition,this._isFirstTime=!0,this._keepLastRelation="eq",this._events=new AbortController,this._keydownEscapeEvent=e=>{"Escape"===e.key&&s.storeManager.getData("showModal")&&(0,d.keyDownEvent)("showModal")&&(this._isFirstTime?this.remove():(this._revertChanges(),this.doneEditing()))},this._conditionType=i,this._relationSupported=(0,r.supportsRelation)(i),this._initializeHTML(),this._conditionValues=new o.default(this,n),this._attachEventDelegation(),this._enterEditMode()}doneEditing(){this.rootEl.classList.remove("-editing"),this._isFirstTime=!1,this._toggleGlobalKeydown(!1),s.storeManager.setData("showModal",!1),this._builder.changeCondition()}remove(){this._toggleGlobalKeydown(!1),this._events.abort(),s.storeManager.setData("showModal",!1),super.remove()}updateClassificationText(e){this._classificationEl&&(this._classificationEl.textContent=e)}get conditionType(){return this._conditionType}get valuesContainerEl(){return this._valuesContainerEl}get editorElement(){return this._editorEl}get isFirstTime(){return this._isFirstTime}get keepLastRelation(){return this._keepLastRelation}get queryFragment(){const e=Array.from(this._valuesContainerEl.querySelectorAll(":scope > condition-item-value-view"));if((0,r.supportsRelation)(this._conditionType)){const t=this._conditionType,i=this._readRelation()??"eq";return(0,h.buildQueryFragment)({type:t,relation:i,values:e,valuesContainer:this._valuesContainerEl})}{const t=this._conditionType;return(0,h.buildQueryFragment)({type:t,values:e,valuesContainer:this._valuesContainerEl})}}_initializeHTML(){this.rootEl.classList.add("advanced-search-condition-item-view"),this.rootEl.dataset.classification=this._conditionType,this._relationSupported?this.rootEl.dataset.relation="eq":delete this.rootEl.dataset.relation;const{body:e,bg:t}=this._generateDOM();this.rootEl.replaceChildren(e,t),this._setRelation(this._readRelation())}_generateDOM(){const e=l.ADVANCED_CONDITIONS[this._conditionType],t=this._relationSupported?this._relationEl=(0,u.createEl)("div",{class:"relation",attrs:{role:"button","aria-label":"Toggle relation",tabindex:"0"}}):null;this._summaryEl=(0,u.createEl)("div",{class:"summary",children:[this._classificationEl=(0,u.createEl)("div",{class:"classification",text:e.label}),...t?[t]:[],this._valuesContainerEl=(0,u.createEl)("div",{class:"values-container"}),(0,u.createEl)("div",{class:"buttons",children:[this._btnEdit=(0,u.createEl)("button",{class:"edit",attrs:{type:"button",title:"Edit","aria-label":"Edit"}}),this._btnDelete=(0,u.createEl)("button",{class:"delete",attrs:{type:"button",title:"Delete","aria-label":"Delete"}})]})]});return{body:(0,u.createEl)("div",{class:"body",children:[this._summaryEl,this._editorEl=(0,u.createEl)("div",{class:"advanced-search-condition-editor-view"})]}),bg:(0,u.createEl)("div",{class:"bg"})}}_attachEventDelegation(){const{signal:e}=this._events;this.rootEl.addEventListener("click",e=>e.stopPropagation(),{signal:e}),this._btnDelete.addEventListener("click",e=>{e.stopPropagation(),this._builder.deleteCondition([this])},{signal:e}),this._btnEdit.addEventListener("click",e=>{e.stopPropagation(),this._enterEditMode()},{signal:e}),this._relationSupported&&this._relationEl&&(this._relationEl.addEventListener("click",e=>{e.stopPropagation(),this._toggleRelation()},{signal:e}),this._relationEl.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),e.stopPropagation(),this._toggleRelation())},{signal:e})),this._summaryEl.addEventListener("click",e=>{e.target.closest("button, .relation")||this._toggleSelection(e)},{signal:e})}_toggleRelation(){if(!this._relationSupported)return;const e="eq"===(this._readRelation()??"eq")?"ne":"eq";this._setRelation(e),s.storeManager.getData("showModal")||(this._keepLastRelation=e,this._builder.changeCondition())}_readRelation(){if(!this._relationSupported)return;const e=this.rootEl.dataset.relation;return"eq"===e||"ne"===e?e:void 0}_setRelation(e){this._relationSupported?(e||(e="eq"),this.rootEl.dataset.relation=e,this._relationEl&&this._relationEl.setAttribute("aria-pressed",String("ne"===e))):delete this.rootEl.dataset.relation}_enterEditMode(){this.rootEl.classList.add("-editing"),this._conditionValues.startToEditCondition(),s.storeManager.setData("showModal",!0),this._toggleGlobalKeydown(!0)}_toggleGlobalKeydown(e){const t=this._keydownEscapeEvent;e?window.addEventListener("keydown",t,{signal:this._events.signal}):window.removeEventListener("keydown",t)}_revertChanges(){for(const e of this._conditionValues.editors)e.restore();this._setRelation(this._relationSupported?this._keepLastRelation:void 0)}}t.ConditionItemView=g},417:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditor=void 0;const a=i(3493),n=i(8332);t.ConditionValueEditor=class{constructor(e,t){this._conditionValues=e,this._conditionItemView=t,this._sectionEl=null}createSectionEl(e,t){const i=(0,a.createEl)("section",{class:e,dataset:{conditionType:String(this.conditionType)}});if("string"==typeof t)i.innerHTML=t;else{const e="function"==typeof t?t():t instanceof DocumentFragment?[t]:t,a=document.createDocumentFragment();for(const t of e)a.append(t instanceof Node?t:document.createTextNode(String(t)));i.append(a)}return this._conditionValues.sections.append(i),this._sectionEl=i,i}addValueView(e,t,i=!1,a=!1){const o=i?"":`[data-value="${e}"]`;let s=(0,n.selectOrNull)(this.valuesContainerEl,`condition-item-value-view${o}`);return s||(s=document.createElement("condition-item-value-view"),s.conditionType=this.conditionType,s.deleteButton=a,this.valuesContainerEl.append(s)),s.label=t,s.value=e,s}removeValueView(e){const t=e?`[data-value="${e}"]`:"",i=(0,n.selectOrNull)(this.valuesContainerEl,`condition-item-value-view${t}`);i&&i.remove()}get sectionEl(){if(!this._sectionEl)throw new Error("not mounted yet");return this._sectionEl}get bodyEl(){return(0,n.selectRequired)(this.sectionEl,":scope > .body","ConditionValueEditor.bodyEl")}get conditionItemView(){return this._conditionItemView}get conditionValues(){return this._conditionValues}get conditionType(){return this._conditionItemView.conditionType}get valuesContainerEl(){return this._conditionItemView.valuesContainerEl}get conditionItemValueViews(){return Array.from(this.valuesContainerEl.querySelectorAll(":scope > condition-item-value-view"))}applyOptions(e){}}},3508:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorCheckboxes=void 0;const a=i(3493),n=i(417),o=i(216);class s extends n.ConditionValueEditor{constructor(e,t){super(e,t),this._checkboxes=[],this._lastValues=[];const i=o.ADVANCED_CONDITIONS.type;if(!i)throw new Error("type condition not found");this.createSectionEl("checkboxes-editor-view",()=>[(0,a.createEl)("header",{text:`Select ${this.conditionType}`}),(0,a.createEl)("div",{class:"buttons",children:[(0,a.createEl)("button",{class:["button-view","-weak"],text:"Select all"}),(0,a.createEl)("button",{class:["button-view","-weak"],text:"Clear all"})]}),(0,a.createEl)("ul",{class:["checkboxes","body"],children:i.values.map(e=>(0,a.createEl)("li",{dataset:{value:e.value},children:[(0,a.createEl)("label",{children:[(0,a.createEl)("input",{attrs:{type:"checkbox"},domProps:{value:e.value},dataset:{label:e.label}})," ",e.label]})]}))})]),this._checkboxes=Array.from(this.sectionEl.querySelectorAll(':scope > ul > li > label > input[type="checkbox"]')),this._checkboxes.forEach(e=>{e.addEventListener("change",()=>this._update())}),this.sectionEl.querySelectorAll(":scope > .buttons > button").forEach((e,t)=>{e.addEventListener("click",()=>{const e=0===t;this._checkboxes.forEach(t=>t.checked=e),this._update()})})}keepLastValues(){const e=Array.from(this.valuesContainerEl.querySelectorAll(":scope > condition-item-value-view"));this._lastValues=e.map(e=>e.value)}restore(){this._checkboxes.forEach(e=>{e.checked=this._lastValues.includes(e.value)}),this._update()}get isValid(){return this._checkboxes.some(e=>e.checked)}_update(){this._checkboxes.forEach(e=>{const t=e.dataset.label??e.value;e.checked?this.addValueView(e.value,t):this.removeValueView(e.value)}),this.conditionValues.update(this.isValid)}}t.ConditionValueEditorCheckboxes=s},1253:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorClinicalSignificance=void 0;const a=i(3493),n=i(417),o=i(216),s=e=>`Select ${e}`,r="Select all",l="Clear all",c="MGeND",d="Clinvar";class h extends n.ConditionValueEditor{constructor(e,t){super(e,t),this._checkboxes=[],this._values={mgend:[],clinvar:[]},this._lastValues={mgend:[],clinvar:[]};const i=o.ADVANCED_CONDITIONS.significance;if(!i)throw new Error("Missing condition definition: significance");this.createSectionEl("clinical-significance-view",()=>[(0,a.createEl)("header",{text:s(this.conditionType)}),(0,a.createEl)("div",{class:"buttons",children:[(0,a.createEl)("button",{class:["button-view","-weak"],text:r}),(0,a.createEl)("button",{class:["button-view","-weak"],text:l})]}),(0,a.createEl)("div",{class:["dataset-title","mgend"],text:c}),this._mgendUl=(0,a.createEl)("ul",{class:["checkboxes","body"],dataset:{type:"clinical-significance",source:"mgend"}}),(0,a.createEl)("hr"),(0,a.createEl)("div",{class:["dataset-title","clinvar"],text:d}),this._clinvarUl=(0,a.createEl)("ul",{class:["checkboxes","body"],dataset:{type:"clinical-significance",source:"clinvar"}})]);const n=this._filterValues(i.values.mgend,"mgend"),h=this._filterValues(i.values.clinvar,"clinvar");this._mgendUl.append(...this._generateCheckboxListNodes(n,"mgend")),this._clinvarUl.append(...this._generateCheckboxListNodes(h,"clinvar")),this._checkboxes=Array.from(this.sectionEl.querySelectorAll(':scope ul[data-type="clinical-significance"] input[type="checkbox"]')),this._attachCheckboxEventsDelegated(),this._attachButtonEvents()}keepLastValues(){const e=this.valuesContainerEl.querySelectorAll(":scope > .mgend-wrapper > .mgend-condition-wrapper > condition-item-value-view"),t=this.valuesContainerEl.querySelectorAll(":scope > .clinvar-wrapper > .clinvar-condition-wrapper > condition-item-value-view");this._lastValues={mgend:Array.from(e,e=>({value:e.value,label:e.label})),clinvar:Array.from(t,e=>({value:e.value,label:e.label}))}}restore(){const e=(e,t)=>this._lastValues[e].some(e=>e.value===t);for(const t of this._checkboxes){const i=t.dataset.source||"mgend";t.checked=e(i,t.value)}this._update()}_generateCheckboxListNodes(e,t){return e.map(({value:e,label:i})=>(0,a.createEl)("li",{dataset:{value:e,source:t},children:[(0,a.createEl)("label",{children:[(0,a.createEl)("input",{attrs:{type:"checkbox"},dataset:{source:t,label:i},domProps:{value:e}}),(0,a.createEl)("span",{class:"clinical-significance",dataset:{value:e}})," ",i]})]}))}_attachCheckboxEventsDelegated(){this.sectionEl.addEventListener("change",e=>{const t=e.target;t&&t instanceof HTMLInputElement&&t.matches('input[type="checkbox"]')&&this._update()})}_attachButtonEvents(){this.sectionEl.querySelectorAll(":scope > .buttons > button").forEach((e,t)=>{e.addEventListener("click",()=>{const e=0===t;for(const t of this._checkboxes)t.checked=e;this._update()})})}_filterValues(e,t){return"significance"===this.conditionType&&"clinvar"===t?e.filter(e=>"NC"!==e.value):Array.from(e)}_update(){this._values={mgend:[],clinvar:[]};for(const e of this._checkboxes){if(!e.checked)continue;const t=e.dataset.source||"mgend",i=e.dataset.label??e.value;this._values[t].push({value:e.value,label:i})}this._renderSource("mgend",this._values.mgend),this._renderSource("clinvar",this._values.clinvar),this.conditionValues.update(this.isValid)}_renderSource(e,t){if(0===t.length)return void this._removeConditionWrapper(e);const i=this._ensureWrapperExists(e);i.querySelectorAll("condition-item-value-view").forEach(e=>e.remove());for(const e of t){const t=document.createElement("condition-item-value-view");t.conditionType=this.conditionType,t.label=e.label,t.value=e.value,i.append(t)}}_ensureWrapperExists(e){const t=`${e}-wrapper`,i=`${e}-condition-wrapper`,n=this.valuesContainerEl.querySelector(`.${t}`)??(0,a.createEl)("div",{class:t});n.isConnected||this.valuesContainerEl.append(n);const o=n.querySelector(`.${i}`)??(0,a.createEl)("div",{class:i});if(!o.isConnected){const t=(0,a.createEl)("span",{class:e,text:"mgend"===e?c:d});n.append(t,o)}return o}_removeConditionWrapper(e){const t=this.valuesContainerEl.querySelector(`.${e}-wrapper`);t&&t.remove()}get isValid(){return this._checkboxes.some(e=>e.checked)}}t.ConditionValueEditorClinicalSignificance=h},1690:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorDatasetColumns=void 0;const a=i(417),n=i(5833),o=i(5485),s=i(3648),r=i(3279),l=i(613),c=i(9962),d=i(3493),h=i(8332);class u extends a.ConditionValueEditor{constructor(e,t){super(e,t),this._lastValueViews=[],this._columns=null,this._dataProcessor=new o.DatasetTreeDataProcessor,this._renderer=new s.DatasetColumnRenderer(`${Date.now()}-${Math.random().toString(36).substring(2,9)}`),this._eventHandler=new r.DatasetColumnEventHandler,this._checkStateManager=new l.DatasetCheckStateManager,this._valueViewManager=new c.DatasetValueViewManager,this._data=this._dataProcessor.prepareHierarchicalData(this.conditionType),this._nodesToShowInValueView=[],this._initializeUI(),this._initializeWithLoginStatus()}async _initializeWithLoginStatus(){await n.storeManager.fetchLoginStatus(),this._renderInitialColumn()}keepLastValues(){this._lastValueViews=this.conditionItemValueViews}restore(){this._dataProcessor.resetAllCheckStates(this._data),this._dataProcessor.restoreCheckedStates(this._data,this._lastValueViews,(e,t)=>this._checkStateManager.updateChildrenCheckState(e,t),(e,t)=>this._checkStateManager.updateParentCheckState(e,t)),this._updateUI()}get isValid(){return this.conditionItemValueViews.length>0}_initializeUI(){this.createSectionEl("columns-editor-view",()=>[(0,d.createEl)("header",{text:`Select ${this.conditionType}`}),(0,d.createEl)("div",{class:"body",children:[(0,d.createEl)("div",{class:"columns"})]})]),this._columns=(0,h.selectRequired)(this.bodyEl,":scope > .columns","ConditionValueEditorDatasetColumns._initializeUI")}_renderInitialColumn(){this._drawColumn()}async _drawColumn(e,t){const i=t??n.storeManager.getData("isLogin"),a=await this._getChildItems(e),o=this._createColumnElement();if(!this._columns)throw new Error("Columns container not found");this._columns.append(o),o.append(this._generateColumnList(a,i)),this._attachColumnEventListeners(o,i),this._updateUI(),this._scrollToRevealNewColumn()}_generateColumnList(e,t){return this._renderer.generateColumnList(e,t,this.conditionType)}_createColumnElement(){if(!this._columns)throw new Error("Columns container not found");return this._renderer.createColumnElement(this._columns)}async _addLoginPromptColumn(){if(!this._columns)throw new Error("columns not mounted");await this._renderer.addLoginPromptColumn(this._columns)}_attachColumnEventListeners(e,t){this._eventHandler.attachCheckboxEventListeners(e,this._data,(e,t)=>this._checkStateManager.updateChildrenCheckState(e,t),(e,t)=>this._checkStateManager.updateParentCheckState(e,t),()=>this._updateUI()),this._eventHandler.attachArrowClickEventListeners(e,t,(e,t,i)=>this._handleArrowClick(e,t,i))}_handleArrowClick(e,t,i){this._eventHandler.clearSelectionAndSubColumns(e),e.classList.add("-selected"),this._drawColumn(t.dataset.id,i),"jga_wgs"!==t.dataset.value||i||this._addLoginPromptColumn()}_updateUI(){this._columns&&this._checkStateManager.updateCheckboxStatesInDOM(this._columns,this._data),this._syncValueViewsWithSelection(),this.conditionValues.update(this.isValid)}_processNodesToShowInValueView(){this._nodesToShowInValueView=this._valueViewManager.getOptimalNodesToShow(this._data)}_scrollToRevealNewColumn(){if(!this.bodyEl)return;const e=this.bodyEl.scrollWidth-this.bodyEl.clientWidth;e>0&&this.bodyEl.scrollTo({top:0,left:e,behavior:"smooth"})}_getChildItems(e){return new Promise(t=>{if(!e)return void t(this._data.children||[]);const i=this._data.find(t=>t.data.id===e);t(i?.children||[])})}_syncValueViewsWithSelection(){this._processNodesToShowInValueView(),this.conditionItemValueViews.forEach(e=>e.remove());for(const e of this._nodesToShowInValueView)this.addValueView(e.data.value||"",this._valueViewManager.getLabelWithPath(e,this._data))}}t.ConditionValueEditorDatasetColumns=u},9431:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorDisease=void 0;const a=i(417),n=i(4562),o=i(3493);class s extends a.ConditionValueEditor{constructor(e,t){super(e,t),this._data={id:null,label:null},this._lastValues={id:null,label:null},this._initializeElements(),this._setupEventListeners()}_initializeElements(){this.createSectionEl("text-field-editor-view",()=>[(0,o.createEl)("header",{text:`Select ${this.conditionType}`}),(0,o.createEl)("div",{class:"body"})]),this._conditionElem=this.bodyEl.querySelector("condition-disease-search")||new n.ConditionDiseaseSearch(this.bodyEl)}_setupEventListeners(){this._conditionElem.addEventListener("disease-selected",e=>{this._handleDiseaseSelection(e)})}_handleDiseaseSelection(e){e.stopPropagation();const t=e,{id:i,label:a}=t.detail;i?this._selectDisease({id:i,label:a}):this._clearSelection()}keepLastValues(){this._lastValues={...this._data}}restore(){this._data={...this._lastValues},this._lastValues.id&&this._lastValues.label&&this.addValueView(this._lastValues.id,this._lastValues.label,!0),this._update()}_selectDisease(e){this._data={...e},this._data.id&&this._data.label&&this.addValueView(this._data.id,this._data.label,!0),this._update()}_clearSelection(){this._data.id&&this.removeValueView(this._data.id),this._data={id:null,label:null},this._update()}_update(){this.conditionValues.update(this.isValid)}get isValid(){return!!this._data.id}}t.ConditionValueEditorDisease=s},7716:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorFrequencyCount=void 0;const a=i(3493),n=i(8332),o=i(417);i(9524);const s=i(6811),r=":scope > .switching",l="frequency-count-value-view",c=".range-selector-view",d=":scope > label > input",h=":scope > .filtered > label > input";class u extends o.ConditionValueEditor{constructor(e,t){super(e,t),this._rangeSelectorView=null,this._filtered=null,this._lastValue=null,this._radioGroupName="freqcount-"+u._idCounter++,this._condition={frequency:{...u.DEFAULT_CONDITION.frequency},count:{...u.DEFAULT_CONDITION.count},aac:{...u.DEFAULT_CONDITION.aac},arc:{...u.DEFAULT_CONDITION.arc},hac:{...u.DEFAULT_CONDITION.hac}},this._mode="genotype"===this.conditionType?s.MODE.alt_alt:s.MODE.frequency,this._initializeComponent(),this._setupEventListeners(),this._observeValueChanges(),this._updateErrorMessageVisibility(),this.conditionItemView.updateClassificationText(this._getModeDisplayText(this._mode))}keepLastValues(){const e=this._condition[this._mode];e&&(this._lastValue={...e})}restore(){this._lastValue&&this._condition[this._mode]&&(this._mode,s.MODE.frequency,this._condition[this._mode]=this._lastValue,this._update())}get isValid(){const e=this._condition[this._mode];if(!e)return!1;if(!Object.values(e).some(e=>null!==e))return!1;if(this._mode!==s.MODE.frequency){const t=e;if(null!==t.from&&null!==t.to&&t.from>t.to)return!1}return!0}_observeValueChanges(){new MutationObserver(()=>{window.requestAnimationFrame(()=>this._update())}).observe(this.valuesContainerEl,{attributes:!1,childList:!0,subtree:!1})}_initializeComponent(){this.createSectionEl("frequency-count-editor-view",()=>[(0,a.createEl)("header",{text:"Specify range"}),(0,a.createEl)("div",{class:"body",children:this._createBodyElements(this._radioGroupName)})]),this._setupRangeSlider()}_createBodyElements(e){return"genotype"===this.conditionType?this._createGenotypeElements(e):this._createDatasetElements(e)}_createDatasetElements(e){return[this._createFrequencySection(e),this._createCountSection(e,s.MODE.count,"Count"),this._createFilteredSection()]}_createGenotypeElements(e){return[...[{mode:s.MODE.alt_alt,label:"Alt/Alt: Number of homozygous genotypes"},{mode:s.MODE.alt_ref,label:"Alt/Ref: Number of heterozygous genotypes"},{mode:s.MODE.hemi_alt,label:"Hemi_Alt: Number of hemizygous genotypes"}].map(t=>this._createCountSection(e,t.mode,t.label)),this._createFilteredSection()]}_createFrequencySection(e){return(0,a.createEl)("section",{class:["frequency","switching"],dataset:{mode:s.MODE.frequency},children:[(0,a.createEl)("label",{children:[(0,a.createEl)("input",{attrs:{type:"radio",name:e,value:s.MODE.frequency}}),(0,a.createEl)("span",{text:"Frequency"})]}),(0,a.createEl)("div",{class:["range-selector-view","input"]})]})}_createCountSection(e,t,i){const n=t===this._mode&&this._isCurrentConditionInvalid();return(0,a.createEl)("section",{class:["count","switching"],dataset:{mode:t},children:[(0,a.createEl)("label",{children:[(0,a.createEl)("input",{attrs:{type:"radio",name:e,value:t}}),(0,a.createEl)("span",{text:i})]}),(0,a.createEl)("div",{class:"input-container",children:[(0,a.createEl)("div",{class:"input",children:[(0,a.createEl)("input",{class:"from",attrs:{min:"0",step:"1",type:"number"}})," ~ ",(0,a.createEl)("input",{class:"to",attrs:{min:"0",step:"1",type:"number"}})]}),(0,a.createEl)("div",{class:["messages-view",...n?[]:["-hidden"]],children:[(0,a.createEl)("div",{class:["message","-error"],text:"The maximum and minimum values are invalid."})]})]})]})}_createFilteredSection(){const e=`${this._radioGroupName}-filtered`;return(0,a.createEl)("section",{class:"filtered",children:[(0,a.createEl)("label",{attrs:{for:e},children:[(0,a.createEl)("input",{attrs:{type:"checkbox",checked:"checked",id:e}}),(0,a.createEl)("span",{text:"Exclude filtered out variants"})]})]})}_setupRangeSlider(){const e=(0,a.createEl)("range-slider",{domProps:{searchType:"advanced",sliderStep:.01,inputStep:.05},attrs:{value1:this._condition.frequency.from.toString(),value2:this._condition.frequency.to.toString(),invert:this._condition.frequency.invert.toString()}});e.addEventListener("range-changed",e=>{e.stopPropagation(),this.changeParameter(e.detail)});const t=(0,n.selectOrNull)(this.sectionEl,c);t?.appendChild(e),this._rangeSelectorView=e,requestAnimationFrame(()=>{if(this._rangeSelectorView){const e=this._rangeSelectorView;if(e.shadowRoot){const t=(0,n.selectOrNull)(e.shadowRoot,".invert");t&&(t.checked=this._condition.frequency.invert)}}})}_setupEventListeners(){this._setupModeToggleListeners(),this._setupCountInputListeners(),this._setupFilteredCheckboxListener()}_setupModeToggleListeners(){const e=this.bodyEl.querySelectorAll(r);for(const t of e){const i=(0,n.selectOrNull)(t,d);if(!i)continue;i.addEventListener("change",t=>{this._handleModeChange(t,e)});const a="genotype"===this.conditionType?s.MODE.alt_alt:s.MODE.frequency;i.value===a&&requestAnimationFrame(()=>{i.dispatchEvent(new Event("change")),i.checked=!0})}}_handleModeChange(e,t){const i=e.target;for(const e of t){const t=e;t.dataset.mode===i.value?t.classList.add("-current"):t.classList.remove("-current")}this._mode=i.value,this.conditionItemView.updateClassificationText(this._getModeDisplayText(this._mode)),this._updateErrorMessageVisibility(),this._update()}_setupCountInputListeners(){this.bodyEl.querySelectorAll(r).forEach(e=>{e.querySelectorAll(":scope .input > input").forEach(e=>{e.addEventListener("change",e=>{this._handleCountInputChange(e)}),e.addEventListener("input",e=>{this._handleCountInputChange(e)})})})}_handleCountInputChange(e){const t=e.target,i=t.className,a=this._condition[this._mode];if(a&&i in a){const e=t.value.trim();if(""===e)a[i]=null;else{let n=Number(e);this._mode!==s.MODE.frequency&&(n<0&&(n=0),n=Math.floor(n),t.value=n.toString()),a[i]=n}this._updateErrorMessageVisibility(),this._update()}}_isCurrentConditionInvalid(){if(this._mode===s.MODE.frequency)return!1;const e=this._condition[this._mode];return null!==e.from&&null!==e.to&&e.from>e.to}_updateErrorMessageVisibility(){const e=this._isCurrentConditionInvalid(),t=this.bodyEl.querySelector(`[data-mode="${this._mode}"]`);if(t){const i=t.querySelector(".messages-view");i&&(e?i.classList.remove("-hidden"):i.classList.add("-hidden"))}}_setupFilteredCheckboxListener(){this._filtered=(0,n.selectOrNull)(this.bodyEl,h),this._filtered&&(this._filtered.addEventListener("change",()=>{this._update()}),this._filtered.dispatchEvent(new Event("change")))}changeParameter(e){this._rangeSelectorView&&(void 0!==e.from&&(this._condition.frequency.from=e.from),void 0!==e.to&&(this._condition.frequency.to=e.to),void 0!==e.invert&&(this._condition.frequency.invert="string"==typeof e.invert?"1"===e.invert||"true"===e.invert:Boolean(e.invert)),this._update())}_update(){this._applyConditionToAllViews(),this.conditionValues.update(this.isValid)}_applyConditionToAllViews(){this.valuesContainerEl.querySelectorAll(":scope > condition-item-value-view").forEach(e=>{const t=this._getFrequencyCountView(e);t&&this._updateFrequencyCountView(t)})}_getFrequencyCountView(e){const t=e.shadowRoot;if(!t)return null;const i=(0,n.selectOrNull)(t,l);return i&&"function"==typeof i.setValues?i:null}_updateFrequencyCountView(e){const t=this._condition[this._mode],i=this._mode===s.MODE.frequency&&this._condition.frequency.invert,a=this._filtered?.checked??!1,n=t.from,o=t.to;e.setValues(this.conditionType,this._mode,n,o,i,a),e.mode=this._mode,e.from=n}_getModeDisplayText(e){return{[s.MODE.frequency]:"Alternative allele frequency",[s.MODE.count]:"Alternative allele count",[s.MODE.alt_alt]:"Genotype count (Alt/Alt)",[s.MODE.alt_ref]:"Genotype count (Alt/Ref)",[s.MODE.hemi_alt]:"Genotype count (Hemi_Alt)"}[e]}}t.ConditionValueEditorFrequencyCount=u,u._idCounter=0,u.DEFAULT_CONDITION={frequency:{from:0,to:1,invert:!1},count:{from:null,to:null},aac:{from:null,to:null},arc:{from:null,to:null},hac:{from:null,to:null}}},692:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorGene=void 0;const n=i(417),o=a(i(3612)),s=i(216),r=i(3493);class l extends n.ConditionValueEditor{constructor(e,t){super(e,t),this._value="",this._label="",this._lastValue="",this._lastLabel="",this._handleSuggestSelect=e=>{this._value=String(e.detail.id),this._label=e.detail.label,this.addValueView(this._value,this._label,!0,!1),this.conditionValues.update(this.isValid)},this.createSectionEl("text-field-editor-view",()=>[(0,r.createEl)("header",{text:`Search for ${this.conditionType}`}),(0,r.createEl)("div",{class:"body"})]),this._searchFieldView=new o.default("BRCA2",`${s.API_URL}/api/search/${this.conditionType}`,"term",this.bodyEl,{valueMappings:{valueKey:"id",labelKey:"symbol",aliasOfKey:"alias_of"}}),this._searchFieldView.addEventListener("new-suggestion-selected",e=>{const t=e;this._handleSuggestSelect(t)})}keepLastValues(){const e=this.valuesContainerEl.querySelector("condition-item-value-view");this._lastValue=e?.value||"",this._lastLabel=e?.label||""}restore(){this.addValueView(this._lastValue,this._lastLabel,!0)}get isValid(){return this.conditionItemValueViews.length>0}}t.ConditionValueEditorGene=l},8718:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorLocation=void 0;const a=i(5833),n=i(417),o=i(3493);i(6996);const s=["",...[...Array(22)].map((e,t)=>String(t+1)),"X","Y","MT"],r="region",l="single_position";class c extends n.ConditionValueEditor{constructor(e,t){super(e,t),this._karyotypeData=null,this._savedState=null,this._buildUI(),this._loadKaryotypeData(),this._attachEventListeners(),this._initializeFromExistingValue()}keepLastValues(){this._savedState={chromosome:this._chromosomeSelect.value,startPosition:this._startPositionInput.value,endPosition:this._endPositionInput.value,isSinglePosition:this._singlePositionCheckbox.checked}}restore(){if(!this._savedState)return this._loadFromValueViews(),void this._updateValueAndValidation();this._chromosomeSelect.value=this._savedState.chromosome,this._startPositionInput.value=this._savedState.startPosition,this._endPositionInput.value=this._savedState.endPosition,this._singlePositionCheckbox.checked=this._savedState.isSinglePosition,this._positionInputContainer.dataset.type=this._savedState.isSinglePosition?l:r;const e=this._getChromosomeMaxPosition();e&&this._updatePositionConstraints(e),this._updateValueAndValidation()}get isValid(){if(""===this._chromosomeSelect.value)return!1;const e=this._positionInputContainer.dataset.type;return e===r?this._isValidRegion():e===l&&this._isValidSinglePosition()}_buildUI(){const e=this._createModeToggleRow(),t=this._createPositionInputRow();this.createSectionEl("location-editor-view",[(0,o.createEl)("header",{text:`Set ${this.conditionType}`}),(0,o.createEl)("div",{class:"body",children:[e,t]})])}_createModeToggleRow(){return(0,o.createEl)("div",{class:"row",children:[(0,o.createEl)("label",{children:[this._singlePositionCheckbox=(0,o.createEl)("input",{attrs:{type:"checkbox",name:"range-or-position",value:l}})," Single position"]})]})}_createPositionInputRow(){return(0,o.createEl)("div",{class:"row",children:[(0,o.createEl)("label",{class:"chromosome",children:[(0,o.createEl)("span",{class:"label",text:"Chr."}),(0,o.createEl)("span",{class:"form",children:[this._chromosomeSelect=(0,o.createEl)("select",{children:s.map(e=>(0,o.createEl)("option",{attrs:{value:e},text:e}))})]})]}),(0,o.createEl)("span",{class:"label",text:":"}),(0,o.createEl)("label",{class:"position",children:[this._createPositionInputContainer()]})]})}_createPositionInputContainer(){return this._positionInputContainer=(0,o.createEl)("span",{class:["form","range-inputs-view"],dataset:{type:r},children:[this._startPositionInput=(0,o.createEl)("input",{class:"start",attrs:{type:"number",min:String(1)}}),(0,o.createEl)("span",{class:"line"}),this._endPositionInput=(0,o.createEl)("input",{class:"end",attrs:{type:"number",min:String(1)}})]}),this._positionInputContainer}_attachEventListeners(){this._singlePositionCheckbox.addEventListener("change",()=>{const e=this._singlePositionCheckbox.checked?l:r;this._positionInputContainer.dataset.type=e,this._updateValueAndValidation()}),this._chromosomeSelect.addEventListener("change",()=>{const e=this._getChromosomeMaxPosition();e&&(this._updatePositionConstraints(e),this._enforcePositionLimits(e)),this._updateValueAndValidation()}),this._startPositionInput.addEventListener("change",()=>{this._updateValueAndValidation()}),this._endPositionInput.addEventListener("change",()=>{this._updateValueAndValidation()})}_loadKaryotypeData(){const e=a.storeManager.getData("karyotype");this._karyotypeData=e}_initializeFromExistingValue(){this._loadFromValueViews(),this._updateValueAndValidation()}_loadFromValueViews(){const e=this.conditionItemValueViews?.[0],t=e?.value||e?.label;if(!t||"string"!=typeof t)return;const i=this._parseLocationString(t.trim());i&&this._applyParsedLocation(i)}_parseLocationString(e){const t=/^([^:]+):(\d+)(?:-(\d+))?$/.exec(e);if(!t)return null;const[,i,a,n]=t;return{chromosome:i,start:a,end:n}}_applyParsedLocation(e){s.includes(e.chromosome)&&(this._chromosomeSelect.value=e.chromosome),this._startPositionInput.value=e.start,e.end?(this._positionInputContainer.dataset.type=r,this._endPositionInput.value=e.end,this._singlePositionCheckbox.checked=!1):(this._positionInputContainer.dataset.type=l,this._endPositionInput.value="",this._singlePositionCheckbox.checked=!0)}_isValidRegion(){const e=""!==this._startPositionInput.value,t=""!==this._endPositionInput.value,i=+this._startPositionInput.value<+this._endPositionInput.value;return e&&t&&i}_isValidSinglePosition(){return""!==this._startPositionInput.value}_getChromosomeMaxPosition(){if(!this._karyotypeData?.reference)return null;const e=this._chromosomeSelect.value,t=this._karyotypeData.chromosomes?.[e];if(!t?.region)return null;const i=t.region[this._karyotypeData.reference];return i?.[1]??null}_updatePositionConstraints(e){this._startPositionInput.max=String(e),this._endPositionInput.max=String(e)}_enforcePositionLimits(e){""===this._startPositionInput.value?this._startPositionInput.value=String(1):+this._startPositionInput.value>e&&(this._startPositionInput.value=String(e)),(""===this._endPositionInput.value||+this._endPositionInput.value>e)&&(this._endPositionInput.value=String(e))}_updateValueAndValidation(){const e=this.conditionItemValueViews[0];if(this.isValid){const t=this._buildLocationString();this._updateOrCreateValueView(e,t)}else this.removeValueView("");this.conditionValues.update(this.isValid)}_buildLocationString(){const e=this._chromosomeSelect.value,t=this._startPositionInput.value;if(this._positionInputContainer.dataset.type===r){return`${e}:${t}-${this._endPositionInput.value}`}return`${e}:${t}`}_updateOrCreateValueView(e,t){e?(e.label=t,e.value=t):this.addValueView(t,t,!0)}applyOptions(e){if(!e||"object"!=typeof e)return;const t=e,i=t.chr,a=t.start,n=t.end,o=String(i);if(!o)return;const s="number"==typeof a?a:a?parseInt(String(a),10):null,c="number"==typeof n?n:n?parseInt(String(n),10):null;this._chromosomeSelect.value=o,null===s||isNaN(s)||(this._startPositionInput.value=String(s)),null===c||isNaN(c)||c===s?null===s||isNaN(s)||(this._singlePositionCheckbox.checked=!0,this._positionInputContainer.dataset.type=l):(this._singlePositionCheckbox.checked=!1,this._positionInputContainer.dataset.type=r,this._endPositionInput.value=String(c)),this._updateValueAndValidation()}}t.ConditionValueEditorLocation=c},4354:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorPathogenicityPrediction=void 0;const a=i(417);i(319),i(8047);const n=i(4381);class o extends a.ConditionValueEditor{constructor(e,t){super(e,t),this._dataset="alphamissense",this._label="AlphaMissense",this._values=[0,1],this._inequalitySigns=["gte","lte"],this._includeUnassigned=!1,this._includeUnknown=!1,this._lastState={dataset:"alphamissense",label:"AlphaMissense",values:[0,1],inequalitySigns:["gte","lte"],includeUnassigned:!1,includeUnknown:!1},this._initializeDefaultValues(),this._initializeUI(),this._initializeEvents()}keepLastValues(){this.valuesContainerEl.querySelectorAll(":scope > condition-item-value-view").forEach(e=>{const t=e.shadowRoot?.querySelector("prediction-value-view"),i=t?.conditionValues;if(i){const{dataset:e,label:t,values:a,inequalitySigns:n,includeUnassigned:o,includeUnknown:s}=i;this._lastState={dataset:e,label:t,values:a,inequalitySigns:n,includeUnassigned:o,includeUnknown:s}}})}restore(){const{dataset:e,label:t,values:i,inequalitySigns:a,includeUnassigned:n,includeUnknown:o}=this._lastState;this._addPredictionValueView(e,t,i,a,n,o)}_initializeDefaultValues(){this._dataset="alphamissense",this._label="AlphaMissense",this._values=[0,1],this._inequalitySigns=["gte","lte"],this._includeUnassigned=!1,this._includeUnknown=!1,this._lastState={dataset:this._dataset,label:this._label,values:[...this._values],inequalitySigns:[...this._inequalitySigns],includeUnassigned:!1,includeUnknown:!1}}_initializeUI(){this.createSectionEl("pathogenicity-editor-view",'<header>Select prediction</header><div class="body"></div>'),this._tabsContainer=this.sectionEl.querySelector(".body"),this._createTabView()}_initializeEvents(){this._tabsContainer.addEventListener("set-prediction-values",e=>{const t=e.detail;this._updateValuesAndSigns(t)}),this._tabsContainer.addEventListener("switch-tab",e=>{const t=e.detail;this._switchTab(t)})}_switchTab(e){this._dataset=e.dataset,this._label=n.PREDICTIONS[this._dataset].label,this._updateValuesAndSigns(e)}_update(){var e;this._addPredictionValueView(this._dataset,this._label,this._values,this._inequalitySigns,this._includeUnassigned,this._includeUnknown),e=this.conditionValues,"function"==typeof e?.update&&this.conditionValues.update(this._validate())}_updateValuesAndSigns(e){this._values=[e.values[0],e.values[1]],this._inequalitySigns=[e.inequalitySigns[0],e.inequalitySigns[1]];const t=function(e){const t=e.unassignedChecks??[];return{includeUnassigned:e.includeUnassigned??t.includes("unassigned"),includeUnknown:e.includeUnknown??t.includes("unknown")}}(e);this._includeUnassigned=t.includeUnassigned,this._includeUnknown=t.includeUnknown,this._update()}_addPredictionValueView(e,t,i,a,n=!1,o=!1){let s=this.valuesContainerEl.querySelector("condition-item-value-view");s||(s=document.createElement("condition-item-value-view"),s.conditionType=this.conditionType,this.valuesContainerEl.append(s)),s.value=e,s.label=t,this.valuesContainerEl.querySelectorAll(":scope > condition-item-value-view").forEach(t=>{const s=t.shadowRoot?.querySelector("prediction-value-view");s&&s.setValues(e,i,a,n,o)})}_createTabView(){const e=document.createElement("tab-view");e.datasets=n.PREDICTIONS,this._tabsContainer.appendChild(e)}_validate(){return Number.isFinite(this._values[0])&&Number.isFinite(this._values[1])}get isValid(){return this._validate()}}t.ConditionValueEditorPathogenicityPrediction=o},581:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionValueEditorVariantID=void 0;const n=i(417),o=a(i(6551)),s=i(3493);class r extends n.ConditionValueEditor{constructor(e,t){super(e,t),this._lastValueViews=[],this.createSectionEl("text-field-editor-view",()=>[(0,s.createEl)("header",{text:`Search for ${this.conditionType}`}),(0,s.createEl)("div",{class:"body"})]),this._searchFieldView=new o.default(this.bodyEl,"rs1489251879"),this._searchFieldView.addEventListener("keydown",e=>{if("Enter"===e.key){const e=this._searchFieldView.value;this._searchFieldView.value.trim().length>0&&(this.addValueView(e,e,!1,!0),this._update(),this._searchFieldView.value="")}}),this.valuesContainerEl?.addEventListener("delete-condition-item",e=>{const t=e;this._handleDeleteValue(t)})}keepLastValues(){this._lastValueViews=this.conditionItemValueViews}restore(){this.conditionItemValueViews.forEach(e=>e.remove()),this.valuesContainerEl.append(...this._lastValueViews)}_update(){this.conditionValues.update(this.isValid)}_handleDeleteValue(e){e.stopPropagation(),this.removeValueView(e.detail),this._update()}get isValid(){return this.valuesContainerEl.hasChildNodes()}}t.ConditionValueEditorVariantID=r},613:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetCheckStateManager=void 0;t.DatasetCheckStateManager=class{updateChildrenCheckState(e,t){e.children&&0!==e.children.length&&e.descendants().forEach(e=>{e.data.checked=t,e.data.indeterminate=!1})}updateParentCheckState(e,t){e&&("boolean"==typeof t?(e.data.checked=t,e.data.indeterminate=!1):this._calculateParentStateFromChildren(e),this.updateParentCheckState(e.parent||void 0))}_calculateParentStateFromChildren(e){if(!e.children)return;const t=e.children.filter(e=>e.data.checked),i=e.children.filter(e=>e.data.indeterminate),a=t.length===e.children.length,n=t.length>0,o=i.length>0;e.data.checked=a&&!o,e.data.indeterminate=n&&!a||o}updateCheckboxStatesInDOM(e,t){t.eachAfter(t=>{const i=e.querySelector(`li[data-id="${t.data.id}"] > label > input`);i&&(i.checked=!t.data.indeterminate&&t.data.checked,i.indeterminate=!t.data.checked&&(t.data.indeterminate||!1))})}}},3279:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetColumnEventHandler=void 0;t.DatasetColumnEventHandler=class{attachCheckboxEventListeners(e,t,i,a,n){e.addEventListener("change",e=>{const o=e.target,s=o.checked,r=o.closest("li");if(!r||!r.dataset.id)return;const l=r.dataset.id,c=t.find(e=>e.data.id===l);c&&(c.children&&i(c,s),c.parent&&a(c,s),n())})}attachArrowClickEventListeners(e,t,i){for(const a of e.querySelectorAll(":scope > ul > li > .arrow"))a.addEventListener("click",e=>{const a=e.target,n=a.closest("li");n&&i(n,a,t)})}clearSelectionAndSubColumns(e){const t=e.closest(".column"),i=e.closest(".columns");if(!t||!i||!t.dataset.depth)return;const a=e.parentNode;a&&a.querySelector(":scope > .-selected")?.classList.remove("-selected");const n=parseInt(t.dataset.depth);for(const e of i.querySelectorAll(":scope > .column")){const t=e;if(t.dataset.depth&&parseInt(t.dataset.depth)>n){const e=t.parentNode;e&&e.removeChild(t)}}}}},3648:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetColumnRenderer=void 0;const a=i(3493),n=i(3494),o=i(5833);t.DatasetColumnRenderer=class{constructor(e=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`){this._instancePrefix=e}generateColumnList(e,t,i){return(0,a.createEl)("ul",{children:e.map(e=>this._createListItemElement(e,t,i))})}_createListItemElement(e,t,i){const n=`checkbox-${this._instancePrefix}-${e.data.id}`,o=this.shouldShowLockIcon(e,t)?(0,a.createEl)("span",{class:"lock"}):(0,a.createEl)("input",{attrs:{type:"checkbox",id:n},domProps:{value:e.data.id}}),s=this.shouldShowDatasetIcon(e,i)?(0,a.createEl)("span",{class:"dataset-icon",dataset:e.data.value?{dataset:e.data.value}:void 0}):null,r=(0,a.createEl)("span",{text:e.data.label}),l=(0,a.createEl)("label",{attrs:{for:n},children:[o,...s?[s]:[],r]}),c=void 0!==e.children?(0,a.createEl)("div",{class:"arrow",dataset:{id:e.data.id,...e.data.value?{value:e.data.value}:{}}}):null;return(0,a.createEl)("li",{dataset:{id:e.data.id,parent:e.parent?.data.id??"",...e.data.value?{value:e.data.value}:{}},children:[l,...c?[c]:[]]})}createColumnElement(e){const t=document.createElement("div");return t.classList.add("column"),t.dataset.depth=e.querySelectorAll(":scope > .column").length.toString(),t}async addLoginPromptColumn(e){await o.storeManager.fetchLoginStatus();const t=(0,a.createEl)("div",{class:"column",dataset:{depth:"2"},children:[(0,a.createEl)("div",{class:"messages-view",children:[(0,a.createEl)("div",{class:["note","message","-warning"],children:[(0,a.createEl)("a",{class:"link",attrs:{href:"/auth/login"},text:"Login"})," to select JGAD datasets"]})]})]});e.append(t)}shouldShowLockIcon(e,t){return!1===t&&(e.data.value?.includes("jga_wgs.")??!1)}shouldShowDatasetIcon(e,t){return(t===n.CONDITION_TYPE.dataset||t===n.CONDITION_TYPE.genotype)&&1===e.depth}}},5485:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetTreeDataProcessor=void 0;const a=i(3188),n=i(3494),o=i(216),s=i(9120);t.DatasetTreeDataProcessor=class{constructor(){this._uniqueIdCounter=0}_addNodeIds(e){return e.map(e=>{Number.isInteger(this._uniqueIdCounter)||(this._uniqueIdCounter=0);const t={label:e.label,value:"value"in e?e.value:void 0,id:"node-"+this._uniqueIdCounter++,checked:!1,indeterminate:!1};return e.children&&e.children.length>0&&(t.children=this._addNodeIds(e.children)),t})}prepareHierarchicalData(e){switch(e){case n.CONDITION_TYPE.dataset:case n.CONDITION_TYPE.genotype:{const t=o.ADVANCED_CONDITIONS[e];if(!t||!("values"in t))throw new Error(`Invalid condition definition for type '${e}' or missing values property`);const i=t.values,n=this._addNodeIds(i);return(0,a.hierarchy)({id:s.ROOT_NODE_ID,label:"root",value:"",children:n,checked:!1,indeterminate:!1})}default:throw new Error("ConditionValueEditorDatasetColumns - Invalid condition type")}}resetAllCheckStates(e){e.each(e=>{e.data.checked=!1,e.data.indeterminate=!1})}restoreCheckedStates(e,t,i,a){for(const n of t){const t=e.find(e=>e.data.value===n.dataset.value);t&&(t.data.checked=!0,i(t,!0),a(t,!0))}}}},9962:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DatasetValueViewManager=void 0;t.DatasetValueViewManager=class{getOptimalNodesToShow(e){if(!e.children)return e.data.checked?[e]:[];return e.children.every(e=>e.data.checked)&&e.data.value?[e]:e.children.flatMap(e=>this.getOptimalNodesToShow(e)).filter(Boolean)}getLabelWithPath(e,t){const i=e.path(t).reverse(),[,...a]=i;return a.map(e=>e.data.label).join(" > ")}}},9120:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_NODE_ID=void 0,t.ROOT_NODE_ID="synthetic-root"},4009:function(e,t,i){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(3494),o=i(6209),s=i(3493),r=i(3508),l=i(1253),c=a(i(4891)),d=i(1690),h=i(9431),u=i(7716),g=i(692),p=i(8718),f=i(4354),b=i(581),m={[n.CONDITION_TYPE.type]:[r.ConditionValueEditorCheckboxes],[n.CONDITION_TYPE.significance]:[l.ConditionValueEditorClinicalSignificance],[n.CONDITION_TYPE.consequence]:[c.default],[n.CONDITION_TYPE.dataset]:[d.ConditionValueEditorDatasetColumns,u.ConditionValueEditorFrequencyCount],[n.CONDITION_TYPE.genotype]:[d.ConditionValueEditorDatasetColumns,u.ConditionValueEditorFrequencyCount],[n.CONDITION_TYPE.disease]:[h.ConditionValueEditorDisease],[n.CONDITION_TYPE.gene_symbol]:[g.ConditionValueEditorGene],[n.CONDITION_TYPE.pathogenicity_prediction]:[f.ConditionValueEditorPathogenicityPrediction],[n.CONDITION_TYPE.variant_id]:[b.ConditionValueEditorVariantID],[n.CONDITION_TYPE.location]:[p.ConditionValueEditorLocation]};t.default=class{constructor(e,t){this._events=new AbortController,this._editors=[],this._conditionView=e,this._options=t,this._buildDOM(),this._wireEvents(),this._instantiateEditorsFor(e.conditionType)}startToEditCondition(){for(const e of this._editors)e.keepLastValues();this._recomputeValidity()}update(e){const t=this._conditionView.conditionType,i=this._editors.every(e=>e.isValid),a=t===n.CONDITION_TYPE.dataset||t===n.CONDITION_TYPE.genotype?i:e??i;this._setOkEnabled(a)}_buildDOM(){const e=this._sectionsEl=(0,s.createEl)("div",{class:"sections"}),t=(0,s.createEl)("div",{class:"buttons",children:[this._okButtonEl=(0,s.createEl)("button",{class:["button-view"],text:"OK",attrs:{type:"button",disabled:""}}),this._cancelButtonEl=(0,s.createEl)("button",{class:["button-view","-negative"],text:"Cancel",attrs:{type:"button"}})]});this._conditionView.editorElement.replaceChildren(e,t)}_wireEvents(){const{signal:e}=this._events;this._okButtonEl.addEventListener("click",e=>{e.stopImmediatePropagation(),this._conditionView.doneEditing()},{signal:e}),this._cancelButtonEl.addEventListener("click",e=>{if(e.stopImmediatePropagation(),this._conditionView.isFirstTime)this._conditionView.remove();else{for(const e of this._editors)e.restore();(0,o.supportsRelation)(this._conditionView.conditionType)?this._conditionView.rootEl.dataset.relation=this._conditionView.keepLastRelation:delete this._conditionView.rootEl.dataset.relation,this._conditionView.doneEditing()}},{signal:e})}_instantiateEditorsFor(e){const t=m[e]??[];if(this._editors=t.map(e=>new e(this,this._conditionView)),this._options)for(const e of this._editors)"function"==typeof e.applyOptions&&e.applyOptions(this._options);this._recomputeValidity()}_recomputeValidity(){this.update()}_setOkEnabled(e){e?this._okButtonEl.removeAttribute("disabled"):this._okButtonEl.setAttribute("disabled","")}get conditionView(){return this._conditionView}get sections(){return this._sectionsEl}get editors(){return this._editors}destroy(){this._events.abort()}}},5234:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseConditionView=t.viewByEl=void 0,t.isGroupView=n;const a=i(3494);function n(e){return!!e&&e.conditionNodeKind===a.CONDITION_NODE_KIND.group}t.viewByEl=new WeakMap;t.BaseConditionView=class{constructor(e,i,a){this._builder=e,this._rootEl=document.createElement("div"),this._rootEl.classList.add("advanced-search-condition-view"),a&&i.contains(a)?i.insertBefore(this._rootEl,a):i.appendChild(this._rootEl),t.viewByEl.set(this._rootEl,this)}get rootEl(){return this._rootEl}get childEls(){return Array.from(this._rootEl.parentElement?.children??[])}get parentGroup(){const e=this._rootEl.parentElement,i=e?.closest(".advanced-search-condition-group-view"),a=i?t.viewByEl.get(i):void 0;return n(a)?a:null}select(){this._rootEl.setAttribute("aria-selected","true")}deselect(){this._rootEl.removeAttribute("aria-selected")}remove(){const e=this.parentGroup;e&&e.removeConditionView(this),t.viewByEl.delete(this._rootEl),this._rootEl.remove()}_toggleSelection(e){if(e.stopPropagation(),this._rootEl.classList.contains("-editing"))return;"true"===this._rootEl.getAttribute("aria-selected")?this._builder.selection.deselectConditionView(this):this._builder.selection.selectConditionView(this,!1)}}},7185:function(e,t){"use strict";function i(e){if(!e.shadowRoot)throw new Error("dataset/genotype: missing shadow root");return e.shadowRoot.querySelector("frequency-count-value-view")}Object.defineProperty(t,"__esModule",{value:!0}),t.buildDatasetQuery=function(e){const t=e.values.map(i).filter(Boolean).map(e=>e.queryValue);return 0===t.length?{}:1===t.length?t[0]:{or:t}}},572:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildDefaultQuery=function(e){const t=e.type,i=e.values.map(e=>e.value?.trim()).filter(e=>!!e&&e.length>0);return{[t]:{relation:e.relation,terms:i}}}},3228:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildGeneQuery=function(e){const t=e.values.map(e=>Number(e.value)),i=Array.from(new Set(t));return{gene:{relation:e.relation,terms:i}}}},4405:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildQueryFragment=function(e){const t=h[e.type];return t?t(e):(0,d.buildDefaultQuery)(e)};const a=i(3494),n=i(7185),o=i(7280),s=i(3228),r=i(4134),l=i(7751),c=i(6413),d=i(572),h={[a.CONDITION_TYPE.dataset]:n.buildDatasetQuery,[a.CONDITION_TYPE.significance]:o.buildSignificanceQuery,[a.CONDITION_TYPE.gene_symbol]:s.buildGeneQuery,[a.CONDITION_TYPE.genotype]:n.buildDatasetQuery,[a.CONDITION_TYPE.location]:r.buildLocationQuery,[a.CONDITION_TYPE.pathogenicity_prediction]:l.buildPathogenicityQuery,[a.CONDITION_TYPE.variant_id]:c.buildVariantIdQuery}},4134:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildLocationQuery=function(e){const t=e.values[0];if(!t||"string"!=typeof t.value||""===t.value.trim())throw new Error("location: missing or empty value");const i=t.value.trim(),a=/^([^:]+):(\d+)(?:-(\d+))?$/.exec(i);if(!a)throw new Error(`location: invalid format "${i}". Expected "chr:pos" or "chr:start-end".`);const[,n,o,s]=a,r=n.trim(),l=Number(o),c=s?Number(s):void 0;if(!Number.isFinite(l)||s&&!Number.isFinite(c))throw new Error(`location: non-numeric position in "${i}".`);const d=void 0===c?l:{gte:Math.min(l,c),lte:Math.max(l,c)};return{location:{chromosome:r,position:d}}}},7751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildPathogenicityQuery=function(e){const t=function(e){if(!e.shadowRoot)throw new Error("pathogenicity_prediction: missing shadow root");return e.shadowRoot.querySelector("prediction-value-view")}(e.values[0]);if(!t)throw new Error("pathogenicity_prediction: missing or invalid value");return t.queryValue}},7280:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSignificanceQuery=function(e){const t=e.valuesContainer,i=o(t,n.mgend),a=o(t,n.clinvar),s=r(e.relation,"mgend",i),l=r(e.relation,"clinvar",a),c=[s,l].filter(e=>null!==e);if(0===c.length)throw new Error("significance: no terms selected");if(1===c.length)return c[0];return"ne"===e.relation?{and:c}:{or:c}};const a=i(3494),n={mgend:":scope > .mgend-wrapper > .mgend-condition-wrapper > condition-item-value-view",clinvar:":scope > .clinvar-wrapper > .clinvar-condition-wrapper > condition-item-value-view"};function o(e,t){if(!e)throw new Error("pickScoped: missing container");return Array.from(e.querySelectorAll(t))}function s(e){return"string"==typeof e&&a.SIGNIFICANCE_TERM_SET.has(e)}function r(e,t,i){if(0===i.length)return null;const a=function(e){return e.map(e=>e.value).filter(s)}(i);return 0===a.length?null:{significance:{relation:e,source:[t],terms:a}}}},6413:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildVariantIdQuery=function(e){return{id:e.values.map(e=>e.value?.trim()).filter(e=>!!e&&e.length>0)}}},6274:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLUMN_TEMPLATES=t.REF_ALT_SHOW_LENGTH=void 0,t.createFrequencyColumnHTML=function(){const e=(0,a.getSimpleSearchConditionMaster)("dataset").items;return`<td class="alt_frequency">${e.filter(e=>e.has_freq).map(e=>`<logarithmized-block-graph-frequency-view\n        data-dataset="${e.id}"\n        data-direction="vertical"\n      ></logarithmized-block-graph-frequency-view>`).join("")}</td>`};const a=i(3522);t.REF_ALT_SHOW_LENGTH=4,t.COLUMN_TEMPLATES={togovar_id:'<td class="togovar_id"><a href="" class="hyper-text -internal" target="_blank"></a></td>',refsnp_id:'<td class="refsnp_id" data-remains=""><a href="" target="_blank" class="hyper-text -external"></a></td>',position:'<td class="position"><div class="chromosome-position"><div class="chromosome"></div><div class="coordinate"></div></div></td>',ref_alt:'<td class="ref_alt"><div class="ref-alt"><span class="ref" data-sum=""></span><span class="arrow"></span><span class="alt" data-sum=""><span class="sum"></span></span></div></td>',type:'<td class="type"><div class="variant-type"></div></td>',gene:'<td class="gene" data-remains=""><a href="" class="hyper-text -internal" target="_blank"></a></td>',consequence:'<td class="consequence" data-remains=""><div class="consequence-item"></div></td>',clinical_significance:'<td class="clinical_significance"><div class="clinical-significance" data-value=""></div><a class="hyper-text -internal" href="" target="_blank"></a><span class="icon" data-remains="" data-mgend=""></span></td>',alphamissense:'<td class="alphamissense"><div class="variant-function" data-function=""></div></td>',sift:'<td class="sift"><div class="variant-function" data-function=""></div></td>',polyphen:'<td class="polyphen"><div class="variant-function" data-function=""></div></td>'}},6112:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsColumnUpdater=void 0;const a=i(3522),n=i(6274);t.ResultsColumnUpdater=class{static updateTogovarId(e,t,i){e&&t?(e.href=i,e.textContent=t):e&&(e.href="",e.textContent="")}static updateRefSNP(e,t,i){if(e&&t){if(!i||0===i.length)return e.dataset.remains="0",t.href="",void(t.textContent="");e.dataset.remains=(i.length-1).toString(),t.href=`http://identifiers.org/dbsnp/${i[0]}`,t.textContent=i[0]}}static updatePosition(e,t,i,a){e&&(e.textContent=i),t&&(t.textContent=a.toString())}static updateRefAlt(e,t,i,a){const n=this.formatRefAltData(i||""),o=this.formatRefAltData(a||"");e&&(e.textContent=n.display,e.dataset.sum=n.length.toString()),t&&(t.textContent=o.display,t.dataset.sum=o.length.toString())}static formatRefAltData(e){return{display:this.formatRefAlt(e),length:e.length}}static formatRefAlt(e){return e.substring(0,n.REF_ALT_SHOW_LENGTH)+(e.length>n.REF_ALT_SHOW_LENGTH?"...":"")}static updateVariantType(e,t){if(!e)return;const i=(0,a.getSimpleSearchConditionMaster)("type").items;e.textContent=i.find(e=>e.id===t)?.label||""}static updateGene(e,t,i){if(e&&t){if(!i||0===i.length)return e.dataset.remains="0",t.href="",void(t.textContent="");e.dataset.remains=(i.length-1).toString(),t.href=`/gene/${i[0].id}`,t.textContent=i[0].name}}static updateAltFrequency(e,t){(0,a.getSimpleSearchConditionMaster)("dataset").items.filter(e=>e.has_freq).forEach(i=>{const a=t?.find(e=>e.source===i.id),n=e[i.id];n&&(n.frequency=a)})}static updateConsequence(e,t,i,n){if(!e||!t)return;if(!i)return e.dataset.remains="0",void(t.textContent="");const o=(0,a.getSimpleSearchConditionMaster)("consequence").items,s=Array.from(new Set(n.flatMap(e=>e.consequence)));e.dataset.remains=(s.length-1).toString(),t.textContent=o.find(e=>e.id===i)?.label||""}static updateClinicalSignificance(e,t,i,a){if(!e||!t||!i)return;if(!a||0===a.length)return void this.resetClinicalSignificance(e,t,i);const n=a[0],o=n.conditions?.[0];e.dataset.value=n.interpretations[0],this.updateClinicalCondition(e,t,o),this.updateClinicalMetadata(i,a)}static resetClinicalSignificance(e,t,i){e.dataset.value="",t.textContent="",t.setAttribute("href",""),i.dataset.remains="0",i.dataset.mgend="false"}static updateClinicalCondition(e,t,i){i?(e.textContent="",t.textContent=i.name||"",i.medgen?t.setAttribute("href",`/disease/${i.medgen}`):(e.textContent=i.name,t.textContent="",t.className="")):(e.textContent="others",t.textContent="")}static updateClinicalMetadata(e,t){e.dataset.remains=(t.length-1).toString();const i=t.some(e=>"mgend"===e.source);e.dataset.mgend=i.toString()}static updateFunctionPrediction(e,t,i){if(e){if(null===t)return e.textContent="",void(e.dataset.function="");e.textContent=t.toString(),e.dataset.function=i(t)}}static updateAlphaMissense(e,t){this.updateFunctionPrediction(e,t,e=>e<.34?"LB":e>.564?"LP":"A")}static updateSift(e,t){this.updateFunctionPrediction(e,t,e=>e>=.05?"T":"D")}static updatePolyphen(e,t){this.updateFunctionPrediction(e,t,e=>e>.908?"PROBD":e>.446?"POSSD":e>=0?"B":"U")}}},8326:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsRowView=void 0;const a=i(216),n=i(5833);i(4516);const o=i(6274),s=i(6112);t.ResultsRowView=class{constructor(e){this._isDestroyed=!1,this.togovarIdAnchor=null,this.refsnpCell=null,this.refsnpAnchor=null,this.positionChromosome=null,this.positionCoordinate=null,this.refElement=null,this.altElement=null,this.typeElement=null,this.geneCell=null,this.geneAnchor=null,this.frequencyElements={},this.consequenceCell=null,this.consequenceItem=null,this.clinicalSignificance=null,this.clinicalAnchor=null,this.clinicalIcon=null,this.alphaMissenseFunction=null,this.siftFunction=null,this.polyphenFunction=null,this.index=e,this.selected=!1,this.tr=this._createTableRow(),n.storeManager.bind("selectedRow",this),n.storeManager.bind("offset",this)}destroy(){this._isDestroyed||(n.storeManager.unbind("selectedRow",this),n.storeManager.unbind("offset",this),this.tr&&this.tr.parentNode&&this.tr.parentNode.removeChild(this.tr),this.togovarIdAnchor=null,this.refsnpCell=null,this.refsnpAnchor=null,this.positionChromosome=null,this.positionCoordinate=null,this.refElement=null,this.altElement=null,this.typeElement=null,this.geneCell=null,this.geneAnchor=null,this.frequencyElements={},this.consequenceCell=null,this.consequenceItem=null,this.clinicalSignificance=null,this.clinicalAnchor=null,this.clinicalIcon=null,this.alphaMissenseFunction=null,this.siftFunction=null,this.polyphenFunction=null,this._isDestroyed=!0)}updateTableRow(){if(this._isDestroyed)return;if(n.storeManager.getData("isFetching")||n.storeManager.getData("isStoreUpdating"))return this._setLoadingState();if(n.storeManager.getData("rowCount")<=this.index)return this._setOutOfRangeState();const e=n.storeManager.getRecordByIndex(this.index);if(!e||"loading"===e||"out of range"===e)return this._setLoadingState();this._prepareTableData(),a.COLUMNS.forEach(t=>this._updateColumnContent(t,e)),this.tr.classList.remove("-loading","-out-of-range")}selectedRow(e){this._isDestroyed||(this.selected=e===this.index,this.tr.classList.toggle("-selected",this.selected))}offset(){this._isDestroyed||this.updateTableRow()}_createTableRow(){const e=document.createElement("tr");return e.classList.add("-loading"),e.innerHTML=`<td colspan="${a.COLUMNS.length}"></td>`,e.addEventListener("click",this._handleRowClick.bind(this)),e}_setLoadingState(){this.tr.classList.add("-loading"),this.tr.innerHTML=`<td colspan="${a.COLUMNS.length}"></td>`}_setOutOfRangeState(){this.tr.classList.add("-out-of-range"),this.tr.innerHTML=`<td colspan="${a.COLUMNS.length}"></td>`}_prepareTableData(){this.tr.innerHTML=this._createTableCellHTML(),this._cacheTableCells()}_createTableCellHTML(){return a.COLUMNS.map(e=>"alt_frequency"===e.id?(0,o.createFrequencyColumnHTML)():o.COLUMN_TEMPLATES[e.id]||"").join("")}_cacheTableCells(){this._cacheBasicElements(),this._cacheFrequencyElements(),this._cacheFunctionElements()}_cacheBasicElements(){this.togovarIdAnchor=this.tr.querySelector("td.togovar_id > a"),this.refsnpCell=this.tr.querySelector("td.refsnp_id"),this.refsnpAnchor=this.refsnpCell?.querySelector("a")||null;const e=this.tr.querySelector("td.position > .chromosome-position");this.positionChromosome=e?.querySelector(".chromosome")||null,this.positionCoordinate=e?.querySelector(".coordinate")||null;const t=this.tr.querySelector("td.ref_alt > .ref-alt");this.refElement=t?.querySelector("span.ref")||null,this.altElement=t?.querySelector("span.alt")||null,this.typeElement=this.tr.querySelector("td.type > .variant-type"),this.geneCell=this.tr.querySelector("td.gene"),this.geneAnchor=this.geneCell?.querySelector("a")||null,this.consequenceCell=this.tr.querySelector("td.consequence"),this.consequenceItem=this.consequenceCell?.querySelector(".consequence-item")||null;const i=this.tr.querySelector("td.clinical_significance");this.clinicalSignificance=i?.querySelector(".clinical-significance")||null,this.clinicalAnchor=i?.querySelector("a")||null,this.clinicalIcon=i?.querySelector("span.icon")||null}_cacheFrequencyElements(){this.frequencyElements={},this.tr.querySelectorAll("td.alt_frequency > logarithmized-block-graph-frequency-view").forEach(e=>{const t=e,i=t.dataset.dataset;i&&(this.frequencyElements[i]=t)})}_cacheFunctionElements(){const e=this.tr.querySelector("td.alphamissense");this.alphaMissenseFunction=e?.querySelector(".variant-function")||null;const t=this.tr.querySelector("td.sift");this.siftFunction=t?.querySelector(".variant-function")||null;const i=this.tr.querySelector("td.polyphen");this.polyphenFunction=i?.querySelector(".variant-function")||null}_updateColumnContent(e,t){const i={togovar_id:()=>s.ResultsColumnUpdater.updateTogovarId(this.togovarIdAnchor,t.id,`/variant/${t.id}`),refsnp_id:()=>s.ResultsColumnUpdater.updateRefSNP(this.refsnpCell,this.refsnpAnchor,t.existing_variations),position:()=>s.ResultsColumnUpdater.updatePosition(this.positionChromosome,this.positionCoordinate,t.chromosome,t.position),ref_alt:()=>s.ResultsColumnUpdater.updateRefAlt(this.refElement,this.altElement,t.reference,t.alternate),type:()=>s.ResultsColumnUpdater.updateVariantType(this.typeElement,t.type),gene:()=>s.ResultsColumnUpdater.updateGene(this.geneCell,this.geneAnchor,t.symbols),alt_frequency:()=>s.ResultsColumnUpdater.updateAltFrequency(this.frequencyElements,t.frequencies),consequence:()=>s.ResultsColumnUpdater.updateConsequence(this.consequenceCell,this.consequenceItem,t.most_severe_consequence,t.transcripts),clinical_significance:()=>s.ResultsColumnUpdater.updateClinicalSignificance(this.clinicalSignificance,this.clinicalAnchor,this.clinicalIcon,t.significance),alphamissense:()=>s.ResultsColumnUpdater.updateAlphaMissense(this.alphaMissenseFunction,t.alphamissense),sift:()=>s.ResultsColumnUpdater.updateSift(this.siftFunction,t.sift),polyphen:()=>s.ResultsColumnUpdater.updatePolyphen(this.polyphenFunction,t.polyphen)};i[e.id]?.()}_handleRowClick(){n.storeManager.setData("selectedRow",this.selected?void 0:this.index);const e=new CustomEvent("tapCompleted",{bubbles:!0,detail:{rowIndex:this.index}});this.tr.dispatchEvent(e)}}},4949:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsScrollBar=void 0;const a=i(5833),n=i(216),o=i(6427);t.ResultsScrollBar=class{constructor(e){this._lastScrollPosition=0,this._container=e,o.ScrollBarRenderer.createScrollBarHTML(this._container);const{scrollBar:t,position:i,total:a}=o.ScrollBarRenderer.initializeElements(this._container);this._scrollBarElement=t,this._positionLabel=i,this._totalLabel=a,this._renderer=new o.ScrollBarRenderer(this._container,this._scrollBarElement,this._positionLabel,this._totalLabel),this._dragManager=new o.DragManager({scrollBarElement:this._scrollBarElement,container:this._container,onDragCallback:this._handleDrag.bind(this),onVisualStateChange:this._handleVisualStateChange.bind(this)}),this._bindStoreEvents(),this._renderer.resetCursorStyle(),this._dragManager.initializeDragManager()}_bindStoreEvents(){a.storeManager.bind("offset",this),a.storeManager.bind("numberOfRecords",this),a.storeManager.bind("rowCount",this)}offset(e){this._renderer.updatePositionLabel(e),this._synchronizeScrollBarWithStore(),!window.matchMedia("(hover: none) and (pointer: coarse)").matches||this._container.classList.contains("-active")}numberOfRecords(e){this._renderer.updateTotalLabel(e),this._synchronizeScrollBarWithStore()}rowCount(){this._synchronizeScrollBarWithStore()}setInactive(){this._renderer.setInactive()}setActive(){this._renderer.setActive()}destroy(){this._dragManager.destroyDragManager(),a.storeManager.unbind("offset",this),a.storeManager.unbind("numberOfRecords",this),a.storeManager.unbind("rowCount",this),this._renderer.clearAllTimeouts();const e=this._container.querySelector(".bar");e&&e.remove()}handleScrollWithFeedback(e,t){const i=this._getStoreData("rowCount",0),s=this._getStoreData("numberOfRecords",0);if(i<=0||s<=0)return;const r=(0,o.calculateTouchBasedRowOffset)(e,t,i,s),l=(0,o.constrainRowOffsetToValidRange)(r,i,s);this._lastScrollPosition=l*n.TR_HEIGHT,a.storeManager.setData("offset",l),this.updateDirectly(l)}handleScroll(e){const t=this._getStoreData("numberOfRecords",0),i=this._getStoreData("rowCount",0);if(i<=0||t<=0)return;const n=(0,o.calculateNewScrollPosition)(e,this._lastScrollPosition,t,i);if(n.newScrollPosition===this._lastScrollPosition)return;this._lastScrollPosition=n.newScrollPosition;const s=(0,o.convertScrollPositionToRowOffset)(this._lastScrollPosition);a.storeManager.setData("offset",s)}updateDirectly(e){const t=this._getStoreData("rowCount",0),i=this._getStoreData("numberOfRecords",0);if(t<=0||i<=0)return;const a=(0,o.calculateScrollbarDimensions)(e,t,i);this._renderer.applyScrollBarStyles(a,e)}resetScrollPosition(){this._lastScrollPosition=0,this.updateDirectly(0)}_getStoreData(e,t){const i=a.storeManager.getData(e);return"number"==typeof i&&i>=0?i:t}_getScrollData(){return{visibleRowCount:this._getStoreData("rowCount",0),totalRecordCount:this._getStoreData("numberOfRecords",0),offset:this._getStoreData("offset",0)}}_synchronizeScrollBarWithStore(){const{offset:e,visibleRowCount:t,totalRecordCount:i}=this._getScrollData(),a=(0,o.calculateScrollbarDimensions)(e,t,i);this._renderer.updateScrollBarVisualState(a,t,i)}_handleDrag(e){this._renderer.updateScrollBarPosition(e);const t={position:{top:e}};this._processDragPosition(null,t)}_processDragPosition(e,t){const i=this._getStoreData("rowCount",0),s=this._getStoreData("numberOfRecords",0);if(i<=0||s<=0)return;const r=i*n.TR_HEIGHT,l=t.position.top/r;let c=Math.ceil(l*s);c=(0,o.constrainRowOffsetToValidRange)(c,i,s),this._lastScrollPosition=c*n.TR_HEIGHT,a.storeManager.setData("offset",c),this._renderer.activateDragStateWithAutoRelease()}_handleVisualStateChange(e){this._renderer.updateCursorStyle(e),this._renderer.updateDraggingState(e)}}},9890:function(e,t,i){"use strict";t.y=void 0;const a=i(5833),n=i(216),o=i(4949),s=i(6305),r=i(7043),l=i(3115),c=i(5056),d="header.header > .left > .status",h="#Messages",u=".tablecontainer",g=".tablecontainer > table.results-view > thead",p=".tablecontainer > table.results-view > tbody",f=".scroll-bar",b=["searchStatus","searchResults","columns","offset","karyotype","searchMessages"];t.y=class{constructor(e){this.elm=e;const{status:t,messages:i,thead:a,tbody:n,tablecontainer:o}=this._getDOMElements();this.tbody=n,this.tablecontainer=o,this._connectToStoreManager(),this._configureScrollBar(),this._initializeTableHeader(a);const s=this._createStylesheet();this._initializeComponentHandlers(t,i,s),this._configureInitialState(),this._initializeSearchModeListener()}destroy(){this.scrollBar&&this.scrollBar.destroy(),this.touchHandler&&this.touchHandler.destroy(),this.dataManager&&this.dataManager.destroy(),b.forEach(e=>{a.storeManager.unbind(e,this)}),document.removeEventListener("keydown",this._boundKeydownHandler)}offset(e){this.dataManager.handleOffsetChange(e)}searchMessages(e){this.dataManager.handleSearchMessages(e)}searchStatus(e){this.dataManager.handleSearchStatus(e)}searchResults(e){this.dataManager.handleSearchResults(e,(0,c.isTouchDevice)(),this.touchHandler.setElementsInteractable.bind(this.touchHandler))}columns(e){this.dataManager.handleColumnsChange(e)}updateDisplaySize(){this.dataManager.updateDisplaySize((0,c.isTouchDevice)(),this.touchHandler.setElementsInteractable.bind(this.touchHandler))}karyotype(e){this.updateDisplaySize()}_getDOMElements(){return{status:this.elm.querySelector(d),messages:this.elm.querySelector(h),thead:this.elm.querySelector(g),tbody:this.elm.querySelector(p),tablecontainer:this.elm.querySelector(u)}}_connectToStoreManager(){b.forEach(e=>{a.storeManager.bind(e,this)}),this._boundKeydownHandler=this._keydown.bind(this),document.addEventListener("keydown",this._boundKeydownHandler)}_configureScrollBar(){this.elm.querySelector(u).insertAdjacentHTML("afterend",'<div class="scroll-bar"></div>'),this.scrollBar=new o.ResultsScrollBar(this.elm.querySelector(f))}_initializeTableHeader(e){e.innerHTML=`<tr>${n.COLUMNS.map(e=>`<th class="${e.id}"><p data-tooltip-id="table-header-${e.id}">${e.label}</p></th>`).join("")}</tr>`}_createStylesheet(){const e=document.createElement("style");return document.getElementsByTagName("head")[0].appendChild(e),e}_initializeComponentHandlers(e,t,i){this.touchHandler=new r.ResultsViewTouchHandler(this.elm,this.tbody,this.tablecontainer),this.dataManager=new l.ResultsViewDataManager(this.elm,e,t,this.tbody,i),this._configureEventHandlers()}_configureInitialState(){this.dataManager.handleColumnsChange(a.storeManager.getData("columns")),this.touchHandler.setElementsInteractable(!(0,c.isTouchDevice)())}getWheelEventName(){return"onwheel"in document?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll"}_configureEventHandlers(){this.tbody.addEventListener(this.getWheelEventName(),this._scroll.bind(this)),this.touchHandler.setScrollCallbacks({onScrollStart:()=>{this.scrollBar.setActive()},onScroll:e=>{const t=a.storeManager.getData("offset")||0;this.scrollBar.handleScrollWithFeedback(e,t)},onScrollEnd:()=>{this.scrollBar.setInactive()}})}_scroll(e){e.stopPropagation(),0!==e.deltaY&&this.scrollBar.handleScroll(e.deltaY)}_keydown(e){if(void 0!==a.storeManager.getData("selectedRow")&&(0,s.keyDownEvent)("selectedRow"))switch(e.key){case"ArrowUp":this.dataManager.shiftSelectedRow(-1);break;case"ArrowDown":this.dataManager.shiftSelectedRow(1);break;case"Escape":a.storeManager.setData("selectedRow",void 0)}}_initializeSearchModeListener(){a.storeManager.subscribe("searchMode",e=>{this.scrollBar.resetScrollPosition()})}}},3115:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsViewDataManager=void 0;const a=i(5833),n=i(8387);t.ResultsViewDataManager=class{constructor(e,t,i,a,o){this._rows=[],this._isDestroyed=!1,this._container=e,this._status=t,this._messages=i,this._tbody=a,this._stylesheet=o,this._displayManager=new n.ResultsViewDisplayManager(a,o)}updateDisplaySize(e,t){this._isDestroyed||this._displayManager.updateDisplaySize(e,t)}handleSearchResults(e,t,i){this._displayManager.handleSearchResults(t,i)}handleColumnsChange(e){this._displayManager.handleColumnsChange(e)}handleSearchMessages(e){this._messages.innerHTML="",this._appendMessageIfExists(e.notice,"notice"),this._appendMessageIfExists(e.warning,"warning"),this._appendMessageIfExists(e.error,"error")}handleSearchStatus(e){const{available:t,filtered:i}=e;this._status.innerHTML=`The number of available variations is ${t.toLocaleString()} out of <span class="bigger">${i.toLocaleString()}</span>.`,this._updateNotFoundState(0===i)}handleOffsetChange(e){if(this._shouldSkipOffsetUpdate())return;const t=this._calculateDisplayingRegions();Object.keys(t).length>0&&a.storeManager.setData("displayingRegionsOnChromosome",t)}shiftSelectedRow(e){const t=this._getSelectionState(),i=this._calculateNewIndex(t,e),n=this._adjustOffsetForSelection(t,i,e);n!==t.offset&&a.storeManager.setData("offset",n),a.storeManager.setData("selectedRow",i)}destroy(){this._isDestroyed||(this._rows.forEach(e=>{e&&"function"==typeof e.destroy&&e.destroy()}),this._rows=[],this._isDestroyed=!0)}_shouldSkipOffsetUpdate(){return a.storeManager.getData("isStoreUpdating")||a.storeManager.getData("isFetching")}_calculateDisplayingRegions(){var e;const t=a.storeManager.getData("rowCount"),i={};for(let n=0;n<t;n++){const t=a.storeManager.getRecordByIndex(n);this._isValidRecord(t)&&(i[e=t.chromosome]??(i[e]=[])).push(t.start)}return this._convertToRegions(i)}_isValidRecord(e){if(null===e||"object"!=typeof e)return!1;const t=e;return"string"==typeof t.chromosome&&"number"==typeof t.start}_convertToRegions(e){const t={};for(const i in e){const a=e[i];t[i]={start:Math.min(...a),end:Math.max(...a)}}return t}_appendMessageIfExists(e,t){e&&(this._messages.innerHTML+=`<div class="message -${t}">${e}</div>`)}_updateNotFoundState(e){e?this._container.classList.add("-not-found"):this._container.classList.remove("-not-found")}_getSelectionState(){return{currentIndex:a.storeManager.getData("selectedRow"),rowCount:a.storeManager.getData("rowCount"),offset:a.storeManager.getData("offset"),numberOfRecords:a.storeManager.getData("numberOfRecords")}}_calculateNewIndex(e,t){const i=e.currentIndex+t;return Math.max(0,Math.min(i,e.rowCount-1))}_adjustOffsetForSelection(e,t,i){let{offset:a}=e;return i<0&&0===t&&a>0?a--:i>0&&t===e.rowCount-1&&a+t<e.numberOfRecords-1&&a++,a}}},8387:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsViewDisplayManager=void 0;const a=i(5833),n=i(8326),o=i(216);t.ResultsViewDisplayManager=class{constructor(e,t){this._rows=[],this._tbody=e,this._stylesheet=t}updateDisplaySize(e,t){if(this._shouldSkipUpdate())return;const i=this._calculateDisplaySize();this._ensureRowsExist(i.rowCount),this._adjustOffset(i),this._updateRowsWithAnimation(e,t)}handleSearchResults(e,t){const i=a.storeManager.getData("isStoreUpdating"),n=a.storeManager.getData("isFetching");i||n?requestAnimationFrame(()=>this.handleSearchResults(e,t)):this._validateData()?this.updateDisplaySize(e,t):console.warn("Data validation failed")}handleColumnsChange(e){this._clearExistingStyles(),this._applyColumnStyles(e)}_shouldSkipUpdate(){return a.storeManager.getData("isFetching")}_calculateDisplaySize(){const e=this._calculateAvailableHeight(),t=Math.floor(e/o.TR_HEIGHT),i=a.storeManager.getData("numberOfRecords"),n=a.storeManager.getData("offset"),s=Math.min(t,i);return a.storeManager.setData("rowCount",s),{maxRowCount:t,rowCount:s,numberOfRecords:i,offset:n}}_calculateAvailableHeight(){const e=a.storeManager.getData("karyotype")?.height||0;return window.innerHeight-this._tbody.getBoundingClientRect().top-e-o.COMMON_FOOTER_HEIGHT-2}_ensureRowsExist(e){for(;this._rows.length<e;){const e=this._rows.length,t=new n.ResultsRowView(e);this._rows.push(t),this._tbody.appendChild(t.tr)}}_adjustOffset(e){const{maxRowCount:t,numberOfRecords:i,offset:n}=e,o=t-(i-n);if(o>0){const e=this._calculateAdjustedOffset(n,o);a.storeManager.setData("offset",e)}}_calculateAdjustedOffset(e,t){return e>=t?e-t:0}_updateRowsWithAnimation(e,t){requestAnimationFrame(()=>{this._rows.forEach(e=>e.updateTableRow()),e&&t(!1)})}_validateData(){const e=a.storeManager.getData("searchResults"),t=a.storeManager.getData("numberOfRecords");return Array.isArray(e)&&"number"==typeof t&&t>=0}_clearExistingStyles(){const e=this._stylesheet.sheet;if(e)for(;e.cssRules.length>0;)e.deleteRule(0)}_applyColumnStyles(e){const t=this._stylesheet.sheet;t&&e.forEach((e,i)=>{const a=e.isUsed?"table-cell":"none",n=`.tablecontainer > table.results-view th.${e.id}, .tablecontainer > table.results-view td.${e.id} { display: ${a} }`;t.insertRule(n,i)})}}},7043:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultsViewTouchHandler=void 0;const a=i(5056),n=.1,o=10,s=300;t.ResultsViewTouchHandler=class{constructor(e,t,i){this._isDestroyed=!1,this._touchState={startY:0,startX:0,startTime:0,lastY:0,lastX:0,distance:0,duration:0,isScrolling:!1},this._scrollCallbacks={},this._boundHandlers={touchStart:this._handleTouchStart.bind(this),touchMove:this._handleTouchMove.bind(this),touchEnd:this._handleTouchEnd.bind(this),tapCompleted:this._handleTapCompleted.bind(this)},this._container=e,this._tbody=t,this._tablecontainer=i,this._setupTouchEvents()}setScrollCallbacks(e){this._isDestroyed||(this._scrollCallbacks={...e})}setElementsInteractable(e){this._container.querySelectorAll(".tablecontainer > table > tbody > tr, .tablecontainer > table > tbody > td, .tablecontainer > table > tbody > td *:not(a)").forEach(t=>{t.style.pointerEvents=e?"auto":"none"})}destroy(){if(this._isDestroyed)return;[this._tablecontainer,this._tbody].forEach(e=>{e.removeEventListener("touchstart",this._boundHandlers.touchStart),e.removeEventListener("touchmove",this._boundHandlers.touchMove),e.removeEventListener("touchend",this._boundHandlers.touchEnd)}),this._tbody.removeEventListener("tapCompleted",this._boundHandlers.tapCompleted),this._scrollCallbacks={},this._isDestroyed=!0}_setupTouchEvents(){[this._tablecontainer,this._tbody].forEach(e=>{e.addEventListener("touchstart",this._boundHandlers.touchStart,{passive:!0}),e.addEventListener("touchmove",this._boundHandlers.touchMove,{passive:!0}),e.addEventListener("touchend",this._boundHandlers.touchEnd,{passive:!0})}),this._tbody.addEventListener("tapCompleted",this._boundHandlers.tapCompleted)}_handleTouchStart(e){if(!this._isValidTouchTarget(e)||1!==e.touches.length)return;this._resetTouchState();const t=e.touches[0];this._touchState.startY=t.clientY,this._touchState.startX=t.clientX,this._touchState.lastY=t.clientY,this._touchState.lastX=t.clientX,this._touchState.startTime=Date.now(),this.setElementsInteractable(!0)}_handleTouchMove(e){if(!this._isValidTouchTarget(e)||1!==e.touches.length)return;const t=e.touches[0],i=this._analyzeTouchGesture(t.clientY,t.clientX);this._touchState.distance=i.distance,i.isScroll&&(this._touchState.isScrolling||(this._touchState.isScrolling=!0,this.setElementsInteractable(!1),this._scrollCallbacks.onScrollStart?.()),this._touchState.lastY=t.clientY,this._scrollCallbacks.onScroll?.(-i.deltaY*n))}_handleTouchEnd(e){this._touchState.duration=Date.now()-this._touchState.startTime;this._touchState.distance<o&&this._touchState.duration<s?this.setElementsInteractable(!0):this._touchState.isScrolling?(this._touchState.isScrolling=!1,this.setElementsInteractable(!1),this._scrollCallbacks.onScrollEnd?.()):this.setElementsInteractable(!0),this._resetTouchState()}_handleTapCompleted(e){(0,a.isTouchDevice)()&&this.setElementsInteractable(!1)}_analyzeTouchGesture(e,t){const i=e-this._touchState.startY,a=t-this._touchState.startX,n=Math.sqrt(a*a+i*i),r=Math.abs(i)>Math.abs(a)&&n>o,l=Date.now()-this._touchState.startTime;return{isTap:n<o&&l<s,isScroll:r,deltaY:i,deltaX:a,distance:n}}_isValidTouchTarget(e){return(this._container.contains(e.target)||this._container.contains(e.currentTarget))&&(e.currentTarget===this._tablecontainer||e.currentTarget===this._tbody)}_resetTouchState(){this._touchState.isScrolling=!1,this._touchState.distance=0,this._touchState.startY=0,this._touchState.startX=0,this._touchState.lastY=0,this._touchState.lastX=0,this._touchState.startTime=0,this._touchState.duration=0}}},6110:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragManager=void 0;const a=i(5056);class n{constructor(e){this._isTouchDragging=!1,this._touchStartY=0,this._touchStartTop=0,this._scrollBarElement=e.scrollBarElement,this._container=e.container,this._onDragCallback=e.onDragCallback,this._onVisualStateChange=e.onVisualStateChange,this._boundMouseDown=this._onMouseDown.bind(this),this._boundMouseMove=this._onMouseMove.bind(this),this._boundMouseUp=this._onMouseUp.bind(this),this._boundTouchStart=this._onTouchStart.bind(this),this._boundTouchMove=this._onTouchMove.bind(this),this._boundTouchEnd=this._onTouchEnd.bind(this)}initializeDragManager(){this._supportsMouseInteraction()&&this._initializeMouseDrag(),this._initializeTouchDrag()}destroyDragManager(){this._removeMouseEventListeners(),this._removeTouchEventListeners(),this._resetState()}_supportsMouseInteraction(){return(0,a.supportsMouseInteraction)()}_initializeMouseDrag(){this._mouseDragState={isDragging:!1,startY:0,startTop:0},this._attachMouseEventListeners()}_attachMouseEventListeners(){this._scrollBarElement.addEventListener("mousedown",this._boundMouseDown),document.addEventListener("mousemove",this._boundMouseMove),document.addEventListener("mouseup",this._boundMouseUp)}_removeMouseEventListeners(){this._scrollBarElement.removeEventListener("mousedown",this._boundMouseDown),document.removeEventListener("mousemove",this._boundMouseMove),document.removeEventListener("mouseup",this._boundMouseUp)}_onMouseDown(e){this._mouseDragState&&(e.preventDefault(),this._mouseDragState.isDragging=!0,this._mouseDragState.startY=e.clientY,this._mouseDragState.startTop=this._getCurrentScrollBarTop(),this._onVisualStateChange(!0))}_onMouseMove(e){if(!this._mouseDragState?.isDragging)return;e.preventDefault();const t=e.clientY-this._mouseDragState.startY,i=this._mouseDragState.startTop+t,a=this._constrainPositionWithinBounds(i);this._onDragCallback(a)}_onMouseUp(){this._mouseDragState?.isDragging&&(this._mouseDragState.isDragging=!1,this._onVisualStateChange(!1))}_initializeTouchDrag(){this._attachTouchEventListeners()}_attachTouchEventListeners(){this._scrollBarElement.addEventListener("touchstart",this._boundTouchStart,n.TOUCH_EVENT_OPTIONS),this._scrollBarElement.addEventListener("touchmove",this._boundTouchMove,n.TOUCH_EVENT_OPTIONS),this._scrollBarElement.addEventListener("touchend",this._boundTouchEnd,n.TOUCH_EVENT_OPTIONS)}_removeTouchEventListeners(){this._scrollBarElement.removeEventListener("touchstart",this._boundTouchStart),this._scrollBarElement.removeEventListener("touchmove",this._boundTouchMove),this._scrollBarElement.removeEventListener("touchend",this._boundTouchEnd)}_onTouchStart(e){e.preventDefault(),this._isTouchDragging=!0,this._touchStartY=e.touches[0].clientY,this._touchStartTop=this._getCurrentScrollBarTop(),this._onVisualStateChange(!0)}_onTouchMove(e){if(!this._isTouchDragging)return;e.preventDefault();const t=e.touches[0].clientY-this._touchStartY,i=this._touchStartTop+t,a=this._constrainPositionWithinBounds(i);this._onDragCallback(a)}_onTouchEnd(e){this._isTouchDragging&&(e.preventDefault(),this._isTouchDragging=!1,this._onVisualStateChange(!1))}_getCurrentScrollBarTop(){return parseInt(this._scrollBarElement.style.top)||0}_constrainPositionWithinBounds(e){const t=this._container.offsetHeight-this._scrollBarElement.offsetHeight;return Math.max(0,Math.min(e,t))}_resetState(){this._mouseDragState&&(this._mouseDragState.isDragging=!1,this._mouseDragState=void 0),this._isTouchDragging=!1,this._touchStartY=0,this._touchStartTop=0}}t.DragManager=n,n.TOUCH_EVENT_OPTIONS={passive:!1}},878:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScrollBarRenderer=void 0;class i{constructor(e,t,i,a){this._container=e,this._scrollBarElement=t,this._positionLabel=i,this._totalLabel=a}static createScrollBarHTML(e){e.insertAdjacentHTML("beforeend",`\n      <div class="${i.CLASS_BAR}">\n        <div class="indicator">\n          <span class="${i.CLASS_POSITION}">1</span>\n          <span class="${i.CLASS_TOTAL}"></span>\n        </div>\n      </div>\n      `)}static initializeElements(e){const t=e.querySelector(`.${i.CLASS_BAR}`),a=t.querySelector(`.${i.CLASS_POSITION}`),n=t.querySelector(`.${i.CLASS_TOTAL}`);return{scrollBar:t,position:a,total:n}}updatePositionLabel(e){this._positionLabel.textContent=String(e+1)}updateTotalLabel(e){this._totalLabel.textContent=e.toLocaleString()}applyScrollBarStyles(e,t){this._scrollBarElement.style.height=`${e.barHeight}px`,this._scrollBarElement.style.top=`${e.barTop}px`,this.updatePositionLabel(t),this._container.classList.add(i.CLASS_ACTIVE)}updateScrollBarVisualState(e,t,a){this._scrollBarElement.style.height=`${e.barHeight}px`,this._scrollBarElement.style.top=`${e.barTop}px`,this.activateDragStateWithAutoRelease(),0===t||a===t?this._scrollBarElement.classList.add(i.CLASS_DISABLED):this._scrollBarElement.classList.remove(i.CLASS_DISABLED)}updateScrollBarPosition(e){this._scrollBarElement.style.top=`${e}px`}setActive(){this._container.classList.add(i.CLASS_ACTIVE)}setInactive(){this._container.classList.remove(i.CLASS_ACTIVE)}updateDraggingState(e){e?(this._container.classList.add(i.CLASS_DRAGGING),this._container.classList.add(i.CLASS_ACTIVE)):this.activateDragStateWithAutoRelease()}activateDragStateWithAutoRelease(){void 0!==this._releaseTimeoutId&&window.clearTimeout(this._releaseTimeoutId),this._container.classList.add(i.CLASS_DRAGGING),this._releaseTimeoutId=window.setTimeout(()=>{this._container.classList.remove(i.CLASS_DRAGGING),this._releaseTimeoutId=void 0},2e3)}updateCursorStyle(e){this._scrollBarElement.style.cursor=e?i.CLASS_CURSOR_GRABBING:i.CLASS_CURSOR_GRAB}resetCursorStyle(){this._scrollBarElement.style.cursor=i.CLASS_CURSOR_GRAB}clearAllTimeouts(){void 0!==this._releaseTimeoutId&&(window.clearTimeout(this._releaseTimeoutId),this._releaseTimeoutId=void 0)}}t.ScrollBarRenderer=i,i.CLASS_CURSOR_GRAB="grab",i.CLASS_CURSOR_GRABBING="grabbing",i.CLASS_ACTIVE="-active",i.CLASS_DRAGGING="-dragging",i.CLASS_DISABLED="-disabled",i.CLASS_BAR="bar",i.CLASS_POSITION="position",i.CLASS_TOTAL="total"},6427:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DragManager=t.ScrollBarRenderer=t.calculateScrollbarDimensions=t.constrainRowOffsetToValidRange=t.calculateTouchBasedRowOffset=t.convertScrollPositionToRowOffset=t.clampValueWithinBounds=t.calculateNewScrollPosition=void 0;var a=i(4230);Object.defineProperty(t,"calculateNewScrollPosition",{enumerable:!0,get:function(){return a.calculateNewScrollPosition}}),Object.defineProperty(t,"clampValueWithinBounds",{enumerable:!0,get:function(){return a.clampValueWithinBounds}}),Object.defineProperty(t,"convertScrollPositionToRowOffset",{enumerable:!0,get:function(){return a.convertScrollPositionToRowOffset}}),Object.defineProperty(t,"calculateTouchBasedRowOffset",{enumerable:!0,get:function(){return a.calculateTouchBasedRowOffset}}),Object.defineProperty(t,"constrainRowOffsetToValidRange",{enumerable:!0,get:function(){return a.constrainRowOffsetToValidRange}}),Object.defineProperty(t,"calculateScrollbarDimensions",{enumerable:!0,get:function(){return a.calculateScrollbarDimensions}});var n=i(878);Object.defineProperty(t,"ScrollBarRenderer",{enumerable:!0,get:function(){return n.ScrollBarRenderer}});var o=i(6110);Object.defineProperty(t,"DragManager",{enumerable:!0,get:function(){return o.DragManager}})},4230:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateNewScrollPosition=function(e,t,i,n){const s=i*a.TR_HEIGHT;let r=s-n*a.TR_HEIGHT;r=Math.max(0,r);const l=o(t+e,{min:0,max:r});return{totalHeight:s,availableScrollY:r,newScrollPosition:l}},t.clampValueWithinBounds=o,t.convertScrollPositionToRowOffset=function(e){return Math.ceil(e/a.TR_HEIGHT)},t.calculateTouchBasedRowOffset=function(e,t,i,n){const o=i*a.TR_HEIGHT,s=e/o;return Math.ceil(s*n)+t},t.constrainRowOffsetToValidRange=function(e,t,i){const a=Math.max(0,i-t);return Math.max(0,Math.min(e,a))},t.calculateScrollbarDimensions=function(e,t,i){const o=i*a.TR_HEIGHT,s=t*a.TR_HEIGHT,r=s/o;let l=Math.ceil(s*r);l=Math.max(l,n);const c=(s-l)/o,d=Math.ceil(e*a.TR_HEIGHT*c);return{barHeight:l,barTop:d,displayRate:r}};const a=i(216),n=30;function o(e,t){return Math.max(t.min,Math.min(e,t.max))}},6996:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionItemValueView=void 0;const s=i(6337),r=i(2924);i(6811),i(6150);const l=o(i(288));let c=class extends s.LitElement{constructor(){super(...arguments),this.label="",this.value="",this.deleteButton=!1}_handleDelete(e){e.stopPropagation(),this.dispatchEvent(new CustomEvent("delete-condition-item",{detail:this.value,bubbles:!0,composed:!0}))}render(){this.dataset&&(this.conditionType&&(this.dataset.conditionType=this.conditionType),this.dataset.value=this.value??"");let e=s.nothing;return"dataset"===this.conditionType||"genotype"===this.conditionType?e=s.html`
        <frequency-count-value-view data-dataset="${this.value}">
        </frequency-count-value-view>
      `:"pathogenicity_prediction"===this.conditionType&&(e=s.html`
        <prediction-value-view data-dataset="${this.value}">
        </prediction-value-view>
      `),s.html`
      <div class="condition-item-value-container">
        <span
          class="inner"
          data-condition-type="${this.conditionType??""}"
          data-value="${this.value}"
        >
          ${this.label}
          ${this.deleteButton?s.html`<button
                class="delete"
                part="delete-tag-btn"
                @click=${this._handleDelete}
              ></button>`:s.nothing}
        </span>
        ${e}
      </div>
    `}};t.ConditionItemValueView=c,c.styles=[l.default],a([(0,r.property)({type:String}),n("design:type",String)],c.prototype,"label",void 0),a([(0,r.property)({type:String}),n("design:type",Object)],c.prototype,"conditionType",void 0),a([(0,r.property)({type:String}),n("design:type",String)],c.prototype,"value",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],c.prototype,"deleteButton",void 0),t.ConditionItemValueView=c=a([(0,r.customElement)("condition-item-value-view")],c)},4381:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREDICTIONS=t.ALPHAMISSENSE_THRESHOLD=void 0,t.ALPHAMISSENSE_THRESHOLD={"Likely benign":{color:"#9def3A",min:0,max:.34,minInequalitySign:"gte",maxInequalitySign:"lt"},Ambiguous:{color:"#bbba7e",min:.34,max:.564,minInequalitySign:"gte",maxInequalitySign:"lte"},"Likely pathogenic":{color:"#ffae00",min:.564,max:1,minInequalitySign:"gt",maxInequalitySign:"lte"}};t.PREDICTIONS={alphamissense:{label:"AlphaMissense",unassignedLists:["unassigned"],threshold:t.ALPHAMISSENSE_THRESHOLD},sift:{label:"SIFT",unassignedLists:["unassigned"],threshold:{Tolerated:{color:"#ff5a54",min:0,max:.05,minInequalitySign:"gte",maxInequalitySign:"lt"},Deleterious:{color:"#04af58",min:.05,max:1,minInequalitySign:"gte",maxInequalitySign:"lte"}}},polyphen:{label:"PolyPhen",unassignedLists:["unassigned","unknown"],threshold:{Benign:{color:"#04af58",min:0,max:.446,minInequalitySign:"gte",maxInequalitySign:"lte"},Possibly_damaging:{color:"#ffae00",min:.446,max:.908,minInequalitySign:"gt",maxInequalitySign:"lte"},Probably_damaging:{color:"#ff5a54",min:.908,max:1,minInequalitySign:"gt",maxInequalitySign:"lte"}}}}},8047:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PredictionRangeSlider=void 0;const s=i(6337),r=i(2924),l=i(9441),c=i(3773),d=i(4220),h=i(4758),u=i(5619),g=o(i(1374)),p=0,f=1,b=.01,m=10,_=247.5,v=(f-p)/m;let y=class extends s.LitElement{constructor(){super(...arguments),this.predictionScoreName="alphamissense",this.minValue=p,this.maxValue=f,this.minInequalitySign="gte",this.maxInequalitySign="lte",this.unassignedLists=[],this.includeUnassigned=!1,this.includeUnknown=!1,this.activeDataset={},this._handleThresholdButton=e=>{const t=e.currentTarget,i=parseFloat(t.dataset.minValue),a=parseFloat(t.dataset.maxValue),n=t.dataset.minInequalitySign,o=t.dataset.maxInequalitySign;[this._rangeInput[0].value,this._numberInput[0].value]=[String(i),String(i)],[this._rangeInput[1].value,this._numberInput[1].value]=[String(a),String(a)],(0,u.setInequalitySign)(this._inequalitySign[0],n),(0,u.setInequalitySign)(this._inequalitySign[1],o),this._range.style.left=100*i+"%",this._range.style.right=100-100*a+"%",this._range.style.backgroundImage=(0,d.createGradientSlider)(this.activeDataset,this._range,_),this.minValue=i,this.maxValue=a,this.minInequalitySign=n,this.maxInequalitySign=o}}firstUpdated(){this._range.style.backgroundImage=(0,d.createGradientSlider)(this.activeDataset,this._range,_)}updated(e){if(e.has("minValue")||e.has("maxValue")||e.has("minInequalitySign")||e.has("maxInequalitySign")||e.has("includeUnassigned")||e.has("includeUnknown")){const e={dataset:this.predictionScoreName,values:[Number(this.minValue),Number(this.maxValue)],inequalitySigns:[this.minInequalitySign,this.maxInequalitySign],includeUnassigned:this.includeUnassigned,includeUnknown:this.includeUnknown};this.dispatchEvent(new CustomEvent("set-prediction-values",{detail:e,bubbles:!0,composed:!0}))}}_handleSliderValues(e,t,i){let a=parseFloat(t[0].value),n=parseFloat(t[1].value);"from"===e.target.className?(i[0].value=String(a),this._range.style.left=100*a+"%",a>n&&(n=parseFloat(t[0].value),t[1].value=String(n),i[1].value=String(n),this._range.style.right=100-100*n+"%")):(i[1].value=String(n),this._range.style.right=100-100*n+"%",n<a&&(a=parseFloat(t[1].value),t[0].value=String(a),i[0].value=String(a),this._range.style.left=100*a+"%")),this._range.style.backgroundImage=(0,d.createGradientSlider)(this.activeDataset,this._range,_),[this.minValue,this.maxValue]=[a,n]}_handleInequalitySign(e){const t=e.currentTarget,i=t.dataset.inequalitySign,a=(0,u.toggleInequality)(i);(0,u.setInequalitySign)(t,a),"gte"===a||"gt"===a?this.minInequalitySign=a:this.maxInequalitySign=a}_handleLabelCheckbox(e){const t=e.currentTarget,i=t.dataset.name;if(!i)return;const a=t.checked;"unassigned"===i&&(this.includeUnassigned=a),"unknown"===i&&(this.includeUnknown=a)}_switchInequalitySign(e){switch(e){case"gte":return{newSign:"gt",newHtml:"&#60;"};case"gt":return{newSign:"gte",newHtml:"&#8804;"};case"lte":return{newSign:"lt",newHtml:"&#60;"};case"lt":return{newSign:"lte",newHtml:"&#8804;"}}}render(){const e=(e,t,i)=>s.html`
      <input
        type="number"
        class=${e}
        title=${t}
        .value=${String(i)}
        min=${p}
        max=${f}
        step=${b}
        @input=${e=>this._handleSliderValues(e,this._numberInput,this._rangeInput)}
      />
    `,t=(e,t)=>s.html`
      <input
        type="range"
        class=${e}
        .value=${String(t)}
        min=${p}
        max=${f}
        step=${b}
        @input=${e=>this._handleSliderValues(e,this._rangeInput,this._numberInput)}
      />
    `,i=e=>s.html`
      <button
        class="inequality-sign"
        type="button"
        data-inequality-sign=${e}
        @click=${e=>this._handleInequalitySign(e)}
      >
        &#8804;
      </button>
    `;return s.html`
      <div class="number-input">
        ${e("from","Lower limit",p)}
        ${i("gte")}
        <span>Prediction score</span>
        ${i("lte")}
        ${e("to","Upper limit",f)}
        ${(()=>s.html`
      ${this.unassignedLists.map(e=>{const t=`${this.predictionScoreName}${(0,h.capitalizeFirstLetter)(e)}`,i="unassigned"===e?this.includeUnassigned:this.includeUnknown;return s.html`
          <input
            type="checkbox"
            id=${t}
            data-name=${e}
            .checked=${i}
            @change=${e=>this._handleLabelCheckbox(e)}
          />
          <label for=${t}>${(0,h.capitalizeFirstLetter)(e)}</label>
        `})}
    `)()}
      </div>

      <div class="slider">
        <div class="bar"></div>
        <ul class="ruler">
          ${(0,l.map)((0,c.range)(m+1),e=>s.html`<li
              class="scale"
              style="left: calc(${100*e/m}% - 0.3rem)"
            >
              ${(v*e).toFixed(1)}
            </li>`)}
        </ul>

        <div class="threshold">
          ${Object.entries(this.activeDataset).map(([e,t],i,a)=>s.html`
              <div
                class="threshold-line"
                style="height:${20*(a.length-i)+10}px; left:${100*t.min}%;"
              ></div>
              <button
                type="button"
                class="threshold-button"
                data-min-value=${t.min}
                data-max-value=${t.max}
                data-min-inequality-sign=${t.minInequalitySign}
                data-max-inequality-sign=${t.maxInequalitySign}
                style="left:${100*t.min}%; top:${20*(a.length-i)}px;"
                @click=${this._handleThresholdButton}
              >
                ${e}
              </button>
            `)}
        </div>
      </div>

      <div class="range-input">
        ${t("from",p)}
        ${t("to",f)}
      </div>
    `}};t.PredictionRangeSlider=y,y.styles=[g.default],a([(0,r.property)({type:String,reflect:!0,attribute:"data-dataset"}),n("design:type",String)],y.prototype,"predictionScoreName",void 0),a([(0,r.property)({type:Number,reflect:!0,attribute:"data-min-value"}),n("design:type",Number)],y.prototype,"minValue",void 0),a([(0,r.property)({type:Number,reflect:!0,attribute:"data-max-value"}),n("design:type",Number)],y.prototype,"maxValue",void 0),a([(0,r.property)({type:String,reflect:!0,attribute:"data-min-inequality-sign"}),n("design:type",String)],y.prototype,"minInequalitySign",void 0),a([(0,r.property)({type:String,reflect:!0,attribute:"data-max-inequality-sign"}),n("design:type",String)],y.prototype,"maxInequalitySign",void 0),a([(0,r.property)({type:Array}),n("design:type",Array)],y.prototype,"unassignedLists",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Object)],y.prototype,"includeUnassigned",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Object)],y.prototype,"includeUnknown",void 0),a([(0,r.property)({type:Object}),n("design:type",Object)],y.prototype,"activeDataset",void 0),a([(0,r.queryAll)('.number-input > input[type="number"]'),n("design:type",Object)],y.prototype,"_numberInput",void 0),a([(0,r.queryAll)('.range-input  > input[type="range"]'),n("design:type",Object)],y.prototype,"_rangeInput",void 0),a([(0,r.queryAll)(".number-input .inequality-sign"),n("design:type",Object)],y.prototype,"_inequalitySign",void 0),a([(0,r.query)(".slider .bar"),n("design:type",HTMLDivElement)],y.prototype,"_range",void 0),t.PredictionRangeSlider=y=a([(0,r.customElement)("prediction-range-slider")],y)},6150:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PredictionValueView=void 0;const s=i(6337),r=i(2924),l=i(9441),c=i(3773),d=i(4220),h=i(4381),u=i(5619),g=o(i(9930)),p=10,f=100,b=(e,t)=>({[e]:{score:t}});let m=class extends s.LitElement{constructor(){super(...arguments),this._dataset="alphamissense",this._label="AlphaMissense",this._values=[0,1],this._inequalitySigns=["gte","lte"],this._includeUnassigned=!1,this._includeUnknown=!1,this._activeDataset=h.ALPHAMISSENSE_THRESHOLD}firstUpdated(){this._setBarStyles()}setValues(e,t,i,a,n){this._dataset=e,this._values=t,this._inequalitySigns=i,this._includeUnassigned=a,this._includeUnknown=n,this._label=h.PREDICTIONS[this._dataset].label,this._activeDataset=h.PREDICTIONS[this._dataset].threshold,(0,u.setInequalitySign)(this._inequalitySignsEl[0],this._inequalitySigns[0]),(0,u.setInequalitySign)(this._inequalitySignsEl[1],this._inequalitySigns[1]),this._setBarStyles(),this.requestUpdate()}_setBarStyles(){this._bar.style.left=100*this._values[0]+"%",this._bar.style.right=100-100*this._values[1]+"%",this._bar.style.backgroundImage=(0,d.createGradientSlider)(this._activeDataset,this._bar,f)}render(){return s.html`
      <div class="pathogenicity-graph">
        <div class="bar"></div>
        <ul class="ruler">
          ${(0,l.map)((0,c.range)(p+1),e=>s.html`<li
                class="scale"
                style="
                  left: calc(${100*e/p}% - ${e/p}px)"
              ></li>`)}
        </ul>
      </div>
      <div class="range">
        <span class="from">${this._values[0]}</span>
        <span class="inequality-sign" data-inequality-sign="gte">&#8804;</span>
        <span class="text">Prediction score</span>
        <span class="inequality-sign" data-inequality-sign="lte">&#8804;</span>
        <span class="to">${this._values[1]}</span>
        <span class="text">
          ${[this._includeUnassigned&&"Unassigned","polyphen"===this._dataset&&this._includeUnknown&&"Unknown"].filter(e=>Boolean(e)).join(", ")}
        </span>
      </div>
    `}get conditionValues(){return{dataset:this._dataset,label:this._label,values:this._values,inequalitySigns:this._inequalitySigns,includeUnassigned:this._includeUnassigned,includeUnknown:this._includeUnknown}}get queryValue(){const e=this._dataset;if(this._noLabelSelected())return b(e,this._toScoreRange(this._values,this._inequalitySigns));const[t,i]=this._values,[a,n]=this._inequalitySigns;if(t===i&&("gt"===a||"lt"===n))return b(e,this._labelScoreFor(e));return{or:[b(e,this._labelScoreFor(e)),b(e,this._toScoreRange(this._values,this._inequalitySigns))]}}_toScoreRange([e,t],[i,a]){if("gte"===i&&"lte"===a)return{gte:e,lte:t};if("gte"===i&&"lt"===a)return{gte:e,lt:t};if("gt"===i&&"lte"===a)return{gt:e,lte:t};if("gt"===i&&"lt"===a)return{gt:e,lt:t};if("gte"===i)return{gte:e};if("gt"===i)return{gt:e};if("lte"===a)return{lte:t};if("lt"===a)return{lt:t};throw new Error("Invalid inequality signs")}_labelScoreFor(e){return"polyphen"===e?this._includeUnassigned&&this._includeUnknown?["unassigned","unknown"]:this._includeUnassigned?["unassigned"]:this._includeUnknown?["unknown"]:["unassigned"]:["unassigned"]}_noLabelSelected(){return"polyphen"===this._dataset?!(this._includeUnassigned||this._includeUnknown):!this._includeUnassigned}};t.PredictionValueView=m,m.styles=[g.default],a([(0,r.state)(),n("design:type",String)],m.prototype,"_dataset",void 0),a([(0,r.state)(),n("design:type",String)],m.prototype,"_label",void 0),a([(0,r.state)(),n("design:type",Array)],m.prototype,"_values",void 0),a([(0,r.state)(),n("design:type",Array)],m.prototype,"_inequalitySigns",void 0),a([(0,r.state)(),n("design:type",Object)],m.prototype,"_includeUnassigned",void 0),a([(0,r.state)(),n("design:type",Object)],m.prototype,"_includeUnknown",void 0),a([(0,r.state)(),n("design:type",Object)],m.prototype,"_activeDataset",void 0),a([(0,r.query)(".bar"),n("design:type",HTMLDivElement)],m.prototype,"_bar",void 0),a([(0,r.queryAll)(".inequality-sign"),n("design:type",Object)],m.prototype,"_inequalitySignsEl",void 0),t.PredictionValueView=m=a([(0,r.customElement)("prediction-value-view")],m)},319:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabView=void 0;const s=i(6337),r=i(2924),l=o(i(3882));let c=class extends s.LitElement{_handleSwitchTab(e){e.preventDefault();const t=e.currentTarget,i=t.getAttribute("href").replace("#",""),a=Array.from(this._sliders).find(e=>e.id===i);a&&(this._tabButtons.forEach(e=>{e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1")}),this._sliders.forEach(e=>e.setAttribute("hidden","true")),a.removeAttribute("hidden"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0"),this._emitSwitchTab(a))}_emitSwitchTab(e){const t={dataset:e.predictionScoreName,values:[Number(e.minValue),Number(e.maxValue)],inequalitySigns:[e.minInequalitySign,e.maxInequalitySign],includeUnassigned:e.includeUnassigned,includeUnknown:e.includeUnknown};this.dispatchEvent(new CustomEvent("switch-tab",{detail:t,bubbles:!0,composed:!0}))}render(){const e=Object.keys(this.datasets);return s.html`
      <ul role="tablist">
        ${e.map((e,t)=>s.html`
            <li>
              <a
                id=${`tab-${e}`}
                class="tab"
                href=${`#${e}`}
                aria-selected=${0===t}
                tabindex=${0===t?"0":"-1"}
                @click=${e=>this._handleSwitchTab(e)}
                >${this.datasets[e].label}
              </a>
            </li>
          `)}
      </ul>

      <div class="tab-panel">
        ${e.map((e,t)=>{const i=this.datasets[e];return s.html`
            <prediction-range-slider
              id=${e}
              aria-labelledby=${`tab-${e}`}
              .predictionScoreName=${e}
              .minValue=${0}
              .maxValue=${1}
              .minInequalitySign=${"gte"}
              .maxInequalitySign=${"lte"}
              .activeDataset=${i.threshold}
              .unassignedLists=${i.unassignedLists}
              .includeUnassigned=${!1}
              .includeUnknown=${!1}
              ?hidden=${0!==t}
            ></prediction-range-slider>
          `})}
      </div>
    `}};t.TabView=c,c.styles=[l.default],a([(0,r.property)({type:Object}),n("design:type",Object)],c.prototype,"datasets",void 0),a([(0,r.queryAll)('ul[role="tablist"] > li > a.tab'),n("design:type",Object)],c.prototype,"_tabButtons",void 0),a([(0,r.queryAll)(".tab-panel > prediction-range-slider"),n("design:type",Object)],c.prototype,"_sliders",void 0),t.TabView=c=a([(0,r.customElement)("tab-view")],c)},4220:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createGradientSlider=function(e,t,a){const n=a&&a>0?a:t.clientWidth||100,o=function(e){const t=(e.style.left||"0%").trim(),a=Number.parseFloat(t);return Number.isFinite(a)?i(a/100,0,1):0}(t),s=Object.values(e).flatMap(({color:e,min:t,max:a})=>[{color:e,offsetPx:i((t-o)*n,0,n)},{color:e,offsetPx:i((a-o)*n,0,n)}]).sort((e,t)=>e.offsetPx-t.offsetPx);if(!s.length)return"none";return`linear-gradient(to right, ${s.map(e=>`${e.color} ${e.offsetPx}px`).join(", ")})`};const i=(e,t,i)=>Math.min(i,Math.max(t,e))},5619:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setInequalitySign=function(e,t){e.dataset.inequalitySign=t,e.textContent=i[t]},t.toggleInequality=function(e){switch(e){case"gte":return"gt";case"gt":return"gte";case"lte":return"lt";case"lt":return"lte"}};const i={gte:"≤",lte:"≤",gt:"<",lt:"<"}},6811:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FrequencyCountValueView=t.MODE=void 0;const s=i(6337),r=i(2924),l=o(i(5291));t.MODE={frequency:"frequency",count:"count",alt_alt:"aac",alt_ref:"arc",hemi_alt:"hac"};const c=["frequency","count"],d=["aac","arc","hac"];let h=class extends s.LitElement{constructor(){super(...arguments),this.conditionType="dataset",this.mode="frequency",this.from=0,this.to=1,this.invert=!1,this.filtered=!1}render(){return s.html`
      <div class="frequencygraph" ?hidden=${this.mode!==t.MODE.frequency}>
        <div class="bar -bar1"></div>
        <div class="bar -bar2"></div>
      </div>
      <div class="range">${this._renderRangeDisplay()}</div>
      <p class="filtered" ?hidden=${!this.filtered}>
        Exclude filtered out variants
      </p>
    `}_renderRangeDisplay(){return this.mode===t.MODE.frequency&&this.invert?s.html`
        <span class="from">0.0</span>
        ~
        <span class="to">${this._formatDisplayValue(this.from)}</span>
        ,
        <span class="from">${this._formatDisplayValue(this.to)}</span>
        ~
        <span class="to">1.0</span>
      `:s.html`
      <span class="from">${this._formatDisplayValue(this.from)}</span>
      ~
      <span class="to">${this._formatDisplayValue(this.to)}</span>
    `}_formatDisplayValue(e){return null===e?"":this.mode===t.MODE.frequency?e.toFixed(Math.max(1,this._getDecimalPlaces(e))):e.toString()}_getDecimalPlaces(e){const t=e.toString(),i=t.indexOf(".");return-1===i?1:Math.max(1,t.length-i-1)}firstUpdated(){this._bars=this.shadowRoot.querySelectorAll(".bar"),this._createScaleElements()}_createScaleElements(){const e=this.shadowRoot.querySelector(".frequencygraph"),t=document.createElement("div");t.classList.add("scale");for(let i=0;i<=10;i++){const a=t.cloneNode();a.style.left=`calc(${10*i}% - ${i/10}px)`,e.appendChild(a)}}setValues(e,t,i,a,n,o){this.conditionType=e,this.mode=t,this.from=i,this.to=a,this.invert=n,this.filtered=o,this.dataset.mode=t,this._updateBarVisualization(),this.requestUpdate()}_updateBarVisualization(){this.mode===t.MODE.frequency&&this._bars&&(this.invert?this._setInvertBarMode():this._setNormalBarMode())}_setNormalBarMode(){this._bars&&null!==this.from&&null!==this.to&&(this._bars[0].style.left=100*this.from+"%",this._bars[0].style.width=100*(this.to-this.from)+"%",this._bars[1].style.width="0%")}_setInvertBarMode(){this._bars&&null!==this.from&&null!==this.to&&(this._bars[0].style.left="0%",this._bars[0].style.width=100*this.from+"%",this._bars[1].style.left=100*this.to+"%",this._bars[1].style.width=100*(1-this.to)+"%")}get queryValue(){const e={name:this.dataset?.dataset??""};return"dataset"===this.conditionType?this._buildDatasetQuery(e):this._buildGenotypeQuery(e)}_buildDatasetQuery(e){return this.invert?this._buildInvertedDatasetQuery(e):this._buildNormalDatasetQuery(e)}_buildInvertedDatasetQuery(e){const t=this.from??0,i=this.to??1;return{or:[{frequency:{dataset:e,frequency:{gte:0,lte:t},filtered:this.filtered}},{frequency:{dataset:e,frequency:{gte:i,lte:1},filtered:this.filtered}}]}}_buildNormalDatasetQuery(e){if(t=this.mode,!c.includes(t))throw new Error(`invalid dataset mode: ${this.mode}`);var t;const i=this.mode,a=this._buildRangeValues();return{frequency:{dataset:e,[i]:a,filtered:this.filtered}}}_buildGenotypeQuery(e){const t=this._buildRangeValues();if(i=this.mode,!d.includes(i))throw new Error(`invalid genotype mode: ${this.mode}`);var i;return{frequency:{dataset:e,genotype:{key:this.mode,count:t},filtered:this.filtered}}}_buildRangeValues(){const e=null!==this.from&&""!==String(this.from),t=null!==this.to&&""!==String(this.to);if(e&&t)return{gte:this.from,lte:this.to};if(e)return{gte:this.from};if(t)return{lte:this.to};throw new Error(`Cannot build range values: both from and to are null or empty for mode ${this.mode}`)}};t.FrequencyCountValueView=h,h.styles=[l.default],a([(0,r.property)({type:String}),n("design:type",String)],h.prototype,"conditionType",void 0),a([(0,r.property)({type:String}),n("design:type",String)],h.prototype,"mode",void 0),a([(0,r.property)({type:Number}),n("design:type",Object)],h.prototype,"from",void 0),a([(0,r.property)({type:Number}),n("design:type",Object)],h.prototype,"to",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],h.prototype,"invert",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],h.prototype,"filtered",void 0),t.FrequencyCountValueView=h=a([(0,r.customElement)("frequency-count-value-view")],h),t.default=h},6551:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(6337),r=i(2924),l=i(7610),c=o(i(4988));let d=class extends s.LitElement{constructor(e,t){super(),this._inputRef=(0,l.createRef)(),this.placeholder="",this.value="",this._handleLoad=()=>{this._inputRef.value&&(this._inputRef.value.value=this.value)},this.placeholder=t||"",e&&e.appendChild(this)}connectedCallback(){super.connectedCallback(),window.addEventListener("load",this._handleLoad)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("load",this._handleLoad)}willUpdate(e){e.has("value")&&this._inputRef.value&&(this._inputRef.value.value=this.value)}_handleInput(e){e.preventDefault();const t=e.target;this.value=t.value,this.dispatchEvent(new CustomEvent("input-change",{detail:this.value,bubbles:!0,composed:!0}))}_handleForm(e){"Enter"===e.key&&e.preventDefault()}_handleResetClick(){this._inputRef.value&&(this._inputRef.value.value="",this.value=""),this.dispatchEvent(new CustomEvent("input-reset"))}render(){return s.html` <div class="search-field-view">
      <div class="fieldcontainer">
        <div class="field">
          <form class="input-form" @keydown=${this._handleForm}>
            <input
              class="searchfield"
              part="input-field"
              ${(0,l.ref)(this._inputRef)}
              type="text"
              .placeholder=${this.placeholder}
              @input=${this._handleInput}
              required
            />
            <button
              class="delete"
              type="reset"
              @click=${this._handleResetClick}
            ></button>
          </form>
        </div>
      </div>
    </div>`}};d.styles=[c.default],a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"placeholder",void 0),a([(0,r.property)({type:String}),n("design:type",String)],d.prototype,"value",void 0),d=a([(0,r.customElement)("search-field"),n("design:paramtypes",[HTMLDivElement,String])],d),t.default=d},6834:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(6337),r=i(2924),l=o(i(4165));let c=class extends s.LitElement{constructor(){super()}render(){return s.html`<button class="btn"></button>`}};c.styles=[l.default],c=a([(0,r.customElement)("search-button"),n("design:paramtypes",[])],c),t.default=c},5309:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHROMOSOME_PATTERN=t.SEARCH_FIELD_CONFIG=t.EXAMPLES=void 0;const a=i(216);t.EXAMPLES=[{key:"Disease",value:"Breast-ovarian cancer, familial 2"},{key:"Gene",value:"ALDH2"},{key:"refSNP",value:"rs114202595"},{key:"TogoVar",value:"tgv56616325"},{key:"Position(GRCh38)",value:"16:48224287"},{key:"Region(GRCh38)",value:"10:71510986-71617219"},{key:"HGVSc",value:"NM_000690:c.1510G>A"},{key:"HGVSp",value:"ALDH2:p.Glu504Lys"}],t.SEARCH_FIELD_CONFIG={placeholder:"Search for disease or gene symbol or rs...",suggestAPIURL:`${a.API_URL}/suggest`,suggestAPIQueryParam:"term",options:{valueMappings:{valueKey:"term",labelKey:"term",aliasOfKey:"alias_of"},titleMappings:{gene:"Gene names",disease:"Disease names"}}},t.CHROMOSOME_PATTERN=/([1-9]|1[0-9]|2[0-2]|X|Y|M|MT):\d+/i},966:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSearchController=void 0;const a=i(3522),n=i(5833),o=i(5309);t.SimpleSearchController=class{constructor(e){this.host=e}search(e){o.CHROMOSOME_PATTERN.test(e)&&(e=e.replace(/Chr|ch|Cr|cs/i,"").toUpperCase()).includes("M:")&&(e=e.replace("M:","MT:")),(0,a.setSimpleSearchCondition)("term",e)}updateTerm(e){this.host._term=e;const t={...n.storeManager.getData("simpleSearchConditions")};t.term=e||"",n.storeManager.setData("simpleSearchConditions",t)}reset(){this.host._term="",this.host._value="",this.host._hideSuggestions=!0,(0,a.setSimpleSearchCondition)("term","")}selectSuggestion(e){this.host._hideSuggestions=!0,this.host._value=e.label,this.host._term=e.label,this.search(e.label)}selectExample(e){this.host._hideSuggestions=!0,this.host._value=e.value,this.host._term=e.value,this.search(e.value)}executeCurrentSearch(){void 0!==this.host._term&&this.search(this.host._term)}executeButtonSearch(){this.search(this.host._term||"")}}},7754:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSearchEventHandlers=void 0;t.SimpleSearchEventHandlers=class{constructor(e,t){this.handleSuggestionEnter=e=>{this.controller.selectSuggestion(e.detail)},this.handleExampleSelected=e=>{this.controller.selectExample(e.detail)},this.handleInputTerm=e=>{this.controller.updateTerm(e.detail)},this.handleTermEnter=()=>{this.controller.executeCurrentSearch()},this.handleSearchButtonClick=()=>{this.controller.executeButtonSearch()},this.handleInputStart=()=>{this.host._hideSuggestions=!1},this.handleInputReset=()=>{this.controller.reset()},this.host=e,this.controller=t}}},2081:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(6337),r=i(2924),l=i(9441),c=o(i(3078));let d=class extends s.LitElement{constructor(){super(...arguments),this.examples=[]}handleClick(e){this.dispatchEvent(new CustomEvent("example-selected",{detail:e,bubbles:!0,composed:!0}))}render(){return s.html`
      ${(0,l.map)(this.examples,e=>s.html`<dl @click=${()=>this.handleClick(e)}>
            <dt>${e.key}</dt>
            <dd>${e.value}</dd>
          </dl>`)}
    `}};d.styles=[c.default],a([(0,r.property)({type:Array}),n("design:type",Array)],d.prototype,"examples",void 0),d=a([(0,r.customElement)("simple-search-examples")],d),t.default=d},7919:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(6337),r=i(2924);i(3612),i(2081),i(6834);const l=i(3522),c=i(966),d=i(7754),h=i(5309),u=o(i(7096));let g=class extends s.LitElement{constructor(){super(),this._value="",this._term=(0,l.getSimpleSearchCondition)("term")||"",this._hideSuggestions=!0,this._handleSearchButtonClick=()=>{this._eventHandlers.handleSearchButtonClick()},this._handleExampleSelected=e=>{this._eventHandlers.handleExampleSelected(e)};const e=document.getElementById("SimpleSearchView");e&&e.appendChild(this),this._controller=new c.SimpleSearchController(this),this._eventHandlers=new d.SimpleSearchEventHandlers(this,this._controller)}get controller(){return this._controller}get eventHandlers(){return this._eventHandlers}render(){return s.html`
      <div class="simple-search-container">
        <search-field-with-suggestions
          exportparts="input-field"
          .placeholder=${h.SEARCH_FIELD_CONFIG.placeholder}
          .suggestAPIURL=${h.SEARCH_FIELD_CONFIG.suggestAPIURL}
          .suggestAPIQueryParam=${h.SEARCH_FIELD_CONFIG.suggestAPIQueryParam}
          .options=${h.SEARCH_FIELD_CONFIG.options}
          .term=${this._term}
          .hideSuggestions=${this._hideSuggestions}
          @new-suggestion-selected=${this._eventHandlers.handleSuggestionEnter}
          @search-term-enter=${this._eventHandlers.handleTermEnter}
          @input-term=${this._eventHandlers.handleInputTerm}
          @input=${this._eventHandlers.handleInputStart}
          @input-reset=${this._eventHandlers.handleInputReset}
        ></search-field-with-suggestions>

        <search-button @click=${this._handleSearchButtonClick}></search-button>
      </div>
      <simple-search-examples
        .examples=${h.EXAMPLES}
        @example-selected=${this._handleExampleSelected}
      ></simple-search-examples>
    `}};g.styles=[u.default],a([(0,r.state)(),n("design:type",String)],g.prototype,"_value",void 0),a([(0,r.state)(),n("design:type",String)],g.prototype,"_term",void 0),a([(0,r.state)(),n("design:type",Boolean)],g.prototype,"_hideSuggestions",void 0),g=a([(0,r.customElement)("simple-search-view"),n("design:paramtypes",[])],g),t.default=g},9309:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scrollIntoView=void 0;const a=i(7921);class n extends a.AsyncDirective{render(){}update(e,[t]){if(!t)return;const i=this._getElementFromPart(e);i?.parentElement&&this._scrollParentToChild(i.parentElement,i)}_getElementFromPart(e){return"element"in e&&e.element?e.element:null}_isElementViewable(e,t,i){return t.top>=e.top&&t.bottom<=e.top+i.height}_calculateScrollDirection(e,t){const i=t.top-e.top,a=t.bottom-e.bottom;return{scrollTop:i,scrollBot:a,shouldScrollTop:Math.abs(i)<Math.abs(a)}}_scrollParentToChild(e,t){const i=e.getBoundingClientRect(),a={height:e.clientHeight,width:e.clientWidth},n=t.getBoundingClientRect();if(this._isElementViewable(i,n,a))return;const o=this._calculateScrollDirection(i,n),s=o.shouldScrollTop?o.scrollTop:o.scrollBot;e.scrollTop+=s}}t.scrollIntoView=(0,a.directive)(n)},4384:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(6337),r=i(2924),l=i(9441),c=i(6781),d=o(i(839)),h=i(9309);let u=class extends s.LitElement{constructor(){super(...arguments),this.suggestData=[],this.highlightedSuggestionIndex=-1,this.itemIdKey="",this.itemLabelKey="",this.subTextKey="",this.title="",this.hasApiResponse=!1}_handleSelect(e){this.dispatchEvent(new CustomEvent("suggestion-selected",{detail:e,bubbles:!0,composed:!0}))}render(){return s.html`
      ${this.title?s.html`<h3 class="title">${this.title}</h3>`:s.nothing}
      <ul class="list">
        ${this.hasApiResponse?this.suggestData&&0!==this.suggestData.length?(0,l.map)(this.suggestData,(e,t)=>s.html`
                <li
                  class="item ${this.highlightedSuggestionIndex===t?"-selected":""}"
                  @mousedown="${()=>this._handleSelect(e)}"
                  ${h.scrollIntoView(this.highlightedSuggestionIndex===t)}
                >
                  ${(0,c.unsafeHTML)(e?.highlight||e?.[this.itemLabelKey])}
                  ${this.subTextKey&&e?.[this.subTextKey]?s.html`<span class="sub">
                        alias: ${e[this.subTextKey]}</span
                      >`:s.nothing}
                </li>
              `):s.html`<li class="item -empty">No results</li>`:s.nothing}
      </ul>
    `}};u.styles=[d.default],a([(0,r.property)({type:Array}),n("design:type",Array)],u.prototype,"suggestData",void 0),a([(0,r.property)({type:Number}),n("design:type",Number)],u.prototype,"highlightedSuggestionIndex",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"itemIdKey",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"itemLabelKey",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"subTextKey",void 0),a([(0,r.property)(),n("design:type",String)],u.prototype,"title",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],u.prototype,"hasApiResponse",void 0),u=a([(0,r.customElement)("search-field-suggestions-list")],u),t.default=u},3612:function(e,t,i){"use strict";var a=this&&this.__decorate||function(e,t,i,a){var n,o=arguments.length,s=o<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,i,a);else for(var r=e.length-1;r>=0;r--)(n=e[r])&&(s=(o<3?n(s):o>3?n(t,i,s):n(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s},n=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(6337),r=i(2924),l=i(9441);i(6551),i(4384);const c=i(6507),d=i(9544),h=i(1737),u=i(8535),g=o(i(9511)),p="id",f="term",b="alias_of";function m(e){return{valueMappings:{valueKey:e?.valueMappings?.valueKey||p,labelKey:e?.valueMappings?.labelKey||f,aliasOfKey:e?.valueMappings?.aliasOfKey||b},titleMappings:e?.titleMappings||{}}}let _=class extends s.LitElement{constructor(e,t,i,a,n){super(),this.placeholder=e,this.suggestAPIURL="",this.suggestAPIQueryParam="",this.hideSuggestions=!1,this.term="",this.value="",this.label="",this.showSuggestions=!1,this.suppressSuggestions=!1,this.hasApiResponse=!1,this.hasUserInput=!1,this.currentSuggestionIndex=-1,this.currentSuggestionColumnIndex=0,this.suggestData={},this._suggestionKeysArrayInternal=[],this.handleUpDownKeys=e=>this._keyboardHandler.handleUpDownKeys(e),this.handleSuggestionSelected=e=>this._selectionHandler.handleSuggestionSelected(e),this.handleInput=e=>this._inputHandler.handleInput(e),this.handleClick=()=>this._inputHandler.handleClick(),this.handleFocusIn=()=>this._inputHandler.handleFocusIn(),this.handleFocusOut=()=>this._inputHandler.handleFocusOut(),this.handleInputReset=()=>this._inputHandler.handleInputReset(),this.hideSuggestionsMethod=()=>{this.showSuggestions=!1},this.selectSuggestion=e=>this._selectionHandler.select(e),this.searchWithoutSuggestion=e=>this._selectionHandler.searchWithoutSelect(e),this.selectCurrentSuggestion=()=>{if(this.showSuggestions&&-1!==this.currentSuggestionIndex){const e=this.suggestData[this._suggestionKeysArray[this.currentSuggestionColumnIndex]][this.currentSuggestionIndex];this.selectSuggestion(e),this.resetKeyboardSelection(),this.hideSuggestionsMethod()}},this.executeSearchWithoutSuggestion=()=>{this.searchWithoutSuggestion(this.term)},this.closeSuggestions=()=>{this.hideSuggestionsMethod(),this.suppressSuggestions=!0},this.hideControllerSuggestions=()=>{this._controller.hideSuggestions()},this.showControllerSuggestions=()=>{this._controller.showSuggestions()},this.clearControllerSuggestData=()=>{this._controller.clearSuggestData()},this.resetKeyboardSelection=()=>{this._keyboardHandler.resetSelection()},this.suggestAPIURL=t,this.suggestAPIQueryParam=i,this._searchFieldOptionsInternal=m(n),this._controller=new c.SearchFieldController(this),this._keyboardHandler=new d.SuggestionKeyboardHandler(this),this._selectionHandler=new h.SuggestionSelectionHandler(this),this._inputHandler=new u.InputEventHandler(this),a&&a.appendChild(this)}get apiTask(){return this._controller.apiTask}get _searchFieldOptions(){return this._searchFieldOptionsInternal}get _suggestionKeysArray(){return this._suggestionKeysArrayInternal}set _suggestionKeysArray(e){this._suggestionKeysArrayInternal=e}willUpdate(e){e.has("suggestAPIURL")&&this._controller.setSuggestURL(this.suggestAPIURL,this.suggestAPIQueryParam),e.has("options")&&this.options&&(this._searchFieldOptionsInternal=m(this.options)),e.has("hideSuggestions")&&(this.showSuggestions=!this.hideSuggestions)}_handleStepThroughColumns(){this.currentSuggestionIndex>this.suggestData[this._suggestionKeysArray[this.currentSuggestionColumnIndex]]?.length-1&&(this.currentSuggestionIndex=this.suggestData[this._suggestionKeysArray[this.currentSuggestionColumnIndex]]?.length-1)}render(){return s.html`
      <search-field
        exportparts="input-field"
        value=${this.term}
        .placeholder=${this.placeholder}
        @input-change=${this.handleInput}
        @click=${this.handleClick}
        @focusin=${this.handleFocusIn}
        @focusout=${this.handleFocusOut}
        @keydown=${this.handleUpDownKeys}
        @input-reset=${this.handleInputReset}
      ></search-field>
      <div class="suggestions-container">
        ${this.suggestData&&this.showSuggestions&&this.hasApiResponse&&!this.hideSuggestions?s.html`
              ${(0,l.map)(this._suggestionKeysArray,(e,t)=>s.html`
                    <div class="column">
                      <search-field-suggestions-list
                        .suggestData=${this.suggestData[e]}
                        .highlightedSuggestionIndex="${t===this.currentSuggestionColumnIndex?this.currentSuggestionIndex:-1}"
                        .itemIdKey=${"term"}
                        .itemLabelKey=${"term"}
                        .subTextKey=${this._searchFieldOptions?.valueMappings?.aliasOfKey}
                        .hasApiResponse=${this.hasApiResponse}
                        title=${this._searchFieldOptions?.titleMappings?.[e]}
                        @suggestion-selected=${this.handleSuggestionSelected}
                      ></search-field-suggestions-list>
                    </div>
                  `)}
            `:s.nothing}
      </div>
    `}};_.styles=[g.default],a([(0,r.property)(),n("design:type",String)],_.prototype,"suggestAPIURL",void 0),a([(0,r.property)(),n("design:type",String)],_.prototype,"suggestAPIQueryParam",void 0),a([(0,r.property)({type:Object}),n("design:type",Object)],_.prototype,"options",void 0),a([(0,r.property)({type:Boolean}),n("design:type",Boolean)],_.prototype,"hideSuggestions",void 0),a([(0,r.state)(),n("design:type",String)],_.prototype,"term",void 0),a([(0,r.state)(),n("design:type",String)],_.prototype,"value",void 0),a([(0,r.state)(),n("design:type",String)],_.prototype,"label",void 0),a([(0,r.state)(),n("design:type",Boolean)],_.prototype,"showSuggestions",void 0),a([(0,r.state)(),n("design:type",Boolean)],_.prototype,"suppressSuggestions",void 0),a([(0,r.state)(),n("design:type",Boolean)],_.prototype,"hasApiResponse",void 0),a([(0,r.state)(),n("design:type",Boolean)],_.prototype,"hasUserInput",void 0),a([(0,r.state)(),n("design:type",Number)],_.prototype,"currentSuggestionIndex",void 0),a([(0,r.state)(),n("design:type",Number)],_.prototype,"currentSuggestionColumnIndex",void 0),a([(0,r.state)(),n("design:type",Object)],_.prototype,"suggestData",void 0),a([(0,r.state)(),n("design:type",Array)],_.prototype,"_suggestionKeysArrayInternal",void 0),_=a([(0,r.customElement)("search-field-with-suggestions"),n("design:paramtypes",[String,String,String,HTMLElement,Object])],_),t.default=_},8535:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InputEventHandler=void 0;t.InputEventHandler=class{constructor(e){this.handleInput=e=>{let t;if(e instanceof CustomEvent)t=String(e.detail)||"";else{const i=e.target;t=i?.value||""}this.host.term=t,this.host.hasUserInput=!0,this.host.suppressSuggestions&&(this.host.suppressSuggestions=!1),this.host.dispatchEvent(new CustomEvent("input-term",{detail:t,bubbles:!0,composed:!0})),this.host.term.length<3&&(this.host.hideControllerSuggestions(),this.host.clearControllerSuggestData())},this.handleClick=()=>{this.host.resetKeyboardSelection()},this.handleFocusIn=()=>{this.host.term?.length>3&&!this.host.suppressSuggestions&&this.host.hasUserInput&&this.host.showControllerSuggestions()},this.handleFocusOut=()=>{this.host.hideSuggestionsMethod()},this.handleInputReset=()=>{this.host.term="",this.host.value="",this.host.label="",this.host.showSuggestions=!1,this.host.hasUserInput=!1,this.host.clearControllerSuggestData(),this.host.hideSuggestionsMethod(),this.host.dispatchEvent(new CustomEvent("input-reset"))},this.host=e}resetInputState(){this.host.term="",this.host.value="",this.host.label=""}shouldShowSuggestions(){return!!(this.host.term&&this.host.term.length>=3)}}},6507:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchFieldController=void 0;const a=i(9483),n=i(582),o=i(4191);t.SearchFieldController=class{constructor(e){this._getSuggestURL=null,this.host=e,this._initializeApiTask()}_initializeApiTask(){this.apiTask=new a.Task(this.host,(0,o.debounce)(async e=>{const t=e[0];if(t&&t.length>=3&&this.host.hasUserInput){this.host.showSuggestions=!0;if(this.host.hasApiResponse&&Object.keys(this.host.suggestData).length>0||(this.host.hasApiResponse=!1),!this._getSuggestURL)throw new Error("Suggest URL function is not set");try{const{data:e}=await n.axios.get(this._getSuggestURL(t));let i;return Array.isArray(e)?(i={data:e},this.host._suggestionKeysArray=["data"]):(i=e,this.host._suggestionKeysArray=Object.keys(e)),this.host.suggestData=i,this.host.hasApiResponse=!0,i}catch(e){throw this.host.hasApiResponse=!0,e}}return(!t||t.length<3)&&(this.host.showSuggestions=!1,this.host.hasApiResponse=!1),{}},300),()=>[this.host.term])}setSuggestURL(e,t){this._getSuggestURL=i=>{const a=new URL(e);return a.searchParams.set(t,i),a.toString()}}hideSuggestions(){this.host.showSuggestions=!1}showSuggestions(){this.host.showSuggestions=!0}clearSuggestData(){this.host.suggestData={},this.host.hasApiResponse=!1}}},9544:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionKeyboardHandler=void 0;t.SuggestionKeyboardHandler=class{constructor(e){this.handleUpDownKeys=e=>{switch(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)&&this.host.showSuggestions&&-1!==this.host.currentSuggestionIndex&&e.preventDefault(),e.key){case"ArrowLeft":this._handleArrowLeft();break;case"ArrowRight":this._handleArrowRight();break;case"ArrowUp":this._handleArrowUp();break;case"ArrowDown":this._handleArrowDown();break;case"Enter":this._handleEnter();break;case"Escape":this._handleEscape()}},this.host=e}_handleArrowLeft(){this.host.currentSuggestionColumnIndex-1<0?this.host.currentSuggestionColumnIndex=this.host._suggestionKeysArray?.length-1:(this.host.currentSuggestionColumnIndex--,this._handleStepThroughColumns())}_handleArrowRight(){this.host.currentSuggestionColumnIndex+1>this.host._suggestionKeysArray?.length-1?this.host.currentSuggestionColumnIndex=0:(this.host.currentSuggestionColumnIndex++,this._handleStepThroughColumns())}_handleArrowUp(){this.host.currentSuggestionIndex-1<0?this.host.currentSuggestionIndex=this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]]?.length-1:this.host.currentSuggestionIndex--}_handleArrowDown(){this.host.currentSuggestionIndex+1>this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]]?.length-1?this.host.currentSuggestionIndex=0:this.host.currentSuggestionIndex++}_handleEnter(){this.host.showSuggestions&&-1!==this.host.currentSuggestionIndex?this.host.selectCurrentSuggestion():this.host.executeSearchWithoutSuggestion()}_handleEscape(){this.host.closeSuggestions()}_handleStepThroughColumns(){this.host.currentSuggestionIndex>this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]]?.length-1&&(this.host.currentSuggestionIndex=this.host.suggestData[this.host._suggestionKeysArray[this.host.currentSuggestionColumnIndex]]?.length-1)}resetSelection(){this.host.currentSuggestionIndex=-1,this.host.currentSuggestionColumnIndex=0}}},1737:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionSelectionHandler=void 0;t.SuggestionSelectionHandler=class{constructor(e){this.select=e=>{const t=e[this.host._searchFieldOptions.valueMappings.valueKey]||"",i=e[this.host._searchFieldOptions.valueMappings.labelKey]||"";this.host.value=this._formatSuggestionValue(t),this.host.label=this._formatSuggestionValue(i),this.host.suppressSuggestions=!0,this.host.hasUserInput=!1,this.host.dispatchEvent(new CustomEvent("new-suggestion-selected",{detail:{id:this.host.value,label:this.host.label},bubbles:!0,composed:!0}))},this.searchWithoutSelect=e=>{this.host.suppressSuggestions=!0,this.host.hasUserInput=!1,this.host.dispatchEvent(new CustomEvent("search-term-enter",{detail:e,bubbles:!0,composed:!0})),this.host.hideSuggestionsMethod()},this.handleSuggestionSelected=e=>{this.select(e.detail)},this.host=e}_hasMultipleSuggestionColumns(){return this.host._suggestionKeysArray.length>1}_escapeString(e){return String(e||"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')}_formatSuggestionValue(e){const t=this._escapeString(e);return this._hasMultipleSuggestionColumns()?`"${t}"`:t}}},6209:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsRelation=void 0;const i={dataset:!0,genotype:!0,pathogenicity_prediction:!0,id:!0,location:!0};t.supportsRelation=e=>!(e in i)},3494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNIFICANCE_TERM_SET=t.SIGNIFICANCE_TERMS=t.GENOTYPE_KEYS=t.FREQUENCY_DATASETS=t.CONDITION_NODE_KIND=t.CONDITION_TYPE=void 0,t.CONDITION_TYPE={term:"term",dataset:"dataset",genotype:"genotype",frequency:"frequency",pathogenicity_prediction:"pathogenicity_prediction",quality:"quality",type:"type",significance:"significance",consequence:"consequence",consequence_grouping:"consequence_grouping",sift:"sift",polyphen:"polyphen",adv_frequency:"adv_frequency",disease:"disease",gene_symbol:"gene",variant_id:"id",location:"location"},t.CONDITION_NODE_KIND={condition:0,group:1},t.FREQUENCY_DATASETS=["gem_j_wga","jga_wgs","jga_wes","jga_snp","tommo","ncbn","gnomad_genomes","gnomad_exomes"],t.GENOTYPE_KEYS=["aac","arc","rrc","aoc","roc","ooc","hac","hrc","hoc"],t.SIGNIFICANCE_TERMS=["NC","P","PLP","LP","LPLP","DR","ERA","LRA","URA","CS","A","RF","AF","PR","B","LB","CI","AN","O","US","NP"],t.SIGNIFICANCE_TERM_SET=new Set(t.SIGNIFICANCE_TERMS)},5833:function(e,t,i){"use strict";var a,n,o,s,r,l,c=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),d=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),n=0;n<i.length;n++)"default"!==i[n]&&c(t,e,i[n]);return d(t,e),t}),u=this&&this.__classPrivateFieldGet||function(e,t,i,a){if("a"===i&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.storeManager=void 0;const g=h(i(2543)),p=i(3522),f=i(5640);o=new WeakMap,s=new WeakMap,r=new WeakMap,n=new WeakSet,l=function(){this.setData("isFetching",!1),window.addEventListener("popstate",p.handleHistoryChange.bind(this)),this.subscribe("searchMode",this.searchMode.bind(this))},t.storeManager=new class{constructor(){n.add(this),o.set(this,{}),s.set(this,new Map),r.set(this,{karyotype:"",searchMode:"",simpleSearchConditionsMaster:[],simpleSearchConditions:{},columns:[],searchResults:[],numberOfRecords:0,offset:0,rowCount:0,appStatus:"preparing",isLogin:!1,isFetching:!1,isStoreUpdating:!1,displayingRegionsOnChromosome:{}}),u(this,n,"m",l).call(this)}getData(e){return this._deepCopy(u(this,r,"f")[e])}setData(e,t){const i=u(this,r,"f")[e];"object"==typeof t&&null!==t?g.isEqual(i,t)||(u(this,r,"f")[e]=structuredClone(t),this.publish(e)):Object.is(i,t)||(u(this,r,"f")[e]=t,this.publish(e))}subscribe(e,t){u(this,s,"f").has(e)||u(this,s,"f").set(e,new Set),u(this,s,"f").get(e)?.add(t)}bind(e,t){void 0===u(this,o,"f")[e]?u(this,o,"f")[e]=[t]:u(this,o,"f")[e].push(t)}unbind(e,t){if(u(this,o,"f")[e]){const i=u(this,o,"f")[e].indexOf(t);-1!==i&&(u(this,o,"f")[e].splice(i,1),0===u(this,o,"f")[e].length&&delete u(this,o,"f")[e])}}publish(e){u(this,s,"f").get(e)?.forEach(t=>t(u(this,r,"f")[e])),u(this,o,"f")[e]&&u(this,o,"f")[e].forEach(t=>{const i=this._deepCopy(u(this,r,"f")[e]);"function"==typeof t[e]?t[e](i):console.warn("This binding has no corresponding function.",t,e)})}_deepCopy(e){return null===e||"object"!=typeof e?e:structuredClone(e)}setResults(e,t){this.setData("isStoreUpdating",!0);const i=Array(this.getData("numberOfRecords")).fill(null);this.getData("searchResults").forEach((e,t)=>{e&&(i[t]=e)}),e.forEach((e,a)=>{i[t+a]=e}),this.setData("searchResults",i),this.publish("searchResults"),this.setData("isFetching",!1),this.setData("isStoreUpdating",!1)}getRecordByIndex(e){if(this.getData("isStoreUpdating"))return"loading";const t=this.getData("offset")+e;if(t<u(this,r,"f").numberOfRecords){const i=u(this,r,"f").searchResults[t];return i?this._deepCopy(i):((0,f.executeSearch)(this.getData("offset")+e),"loading")}return"out of range"}getSelectedRecord(){return void 0!==u(this,r,"f").selectedRow?u(this,r,"f").searchResults[u(this,r,"f").offset+u(this,r,"f").selectedRow]:null}async fetchLoginStatus(){try{if("http://localhost:8000"===window.location.origin)return void this.setData("isLogin",!1);const e=new AbortController,t=setTimeout(()=>e.abort(),1e4),i=await fetch(`${window.location.origin}/auth/status`,{signal:e.signal}).catch(()=>{throw new Error("Request failed or timed out")});clearTimeout(t),i instanceof Response&&(200===i.status?this.setData("isLogin",!0):console.warn(`Not logged in: Received status ${i.status}`))}catch(e){console.error("Error fetching auth status:",e),this.setData("isLogin",!1)}}searchMode(e){this.setData("isStoreUpdating",!0);try{switch(this.setData("offset",0),this.setData("selectedRow",void 0),this.setData("searchResults",[]),this.setData("numberOfRecords",0),this.setData("rowCount",0),document.body.dataset.searchMode=e,e){case"simple":(0,p.reflectSimpleSearchConditionToURI)(),this.publish("simpleSearchConditions");break;case"advanced":{const e=this.getData("advancedSearchConditions");(0,p.setAdvancedSearchCondition)(e),(0,p.reflectAdvancedSearchConditionToURI)();break}}this.setData("appStatus","searching"),(0,f.executeSearch)(0,!0)}finally{this.setData("isStoreUpdating",!1)}}}},6364:function(e,t,i){"use strict";t.W=function(){const e=new URLSearchParams(window.location.search);"advanced"===e.get("mode")?a.storeManager.setData("searchMode","advanced"):a.storeManager.setData("searchMode","simple")};const a=i(5833)},3522:function(e,t,i){"use strict";var a,n=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var n=Object.getOwnPropertyDescriptor(t,i);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,n)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||(a=function(e){return a=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},a(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i=a(e),s=0;s<i.length;s++)"default"!==i[s]&&n(t,e,i[s]);return o(t,e),t});Object.defineProperty(t,"__esModule",{value:!0}),t.extractSearchCondition=h,t.setSimpleSearchCondition=function(e,t){u({[e]:t})},t.getSimpleSearchCondition=function(e){return c.storeManager.getData("simpleSearchConditions")?.[e]},t.getSimpleSearchConditionMaster=function(e){return c.storeManager.getData("simpleSearchConditionsMaster").find(t=>t.id===e)},t.reflectSimpleSearchConditionToURI=g,t.resetSimpleSearchConditions=function(){const e=c.storeManager.getData("simpleSearchConditionsMaster"),t={};for(const i of e)switch(i.type){case"string":case"boolean":if("term"!==i.id){t[i.id]=i.default}break;case"array":{const e={};for(const t of i.items)e[t.id]=t.default;t[i.id]=e}}u(t)},t.handleHistoryChange=function(e){u(r.parse(window.location.search.substring(1)),!0)},t.setAdvancedSearchCondition=function(e){c.storeManager.setData("advancedSearchConditions",e),c.storeManager.setData("appStatus","searching"),p(),(0,l.executeSearch)(0,!0)},t.reflectAdvancedSearchConditionToURI=p;const r=s(i(5373)),l=i(5640),c=i(5833);let d=r.parse(window.location.search.substring(1));function h(e={}){const t=c.storeManager.getData("simpleSearchConditionsMaster"),i={},a=new Map(t.map(e=>[e.id,e]));for(const[t,n]of Object.entries(e)){const e=a.get(t);if(e)switch(e.type){case"array":{const a={};if("object"==typeof n&&null!==n)for(const[t,i]of Object.entries(n)){const n=e.items?.find(e=>e.id===t)?.default;i!==n&&(a[t]=i)}Object.keys(a).length>0&&(i[t]=a);break}case"boolean":case"string":n!==e.default&&(i[t]=n);break}}return i}function u(e,t){const i={...c.storeManager.getData("simpleSearchConditions")};Object.keys(e).forEach(t=>{const a=t;i[a]=e[a]}),c.storeManager.setData("simpleSearchConditions",i),t||"simple"!==c.storeManager.getData("searchMode")||g(),c.storeManager.setData("appStatus","searching"),(0,l.executeSearch)(0,!0)}function g(){const e=c.storeManager.getData("simpleSearchConditions"),t=h(e),i=e.term||"";0===Object.keys(t).length&&""===i?d={mode:"simple"}:(d={mode:"simple",...t},""!==i?d.term=i:delete d.term);const a=`${window.location.origin}${window.location.pathname}?${r.stringify(d)}`;window.history.pushState(d,"",a)}function p(){d.mode="advanced",window.history.pushState(d,"",`${window.location.origin}${window.location.pathname}?mode=advanced`)}setTimeout(()=>{!function(){const e=new URLSearchParams(window.location.search);"advanced"===e.get("mode")?c.storeManager.setData("searchMode","advanced"):c.storeManager.setData("searchMode","simple")}()},100)},5056:function(e,t){"use strict";function i(){return window.matchMedia("(hover: hover) and (pointer: fine)").matches}function a(){return!i()}function n(){return"ontouchstart"in window||navigator.maxTouchPoints>0}Object.defineProperty(t,"__esModule",{value:!0}),t.supportsMouseInteraction=i,t.isTouchDevice=a,t.hasTouchSupport=n,t.getDeviceCapabilities=function(){return{supportsMouseInteraction:i(),isTouchDevice:a(),hasTouchSupport:n()}}},3493:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEl=function(e,t={}){const i=document.createElement(e);if(t.class)if("string"==typeof t.class){const e=t.class.trim().split(/\s+/).filter(Boolean);e.length&&i.classList.add(...e)}else{const e=t.class.filter(Boolean);e.length&&i.classList.add(...e)}if(t.attrs)for(const[e,a]of Object.entries(t.attrs))i.setAttribute(e,a);if(t.dataset)for(const[e,a]of Object.entries(t.dataset))i.dataset[e]=a;t.domProps&&Object.assign(i,t.domProps);null!=t.text&&(i.textContent=t.text);if(t.children)for(const e of t.children)i.appendChild(e instanceof Node?e:document.createTextNode(String(e)));return i}},8332:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectRequired=function(e,t,i="unknown"){const a=e.querySelector(t);if(!a)throw new Error(`selector not found: ${t} (in ${i})`);return a},t.selectOrNull=function(e,t){return e.querySelector(t)}},2634:function(){}}]);
//# sourceMappingURL=161-7f43a27e730690095088.js.map